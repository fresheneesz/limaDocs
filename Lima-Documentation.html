<!DOCTYPE HTML PUBLIC "-;F;W3C;;DTD HTML 4.01;;EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	
	<link rel="shortcut icon" href="" type="image/x-icon">
	<title>The Lima Programming Language</title>
	
	<script src="prettify/prettify_modified_for_lima.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="prettify/prettify.css" />
	
	<script type="text/javascript" src="jquery.js"></script>
	
	<style type="text/css">
		body
		{	background-image:url(white%20sidestriped%20bg%20light.gif);
			margin:auto;
		}
		body {
			max-width:1000px;				
		}
		#header {
			max-width:1000px;				
		}
		
		.loadingGif {
			position: fixed;
			top: 0; left: 0;	
		}
			.loadingGif img {
				width: 80px;
			}
		
		body, .noncode
		{	font-family: helvetica,arial,freesans,clean,sans-serif ;
			line-height: 1.4;
			font-size:14px;
		}
		
		h2
		{	margin:0 0 7px 0;
		}
		h5
		{	margin:5px 0 0 0;
		}
		p, div.example, div.elaboration
		{	margin:10px 0;
		}
		td
		{	padding-top:5px;
		}
		th
		{	font-size:12px;
		}
		
		code
		{	font-size:12px;
			line-height: 100%;
		}
		
		.innerWord {
			color:rgb(200,0,0);
		}
		.forceComment code, .forceComment {
			color: grey;
		}
		
		.copiedNote {	
			color: rgb(70,70,70);
		}
		.copiedNoteDuplicate {
			color: rgb(140,140,140);
		}
		
		.mainBox, .normalBox, .codeBox, .codeArea, .subBox1, .subBox2 
		{	border:solid 1px rgb(230,230,230);
		}
		.mainBox, .normalBox, .codeBox, .subBox1, .subBox2 
		{	margin: 10px auto;
			padding: 3px 10px;
		}
		.mainBox, .normalBox, .subBox1, .subBox2 
		{	background-color:#FFFFFF;
		}
		.codeBox, .codeArea
		{	background-color:#F7F7F7;
		}
		
		.example .collapsable_header, .elaboration .collapsable_header  {
			font-size: 11px;
			color: rgb(150, 80, 80);	
			font-family: "Comic Sans MS";
		}
		
		.nearTop {
			vertical-align: top;
			padding-top: 50px;
		}
		
		.clickable
		{	cursor:pointer;
		}
			.clickable:hover
			{	text-decoration:underline;
			}
		
		.innerBorder
		{	border: 1px solid black;
		}
		.unbreakable
		{	white-space: nowrap;
		}
		
		#openAll, #closeAll
		{	text-decoration: underline;
			font-style: italic;
			cursor: pointer;
		}
		#openAll:hover, #closeAll:hover
		{	font-style: normal;
		}
		
		.inlineList li
		{	display: inline;
		}
		
		#header {
			/*position: fixed;*/
			background-color: lightgray;	
			margin-top: 2px;
			padding: 0px 0;
			width: 100%;
		}
			#fixedHeader {
				position: fixed;
				display: inline;
				margin-left: 70px;
				background-color: lightgray;
			}
				#contentsContainer {
					position: relative;	
				}	
					#contents {
						position: absolute;
						left: 0px;
						top: -15px;
						border: 1px solid grey;
					}
						#contents li {	
							cursor: pointer;
						}
							#contents li .contentsButton:hover {	
								background-color: white;
							}
					
				#contentsButton {
					font-size: 20px;
					border: 1px solid gray;	
					margin: 4px 90px;
					cursor: pointer;
					padding: 0px 5px;
				}
				#contents, #contentsButton {
					background-color: rgb(240,240,240);					
				}
					.rightClickMenu {
						background-color: white;
						border: 1px solid gray;
						cursor: pointer;
					}
			
			#topTitle {
				font-size: 31px;
				font-weight: bold;	
				display: inline;
				margin-left: 5px;
			}
			
		#top {
			/*margin-top: 45px;*/
				
		}
		
		.operationsLevel {
			font-size: 12px;		
			font-weight: bold;
			text-align: right;
		}
		
		#comment {
			width:100%;
			height:200px;
		}
	</style>
</head>

<body>
	<div id="header">
		<div id="topTitle">The Lima Programming Language</div>
		<div id="fixedHeader">
			<div id="contentsButton">Contents</div>
			<div id="contentsContainer">
				<ul id="contents" style="display:none;"></ul>
			</div>
		</div>
	</div>

	<div class=loadingGif><img src="loading_transparent_4.gif"></div>

	<div id="top"></div>
		
		<span id="openAll">Open All Sections</span>  &nbsp;&nbsp;&nbsp;  <span id="closeAll">Close All Sections</span>
	
	<div class="mainBox mainTitle" title="Introduction">
		<p> Lima (pronounced "Lie-muh") is a high-level optionally-typed platform-independant language.
		    It allows seamless language extension via parsers, and automatic optimizations via optimizer modules.
        </p>
		<p>	Lima is made to be easy (and terse) to write.
            Like separating the concerns of style from structure with HTML and CSS allows much easier redesign of pages,
            Lima allows separating the concerns of optimization from program operation, allowing much easier optimizations to be built and reused.
			Optimizations are intended to be handled by the compiler (and third party optimizer plugins) 
				- a Lima program should never have to be hand-optimized.
			Input behavior (probability of certain types of inputs) can be specified so that the optimizers can
				take all things into consideration.
			All you should need to do is specify the behavior of your program. 
			Lima is designed to give you that freedom.
		</p>
		<p>	Lima is intended to be zero-configuration. 
			Make files or their like aren't needed to compile a single project.
			Settings that require compiler flags or similar in other languages would be included in the source files themselves
				- so that there is only one source of truth (no pun intended).
		</p>
		
		<p>	Without further ado, some code examples:
			<br>
			<div class=codeBox><code>
			
			target[x86.win32  ppc.mac  jvm]     ;; Cross compiles - the 'target' declares target platforms and formats to compile to
			
			var websocket = load['websocket']   ;; external module loading
			
			string lastWords = 'Goodbye World.' ;; module variable - similar to, but safer than, global variables
			y = 5                               ;; implicit variable declarations			
			
			;; many operating systems use 'main' as the <span class="entryPoint forceComment"></span> for the program (e.g. Windows) 
			main = fn:
				var myVariable         ;; Variable declaration
				myVariable = 'Hello?'  ;; Assignment
				int[x=8 y]             ;; declaration and initialization
				
				z = 5 ;; throws exception - no implicit variable declartions in functions
				
				bool can_underscores_be_used_in_variables=true   ;; but probably shouldn't very often
				
				GunIt[lastWords]       ;; function call
				
				if y < x:              ;; Conditions
					x += y
				 else: 
					x -= y
				
				var numbers = {1 2 3 4 5}          ;; Lists/arrays
				
				var cubedList = numbers.map[v^3]  ;; List comprehensions
				var evens = numbers[[v%2==0]] ;; List slices (here getting a list of the even values)
				
				var square = fn x:      ;; first class nested functions
					ret x^2             ;; exponentiation operator
				
				var cat = 				;; Objects
				{	legs = square[2]	;; implicit member declarations	
					sound = 'meooow'
					'siblings': {'Mr TFeathres' 'Furkrisake' 'Pawscat'}
					{'a' 'b' 3}: 'paws'   ;; objects/lists can be keys
					makeNoise = fn:		  ;; object methods
						wout sound
				}
				
				var race = fn winner otherRunners<span class=splatOperator></span>:   ;; <span class='splat forceComment'>Splats</span> (here, being used for varargs)
				    wout['The winner is: 'winner@]  ;; @ stands for a newline - like \n in C
				    wout['Runners up: '@]
				    df otherRunners runner:	      ;; for-each style loops
				        wout[runner@]
				
				;; Destructuring assignments (x gets cat.legs - the value 4, myvariable gets cat.bam[1] - the value 2)
				{legs=x bam={1:myVariable}} = cat 


			</code></div>
		</p>
		
		<p>	Lima has a few defining attributes:
			<ul><li><h5>Declarative programming</h5>
					Most languages can be described as imperative programming, where programmers tell the computer not only what to do, 
						but how to do it.
					This places a large burden on the programmer to optimize their code. 
					Lima aims to separate optimization from program description through a compiler extendable with 3rd party optimization packages.
					While the syntax of Lima is decidedly imperative-like, in Lima you leave the specifics of 'how' to the compiler, 
						allowing vastly simpler code in many cases.
					You may write one imperative implementation of an algorithm in Lima, but in compilation is transformed into a very different 
						algorithm if it would make the program run faster.
				
					<p>	Note that I'm using a definition of <i>declarative programming</i> that doesn't require 
						<a href="http://en.wikipedia.org/wiki/Referential_transparency_(computer_science)">referential transparency</a>.
					</p>
				</li>    
				<li><h5>Concurrent-by-default</h5>
					Since concurrency is usually an optimization, concurrency is implicit in Lima. 
					Haskell-like lazy evaulation and infinite lists can make Lima far easier to work with than a conventional language.
					<span class="copiedNote inputOrder" style="color:black;">
						Separate inputs to the program (separate files, different network requests, etc) 
							are treated as order-doesn't-matter by default, 
							meaning that, for example, multiple files will be opened and read out-of-program-order 
							if that is more efficient in some way (speed or memory).
					</span>
				</li>
				<li><h5>Dependent types (Value-based types)</h5>
					Values don't have types - rather types define a set of valid values. 
					For example <code>3</code> doesn't have the <code>int</code> type,
						rather <code>int</code> is a type which includes the value <code>3</code>.
					Taking the ideas of duck-typing and prototype-based programming to the extreme, 
						types are simply used to constrain the values that variables can take on.
					This releases the programmer from ridged typing systems that can make code brittle and hard to maintain or extend.
				</li>
				<li><h5>Performance-based logic</h5>
					Lima has the ability to not only write and use optimizer modules that make your programs run faster, 
                        but also has the ability to change the behavior of your program based on the abilities of the environment or 
                        individual machine your program is running on.
                    The basic function used to do this is <code>arb</code>, which allows the compiler to choose a value (from a list)
                        that will give your program the best performance.
				</li>
				<li><h5>Call-by-reference, Assign-by-value</h5>
					Most major object-oriented languages call-by-value (aka pass-by-value) and assign-by-value for primitives,
						and call-by-sharing and assign-by-sharing for objects.
					Lima unifies this behavior. 
					There is no distinction like 'primitive' in Lima - everything is an object.
					For all values, Lima does assignment by copying the value (getting a new object on assignment) 
						and does true calling by reference, meaning that a change to the variable in a function will affect 
						the variable in the calling scope.						
				</li>  
				<li><h5>Platform agnostic</h5>
					Most mainstream languages are not just languages, but platforms. Java, PHP, node.js, and Ruby all run on their own 
					   special virtual machines.
				    Lima doesn't have its own virtual machine or platform, but instead can compile to any platform it supports. 
				    This frees development of Lima from development of a runtime. 
                    Good runtimes are already available and the purpose of Lima is to make a better programing language, not a faster runtime environment.
				</li>   
			</ul>
			
			And also a couple interesting features:
			<ul><li><h5>Language Oriented Programming</h5>
					Lima has the ability to define "custom functions" that are called with user-defined syntax.
                    This goes beyond lisp and ruby dsls, which are essentially just lists of tokens, and into the realm of 
						real, arbitrarily structured language parsing.
					Custom functions can be a powerful way to extend the language and build domain-specific languages for 
						use inside larger programs.
				</li>
				<li><h5>Build-in package management</h5>
					Each source file fully describes its dependencies (with the help of a "package.lima" file), 
						and can automatically download and use the needed files.
					That way you never have to manually download and install *any* external package! Ever!
				</li>
                <li><h5>Unified Macro language</h5>
					Lima unifies compile-time and run-time languages, the former often referred to as a "macro language".
                    In Lima, Lima itself is its own macro and meta-programming language, and you can allow certain parts of the  
						program to run at compile-time if possible even for external inputs (using the <code>ready</code> attribute).
				</li>
				<li><h5>Transparent references</h5>
					<span class="copiedNote references" style="color:black;">
						References act like the variables they reference. 
						References do not need to be dereferenced when accessed or set.
						Other than one or two reference-specific operators, all operators and functions will treat references as if they 
							were the underlying value.
						This frees the programmer from worrying about many of the problems usually associated with pointers, 
							including keeping track of which variables are pointers, knowing when to dereference, 
							and creating one version of a function for pointers and one for non-pointers 
							(autoboxing is incompatible with the ideas of pass-by-reference and typeless values).
					</span>
				</li>
				<li>And some others: destructuring assignments, object slicing, mapping and comprehension syntax, 
					nesting comments, <span class=splat>splats</span>, chaining comparisons, generalized operator overloading,
					time slicing, and more.
				</li>
			</ul>
		</p>		
		
		<p>	Lima is also designed so that every construct in the language can be described by the programmer. 
			Not only are functions first-class, but so are flow-control constructs like <code>if</code> and <code>while</code>,
				and attribute constructs like <code>private</code> and <code>const</code>,
				and modules themselves (since modules represent objects).
			This give the programmer incredible power to build constructs that blend seamlessly with the core language, 
				but it also forces the language to be self-consistent - the syntax of Lima's language features aren't special cases.
			
			<div class="elaboration">
				<p>	Modern languages fall into two general categories: 
					<ul><li>Higher performance languages - languages made to write fast programs</li>
						<li>High-level languages - languages made for quickly writing programs</li>
					</ul>
				</p>
				<p>	Domain-specific languages are sometimes made to bridge this gap, but it comes at the sacrifice of 
						flexibility and generality. 
					Lima is a language that bridges this gap without making sacrifices. 
					It can do this by completely severing the tie between the code describing your program and the code 
						describing how to make your program run fast. 
					Code written in languages today have descriptions and optimizations that are hoplessly coupled. 
				</p>
				
				<p>	In Lima, these concerns are decoupled by:
					<ul><li>having the ability to fully describe expected input behavior of a program and,</li> 
						<li>the ability to write optimization extensions that can be used by a Lima compiler.</li>
					</ul> 
				</p>
				<p>	Not only are optimization extensions available, but since Lima provides few avenues for the programer 
						to hand-optimize their code, programmers are forced to write properly moduler optimization 
						extensions that can be reused by anybody.
					This philosophy allows Lima to be maximally expressive, 
						since the language doesn't need to provide mechanisms for the programmer to hand-optimize code. 
					Deciding whether to used a LinkedList vs ArrayList, Quick Sort vs Merge Sort, recursion vs iteration, 
						memoization, caching - can all be left to optimization plugins, at worst, ones you write yourself. 
				</p>
			</div>
		</p>
	</div>
	
	
	<div class="mainBox mainTitle" title="Basics">
		
		<div class="subBox1" title="Variables">
		
			<p>	In a given lima source file, which from now on I'll call a <span class="module"></span>, 
					you can define and initialize variables in a <span class=definitionBlock></span> (similar to the "global" scope). 
				
				Variable declarations include function definitions and object initializations. 
				You can declare a variable anywhere you could use a variable, including in functions 
					(e.g. <code>setToFour[int[newInt]]</code>).
			</p>
			<p>	Variables not in a <span class=definitionBlock></span> must always be defined with a type.  
				Variables that are defined in the <span class=definitionBlock></span>, 
					have the implied type <em>var</em> if none is specified
					(which is a type which includes all values except <code>nil</code> - similar to javascript's "var" and Java's "Object" type).
				The order of variable initializations doesn't matter in the <span class=definitionBlock></span>,
					but there can obviously be no circular definitions.
			</p>
			<p>Variable names can contain the characters a through z, A through Z, 0 through 9, and _ (underscore). 
				They can't start with a number.
			</p>
			<p>	Inside the <span class=definitionBlock></span>, every line must be a variable/member definition (or if statement).
			</p>
			<p>	Note that an uninitialized variables may not be used until they've been set. 
				Also, while module variables (variables defined in the <span class=definitionBlock></span> of a module
					are similar to global variables, they are not really global since they exist only in the module's scope.
				This is explained further in the section on objects.
			</p>
	
			<div class=example><code>
				var variable 			;; This is a module variable declaration
				anotherVariable = 5 	;; Variable declaration initialized to 5
				anotherVariable = 8 	;; This would throw an error because it is an implicit variable declaration of a variables that is already declared.
			</code></div>
	
			<p>	Also, variables declared in methods must be case-insensitive-unique in its scope, 
					which means that no method variable can have the same case-insenstive name in the same scope. 
				<div class=example><code>
				var y=5
				var y=6	;; errors because y can't be declared twice in the same scope
				var Y=7 ;; errors because Y is the same case-insensitive variable name as y
	
				var x = 
				{	var y	;; is legal, but this y must be accessed with either <span class=this></span> or <span class=self></span>, and the original y cannot be accessed at all within this object
					var x	;; is also legal, but has the same restrictions as y
					var[a=b=c=90]   ;; three variables declared and set to 90
					var[d=1         ;; two variables declared over multiple lines
						e=2
					] 		
					
					var: f g     ;; two variables using colon syntax
					var: h=1     ;; three variables using colon syntax on separate lines (with indendation)
						  i=45
						  j='something else'
						 
					var z = fn:
						var x	;; errors because x is already declared (actually in two places: the name of the object holding this function and there is a member with that name as well)
					
					fn! f = fn int[x y]:	;; errors because both x and y have already been declared above
						ret x+y
				}			
				</code></div>
			</p>
		</div>
		
		<div class="subBox1" title="Program Entry-points">
		
			<p>	Most of the time, the <a href="http://en.wikipedia.org/wiki/Entry_point">entry point</a> to the program will be a function called 'main' 
					(following the convention of C for operating systems that use a single entry-point).
				However, the entry-point is not necessarily 'main' and some operating systems (like Android) even have multiple program entry points.
			</p>
			<p>	The entrypoint has the following parameters: 
				<ol><li>A list of command-line arguments.</li>
					<li><code>signals</code> - the list of signals sent to the program</li>
				</ol>
			
				<div class="example open"><code>
                    main = fn {arg1 arg2} signals:
                        con.out.=cat['Sum: ' arg1+arg2 ''@]
                        change[signals]:
                            con.out.=cat["Got a new signal: " signals.sort[-k][0] ''@]
				</code></div>
			</p>
		</div>
		
		<div class="subBox1" title="Comments">
			
			As you've probably already seen, comments in lima begin with two semi-colons: <code>;;</code>.
			<table class="definitionTable">
				<tr><td>;;</td>	
					<td>Single-line comment (everything after it on the same line is a comment).
					</td>
				</tr>
				<tr><td>
						;;[
						;;]
					</td>	
					<td>Span-comment. 
						Can be used as a multi-line comment, or a comment within a line.
						Span-comments can nest, meaning that the <code>;;[</code> and <code>;;]</code> follow normal bracket-matching rules.
						This means that you can comment out a small part of code, and then comment out a larger part of code that includes the smaller commented out part - without rearranging the comment markers.
						
						<div class="example"><code>
							var x ;;[ a variable ;;] = 4
							;;[	var y
									var z ;;[ used somewhere else ;;]
							;;]
						</code></div>
						All comments are treated exactly like whitespace. 
						So, for example, <code>abc;;[;;]def</code> is two tokens, abc and def, not one abcdef token.
					</td>
				</tr>
			</table>
		</div>
	
		<div class="subBox1" title="Flow Control">
			<p>	Flow control in lima is relatively similar to other major languages.  
				You have an if construct:
				<div class=codeBox><code>
					if something == 5:
						;; do something
				</code></div>
			</p>
			<p>	a for-each style loop construct:			
				<div class=codeBox><code>
					df aList oneValue:
						;; do something with each value
				</code></div>
			</p>
			<p>	a while-style loop construct:			
				<div class=codeBox><code>
					int x = 0
					while x < 5:
						;; do something until x is greater than 4
				</code></div>
			</p>
			<p>	
				and exception throwing and catching:			
				<div class=codeBox><code>
					try:
						;; do stuff
						throw "Oops, a problem"
					 e:
						;; catch and handle exception
				</code></div>
			</p>
			<p>	There are also some more interesting flow control options, like lightweight thread syntax and event handling:
				<div class=codeBox><code>
					var done = false
					var file = thread: ret downloadLargeFile['someFileName.wtvz' 'utf-8']	;; runs this asynchronously
									
					file.wait:
						wout["It's finally done!"]
				</code></div>
			</p>
			<p>	The loop constructs have scoping rules like in C - variables created inside a df statement, 
					for example, will only exist within the loop block.  
				However, many (like if and try) do not define new scopes and thus variables defined within them can be used outside of them.
				In fact, the only core blocks that create new scopes are <code>df</code>, <code>while</code>, <code>thread</code>, and <code>fn</code>.
				All the flow-control constructs are detailed in the section <b>Predefined Custom Functions</b> 
					(tho not all things there are neccessarily flow-control).
			</p>
		</div>
		
		
		<div class="subBox1" title="Blocks">
			<p>	All of the flow control constructs can either be written using square-brackets as block delimiters:		
				<div class=codeBox><code>
					if[
					 i==5:
						;; do something
					]
				</code></div>
					or with indentation (whitespace) as block delimiters:	
				<div class=codeBox><code>
					if
					 i==5:
						;; do something
				</code></div>
			</p>
			<p>	Bracket-delimited blocks work as expected, but whitespace delimited blocks are more forgiving then their python counterparts.
				Here's how they work: 
				When a block is opened (by a custom function name like <code>if</code>), 
					anything that is more indented than the line in which the block is opened is treated as inside the block.
				Usually a block will have some data on which to operate preceding a colon.
				And tabs aren't allowed to be used as indenting (although they are allowed for non-relevant whitespace).
				
				<div class=example><code>
					if					;; block opened
					 i == 5:			;; indented *further* than if (opening sub-block)
					 	doSomething[]	;; indented further than if (only indented further than the condition for easier reading ; )
					 else:				;; even else needs to be indented *further* than if
					 	doSomeMoreStuff[]
					 	
					if x==5: if y<70:
						doSomething[]	;; this is run if x==5 & y<70
					 y < 100:			
						doSomeMore[]	;; this is run if x==5 & y<100
					;; note that theres no way to add another condition on the first if - with x==5 without putting "if y<70" on a new line
					
					if i==5: doSomething[]
					else: dontDoThis[]		;; this is actually a syntax error because else isn't inside the if block
					
					
					if i==5:
						doSomething[]			;; as ugly as this is, all 6 of these are in the same block, and is valid code
							doSomething[]
								doSomething[]
					 doSomething[]
					  doSomething[]
					 doSomething[]
					 
					;; more ugly but valid code
					;; only one of the function calls will happen
					if i==5:
					 doSomething[]			
					 i<10:
					 doSomething2[]	
					 else:
					 doSomething3[]
								
					 
					;; even more ugly but valid code
					;; this has the same behavior as the above example
					if i==5:
						doSomething[]			
						i<10:
							doSomething2[]	
							else:
								doSomething3[]
				</code></div>
			</p>
			<p>	Personally I like delimiting blocks with whitespace,
					but sometimes bracket delimited blocks are neccessary for reasonable code construction.
				<div class=example><code>
					;; lima's alternative to C's ternary operator (?:)
					var x = 'Lets '.cat[if[run: 'go running' else: 'walk'] ' to the park']
					
					;; this would be silly (but possible):
					var x = 'Lets '.cat[if run: 
						'go running' 
					 else: 
						'walk'
					' to the park' 	;; note that for this to work, the value on this line must *not* be any more indented than this, otherwise it would be under the else
					] 	
					
					;; a shorter but still silly alternative:
					var x = 'Lets '.cat[if run: 'go running' else: 'walk'
					' to the park'] 	;; the value on this line must still be no more indented than this
				</code></div>
			</p>
		</div>
	</div>
	
	<div class="mainBox mainTitle" title="Operators">	
			
		<p>	Operators are the basic form of interaction with values.
			An operator can be made of any combination of the symbols: 
				<ul class=inlineList>
					<li> ~ </li>
					<li> @ </li>
					<li> # </li>
					<li> $ </li>
					<li> % </li>
					<li> ^ </li>
					<li> & </li>
					<li> * </li>
					<li> - </li>
					<li> = </li>
					<li> + </li>
					<li> | </li>	
					<li> \ </li>
					<li> / </li>
					<li> &lt; </li>
					<li> &gt; </li>
					<li> . </li>	
					<li> , </li>
					<li> ? </li>
					<li> ! </li>
				</ul>
	
			or can be made with brackets (this is described in the section on operator overloading).
			
			Operators appearing next to eachother must have whitespace between them.
			Note that <code>#</code> is a special case - this is explained in the section on strings.
		</p>
		
		<h4>Binary Operators</h4>
		<p>	Binary operators are the most familiar type of operator.
			Uses infix notation.
			A binary operator may not written directly next to it's left or right value unless its written directly between both.
			<div class=elaboration>
				This is primarily so that there is a clear syntactic difference between binary and unary operators,
					so that the compiler can tell where a statement ends and the next one begins.
				<div><code>
					2*5      ;; fine
					2 *5     ;; throws exception
					2* 5     ;; throws exception
					2 *   5  ;; fine
					2 *      ;; ..
					5        ;; fine
				</code></div>
			</div>
		</p>
		
		
		<h4>Unary Operators</h4>
		
		<p>	Unary operators can either be pre-operators or post-operators 
				- either preceding or following the value they operate on, respectively.
		</p>
		<p>	Unary operators must have no spaces or newlines between the value they are operating on.
			If it is ambiguous whether an operator should be a pre- or post- fix operator, it is treated as a binary operation if a matching
                one exists, and if no matching one exists, an exception is thrown.
			<div class=example>
				<code>
				a! b	;; postfix exclamation operator
				a !b 	;; prefix exclamation operator
				a!b	    ;; exception
				3
				! 		;; exception since ! isn't a binary operator on numbers
				4
				
				var x = 3 ! ;; exception - its too far away (and isn't a binary operator on numbers)
				var y = ! a ;; same exception
				var z = {1  -5  9}	;; treated as {1 (-5) 9}
                var w = {1-5 9}     ;; treated as {(1-5) 9}
			
				var h = a-b      ;; binary minus
				var h2 = a - b   ;; also binary minus
				var h3 = a   - b ;; also binary minus
				var h3 = a -b    ;; unary minus
				</code>
			</div>
		</p>
		
		<h4>Destructuring Assignment</h4>
		<p>	A special case of assignment, a desctructuring assignment looks like an object-literal lvalue (on the left side)
				assigned to a value that has a similar structure to the object-literal lvalue.
			The keys in the lvalue indicate what part of the structure of the rvalue to grab.
			If the entity at a key is a variable-name, that variable will be assigned to the value at the corresponding key in the rvalue.
			If the entity at a key is another object-literal, then the process is repeated with inner-object members 
				(of both the lvalue and corresponding members of the rvalue).
			<div class=example><code>
				var[a b c]
				{{a b} 'den':{cargo=c}} = {'hi' 'den':{cargo=65}} ;; same as a='h' b='i' c=65
				{cat=a dog=b} = {"cat":50 "dog":190} ;; same as a=50 b=190
				{a b c} += {1 2 3}	;; same as a+=1 b+=2 c+=3
				
				{var[r1 r2}} ~> {'a' 'b'}	;; points r1 at 'a' and r2 at 'b'
			</code></div>
		</p>
		<p> Note that all the values in the rvalue are evaluated before executing the assignments, 
				and therefore it can be used for inline swapping. 
			<div class=example>
				<div><code>
				var[a='hi' b='lo']
				{a b} = {b a}
				wout[a b] 	;; prints 'lohi'
				</code></div>
				
				<br>
				Which has the same affect as:				
				<div><code>
				var[a='hi' b='lo']
				atomic:
					fn: a=b
					fn: b=a
				wout[a b] 	;; prints 'lohi'
				</code></div>
			</div>
				
		</p>
		<p>	Destructuring assignments work with any assignement operator and the reference pointing operator (~>), 
				but work with no other operator.
			This feature is taken from Coffeescript and is a generalization of <i>sequence unpacking</i> in Python.
		</p>
			
		<div class="subBox1" title="Order of Operations">
			These are the order of operations for all binary operators defined by Lima's core language.
			Unary operators do not have arbitrary order of operations like binary operators,
				they are always at operator order 1.
			
			<center>(everything is evaluated from left to right except Assignment operators and the ^ operator)</center>
			<table class="normalTable">
				<tr><td>Order&nbsp;0</td>
					<td style="">Evaluated First</td>
					<td>Dereference Operators and parens</td>
					<td> () .  []  [[]]  [? ] [[? ]]</td>
				</tr>
				<tr><td>1</td>
					<td>.</td>
					<td>Unary operators</td>
					<td>- ! - ? ...  </td>
				</tr>
				<tr><td>2</td>
					<td>.</td>
					<td>Top-level (arithmetic)</td>
					<td>^ </td>
				</tr>
				<tr><td>3</td>
					<td>.</td>
					<td>Mid-level (arithmetic)</td>
					<td>* / // % mod cross  </td>
				</tr>
				<tr><td>4</td>
					<td>.</td>
					<td>Bottom-level (arithmetic)</td>
					<td>+ -</td>
				</tr>
				<tr><td>5</td>
					<td>.</td>
					<td>Range Operators</td>
					<td><span class=rangeOperator></span> <span class=realRange>...</span></td>
				</tr>
				<tr><td>6</td>
					<td>.</td>
					<td>Comparison</td>
					<td>== <> ?? != !<> !??  > < >= <=  >> &nbsp; <<  </td>
				</tr>
				<tr><td>7</td>
					<td>.</td>
					<td>Upper-level (boolean)</td>
					<td>& !$ !&</td>
				</tr>
				<tr><td>8</td>
					<td>.</td>
					<td>Lower-level (boolean)</td>
					<td> $ </td>
				</tr>
				<tr><td>9</td>
					<td>Evaluated Last</td>
					<td>Assignment (evaluated from right to left) and the <span class=nilCoalescer>nil-coalescense operator</span> (evaluated from left to right)</td>
					<td>= -= += *= ^= /= %= ~> //= | </td>
				</tr>
			</table>
	
		</div>
		
		<div class="subBox1" title="Operators - Index">
			<p>	The following operators are here to give a general overview of the operators defined in the core language,
					but the operators are defined in full detail by the objects of which they are members.
			</p>
			
			<h4>Binary Operators</h4>
			<table class="definitionTable">
				<tr><td> = </td>
					<td>Changes the value of a variable.
					</td>
				</tr>
				<tr><td> ~> </td>
					<td>Sets a variable as a reference to another variable.
					</td>
				</tr>
				<tr><td> | </td>
					<td><span class="copiedNote nilCoalescerDescription">
							The <span class=nilCoalescer></span>. 
							Returns a if a is not <code>nil</code>, and b otherwise.
							Similar to the <a href="http://groovy.codehaus.org/Operators#Operators-ElvisOperator">"Elvis operator"</a>
						</span>
					</td>
				</tr>	
			</table>
			<br>
			<table class="definitionTable">
				<tr><td> . </td>
					<td>Member access.
					</td>
				</tr>
				<tr><td> + </td>
					<td>Normal addition, matrix/vector addition..
					</td>
				</tr>
				<tr><td> - </td>
					<td>Normal subtraction, matrix/vector subtraction.
					</td>
				</tr>
				<tr><td> * </td>
					<td>Multiplication, matrix product.
					</td>
				</tr>
				<tr><td> / </td>
					<td>Division, product of matrix inverse.
					</td>
				</tr>
				<tr><td> // </td>
					<td>Discrete division.
					</td>
				</tr>
				<tr><td> % </td>
					<td>Modulus, extended-space character.
					</td>
				</tr>
				<tr><td> ^ </td>
					<td>Exponentiation.
					</td>
				</tr>
				<tr><td> ! </td>
					<td>Factorial.
					</td>
				</tr>
			</table>
			<br>
			<table class="definitionTable">	
				<tr><td> & </td>
					<td>Logical and, set-conjunction.
					</td>
				</tr>
				<tr><td> $ </td>
					<td>Logical or, set-union.
					</td>
				</tr>
				<tr><td> !$ </td>
					<td>Logical xor, set exclusive-disjunction.
					</td>
				</tr>
			</table>
			<br>
			<table class="definitionTable">
				<tr><td> == </td>
					<td>Equality.
					</td>
				</tr>
				<tr><td> != </td>
					<td>Opposite of <code>==</code>.
					</td>
				</tr>
				<tr><td> <> </td>
					<td>Set equality.
					</td>
				</tr>
				<tr><td> !<> </td>
					<td>Opposite of <code><></code>
					</td>
				</tr>
				<tr><td> < </td>
					<td>Less than, proper subset, naturally ordered preceding string.
					</td>
				</tr>
				<tr><td> > </td>
					<td>Greater than, proper superset, naturally ordered proceding string.
					</td>
				</tr>
				<tr><td> <= </td>
					<td>Less than, improper subset, naturally ordered preceding string or equal string.
					</td>
				</tr>
				<tr><td> >= </td>
					<td>Greater than, improper superset, naturally ordered proceding string or equal string.
					</td>
				</tr>
				<tr><td> << >> <<= >>= </td>
					<td>Key-aware comparisons.
					</td>
				</tr>
		
			</table>
			<br>
			<table class="definitionTable">
				<tr><td> .. </td>
					<td>Range operator for numbers and strings. 
						For example 2..10 returns a list with elements 2 through 10.
					</td>
				</tr>
				<tr><td> ?? </td>
					<td>Tests if two values are the same data (e.g. two references that point to the same value).
					</td>
				</tr>
				<tr><td> !?? </td>
					<td>Opposite of <code>??</code>
					</td>
				</tr>
			</table>
			<br>
			<table class="definitionTable">	
				<tr><td> , </td>
					<td>Concatenation of strings
					</td>
				</tr>
			</table>
						
			<h4>Unary Prefix Operators</h4>	
			<table class="definitionTable">
				<tr><td> - </td>
					<td>Negative.
					</td>
				</tr>
				<tr><td> @ </td>
					<td>String newline.
					</td>
				</tr>
			</table>
			
			<h4>Unary Postfix Operators</h4>
			<table class="definitionTable">
				<tr><td> ... </td>
					<td><p>	Splat operator.
						</p>
					</td>
				</tr>
				<tr><td> ? </td>
					<td><p>	Safe navigation operator (postfix) - allows safe traversal of members without having to check them for nil.
							Also creates types that can hold nil.
						</p>
					</td>
				</tr>	
				<tr><td> ~ </td>
					<td><p>	Accesses an object representing a reference (rather than the value it points to).
						</p>
					</td>
				</tr>
				<tr><td> ! </td>
					<td><p>	Interface operator - creates a type defined by the object's interface.
							Also used for creating special string characters.
						</p>
					</td>
				</tr>
				<tr><td> ++ </td>
					<td><p>	Increment.
						</p>
					</td>
				</tr>
				<tr><td> -- </td>
					<td><p>	Decrement.
						</p>
					</td>
				</tr>
				<tr><td> @ </td>
					<td>String newline.
					</td>
				</tr>
			</table>	
			
		</div>
		
		<div class="subBox1" title="Overloading and Defining New Operators">
			<table class="definitionTable">
			
				<tr><td class=nearTop>
						operator[ <span class="opsym"></span>
							order <span class="Rvalue">order</span>
							backward chains
						] = <span class=lvalue>function</span>
					</td>
					<td><p>	When used as an lvalue, <code>operator</code> is used for binary operator definition, redefinition, or overloading. 
							Defines the <span class="opsym"></span> based on the <span class=lvalue>function</span>.
						</p>
						<p>	Humans process symbols and pictures far faster than words.
							Similarly, programs that read like an essay can be far harder to read and understand, 
								no matter how language-like they may sound. 
							This is why nobody likes word-problems in school. 
							Operator overloading helps us visualize what a statement does far better than a series of function calls could. 
						</p>
						<p>	For binary operators defined with one parameter, 
								the operator is defined the same way when the object is on either side of the operator
								(note that this doesn't neccessarily mean the operator is commutative).
							The parameter represents one operand and the other operand is assumed to be <code>this</code>.
							
							<div class=example><code>
								a = 
								{	var x = 2
									operator[ + ] = fn other:
										ret x+other
								}
								
								var c = a+5	;; c gets set to 7
							</code></div>
						</p>
						<p>	For binary operators defined with two parameters,
								the first parameter represents the left operand and the second parameter represents the right operand.
							The parameter list must contain <code>this</code> as at least one paramter, 
								which indicates that the current object is in that operand position.
						</p>
						<p><span class="Rvalue">order</span> defines what operator precedence it has - 
								the operator has the same precedence as the other operators in that order numbers.
							New orders can't be created. 
						</p>
						
						<p>	The keyword <code>backward</code> indicates that the operator is right-to-left associative (like <code>=</code>). 
							Operators are left-to-right associative without that keyword.
						</p>
						
						<p>	Just like for methods, when an operator is redefined on an object, only that definition is used - 
								it doesn't retain inherited operator definitions, even if those definitions could handle arguments
								that the new definition can't handle.
							Also, operator definitions are always <span class="constant"></span>, so once its defined it can't be redefined.
							
							If it is ever ambiguous which object's operator should be used, an exception will be thrown.
							Ambiguous operator definitions inside the same module will throw an exception as well 
								(even if they aren't called).
			
							<div class=example><code>
								a = 
								{	var x = 2
									operator[+] = fn this b:
										ret x+2
								}
								b = 
								{	var x = 5
									oprator[+] = fn a this:
										ret x+a-1
								}
								
								var c = a+b ;; throws an error because it doesn't know which code to use
								var d = b+a ;; throws an error because neither operator definition can be used
							</code></div>
						</p>
						
						<p>The following operators can't be overloaded: 
							<ul class=inlineList>
								<li> ~ </li>
								<li> ?? </li>
								<li> | </li>
								<li> ~> (and all variations of ~~>, ~~~>, etc)</li>
							</ul>
						</p>
						
						<h4>Creating chaining operators</h4>
						
						<p>	The keyword <code>chains</code> indicates that the operator will take two extra parameters on the end
								(three or four parameters total, depending on what form you choose).
							The first extra parameter holds a string containing the previous operator in the chain, 
								and the second extra parameter holds the value sent from the previous chain.
							If the operation is the first in the chain, both extra parameters will be <code>nil</code>.
							An operator will only chain to operators in the same order as it.
						</p>
						<p>	The operator should return a list where the first element is the normal return value,
								and the second element is the value to pass to the next chained operator (if there is one).
							
							<div class=example><code>
                                var Comparable = 
                                {   var value
                                
                                    make val:
                                        value = val        
                                    
                                    operator[< chained] = fn 
                                     this Comparable! x prevOp chainedValue:
                                        ret lessThan[this.value x.value prevOp chainedValue]
                                     Comparable! x this prevOp chainedValue:
                                        ret lessThan[x.value this.value prevOp chainedValue]
                                     this x prevOp chainedValue:
                                        ret lessThan[this.value x prevOp chainedValue]
                                     x this prevOp chainedValue:
                                        ret lessThan[x this.value prevOp chainedValue]
                                        
                                    private: lessThan = fn left right prevOp chainedValue:
                                        if '<' != op $ chainedValue == nil:
                                            ret {left&lt;right right}
                                         else:
                                            ret {chainedValue&lt;right right}
                                }
                                
                                var a = Comparable[10]
                                a < 5           ;; returns false
                                a < 100 < 1000  ;; returns true
                                5 < a < 9       ;; returns false
							</code></div>
						</p>
						
						
						<h4>Overloading the equals operator</h4>
						<p>	The <code>=</code> operator is a special case. 
							Defining this operator with no parameters defines how to copy the object when it is the <span class=Rvalue></span>.
							Defining it with one parameter defines how to overwrite the object
								(when the current object is in the <span class=Lvalue></span>) - the parameter contains the <span class=Rvalue></span>.
							When defining overwriting, note that using <code>this = x</code> would cause a circular reference, 
                                so if you need a way to set <code>this</code>, you can use <code>meta[{}].operators['='][this x]</code>.
								
							<div class=example><code>
								var object = {
									operator[ = ] = fn:     ;; normal copy operator, copies itself normally
										ret this      
									 value:                 ;; normal assignment, overwrites the object itself with the new value
										meta[{}].operators['='].fn[this value]  
								}
							
								;; object2 hijacks the normal use of the equals operator
								var object2 = {
									var x = 5
									operator[ = ] = fn:
										ret {1 2 3}	;; returns a list instead of itself as its copy
									 value:
										x+=value  ;; modifies the state of the object
										          ;; does not actually overwrite the object
								}
							</code></div>
						</p>
						
						<h4>Overloading the reference operator</h4>
						<p>	Overloading <code>~></code> is very similar to overloading the equals operator.
						</p>
						
						<h4>Overloading the dot operator</h4>
						<p>	The dot operator is special case in a couple different ways:
							<ul><li>Tho it's a binary operator, it is always defined where the defining object is the Lvalue.
								</li>
								<li>It has access to the name on the right side, if the right side is a simple name
								</li>
							</ul>
						</p>
						<p> Overloading the dot operator would be done like this:
							<div><code>
								operator[ . ] = fn <span class=Rvalue>name</span> <span class=Rvalue>value</span>:
									;; statements
							</code></div>
							
							Where <code>name</code> contains the name on the right side, or nil if the right side isn't a simple name, 
								and <code>value</code> contains the value of the right side, or nil if the right side is a name but not a defined variable.
							<div class=example><code>
								var someObject = {
									operator[ . ] = fn name value:
										wout['name: '(name|'no name')', value: '(value|'no value')]
								}
							
								var x = 5
								someObject.x		;; prints "name: x, value: 5"
								someObject.(1+2)	;; prints "name: no name, value: 3"
								someObject.y		;; prints "name: y, value: no value"
							</code></div>
							
							Note that custom functions passed into the dot operator don't need to use the reference-access operator
								because the name of the "member" is passed to it, and the value is grabbed based on the name.
							<div class=example><code>
								var someObject = {
									operator[ . ] = fn name value:
										wout['name: 'name', value: 'value] 	
								}
								
								var z ~> 5
							
								someObject.if		;; prints "name: if, value: if"
								someObject.z		;; prints "name: z, value: 5"
								someObject.int		;; prints "name: int, value: int"
							</code></div>	
						</p>
						
						
						<h4>Overloading the bracket operators</h4>
						<p>	Bracket operators are special in that they don't have the same flexibility that other operators have.
							A bracket operator can either be defined as a single-bracket operator (<code>[</code>) or double-bracket operator (<code>[[</code>),
								and may have an arbitrary operator attached to the single- or double- bracket operator.
							The function it is set to can take any number of arguments.
							<div class=example><code>
								var someObject = {
									operator[ [[ ] = fn key: 
										ret key+5              ;; double bracket operator
									operator[ [ ] = fn         ;; bracket operator taking different numbers of arguments
									 key:   ret key+5   
									 a b c: ret a+b+c  
									operator[ [[! ] = fn key:  ;; double bracket operator with an exclamation mark 
										ret key+5           
									operator[ [[#@& ] = fn x:  ;; some crazy operator
										ret x*10
									operator[ [[#@-*- ] = fn:  ;; another crazy operator
										ret 1
								}
								
								someObject[4]        ;; returns 9
								someObject[[4]]      ;; returns 9
								someObject[[1 2 3]]  ;; returns 6
								someObject[[!4]]     ;; returns 9
								someObject[[#@&2]]   ;; returns 20
								someObject[[#@-*-]]  ;; takes no arguments, returns 1
								
							</code></div>	
						</p>
						
						<p>	If there is ever ambiguity as to whether the operator within brackets is part of the bracket-operator
								itself, or whether it is a unary prefix operator, an exception will be thrown.
							In these cases, whitespace between the operator and the value is enough to disambiguate.
							<div class=example><code>
								var object = {
									operator [ [! ] = fn bool x y:
										ret x & !y
								}
								
								object[! true false] ;; returns true
								object[!true false]  ;; throws exception
							</code></div>
						</p>
						
						<p>	The bracket operators are the only operators that can be overloaded with custom functions.
							The custom function will only get its first argument - the characters between the brackets (whatever type of brackets they may be).
							The second argument of a normal custom function will be <code>nil</code>.
							<div class=example><code>
								var object = {
									operator [ [** ] = custom input:
										ret input.split[','].map[ int.parse[v[[c: !{' ' ''@}.has[c] ]]] ].sort[v]
								}
								
								object[** 4,2,34,5 ] ;; returns {3 4 5 34}
							</code></div>
						</p>
					</td>
				</tr>
				
				<tr><td>
						preOperator[ <span class="opsym"></span>
							order <span class="Rvalue">order</span> <span class="opsym"></span>
						] = <span class=lvalue>function</span>

						postOperator[ <span class="opsym"></span>
							order <span class="Rvalue">order</span> <span class="opsym"></span>
						] = <span class=lvalue>function</span>
					</td>
					<td><p>	Defining or overloading unary operators. 
							Must not have any parameters.
							If an expression has both pre and post operators operating on it, the `order` determines which operator is
								executed first.
							If they have they have the same order, the pre-operator is executed first.
						</p>
					</td>
				</tr>
				
				<tr><td>
						operator[else] = function
						
						preOperator[else] = function
						
						postOperator[else] = function
					</td>
					<td><p>	Defines a catch-all operator handler.
							The function should take one parameter - the operator potentially being operated with.
							If the operator is intended to be applicable to the object, 
								the function should return an object with two members that looks like 
								<code>{int order  fn! operation}</code>
								where <code>order</code> is the operator precedence, and <code>operation</code>
								is a function of the form that would normally be used to overload an operator.
							The function should return nothing (<code>nil</code>) if the operator is not applicable.
						</p>
					</td>
				</tr>
			</table>
		</div>
		
	</div>
	
	<div class="mainBox mainTitle" title="Functions and Methods">
		<table class="definitionTable">
			<tr><td class=nearTop><span class=fn></span></td>
				<td>The function creation function.
					It can create functions/methods and define function-types.
					<span class=fn></span> creates a new scope. <span class="copiedNote newScope">This means variables declared inside it do not persist outside it.</span>
					
					<h5>Operators:</h5>
					<table class="definitionTable innerBorder">
						<tr><td class=nearTop>
								<span class=fn></span>
								 <span class=parameters></span>:
									<span class=statements></span>
								&nbsp;<span class=more></span>
								
								<span class=fn></span>
								[	<span class=more></span>
								]
							</td>	
							<td><code>fn</code> is a custom-function that returns a function immediate (aka function object / nameless function / closure). 
								This is like nameless functions in javascript and is pretty similar to functions in C, java, or php.
								
								<p>	The function's <span class=parameters></span> are defined as a <span class=blockParameter></span>
                                         - an expression that either ends with a colon and a newline, 
                                        or is surrounded by parens that end in a colon and newline. 
                                    For a function, the expression inside the <span class=blockParameter></span> is very similar to 
                                        an object's <span class=definitionBlock></span>.
                                        
									<div class=example>
										<code>
											var w = fn[
											 a b c:	;; a b and c are taken as params
											]
											
											var x = fn [
											 (a 
												b c):	;; a b and c are taken as params again
											]
											
											;; this is a function that can take either no arguments, or
											;; two arguments (b and c)
											;; it does *not* have the parameter 'a'
											var x = fn [
											 a 
												b c:	
											]
				
										</code>
									</div>
									
									If variables in <span class=parameters></span> are initialized, 
										it means that it has a default value that can be overridden if an argument is passed in for that parameter.
									Default parameters don't have to appear at the end of the parameter list.
									The only constraint is that all parameters with defaults be consecutive (all in a line),
										and if a splat is used, it comes after all the default parameters.
									Note that, like parameter types, default values are evaluated on every function execution 
										(unless <code>final</code> is used, of course).
									<div class=example><code>
										fn! x = fn a='myDefault'  b:
											wout[a ': ' b]

										x['moo']	;; prints "myDefault: moo"

										;; variable defaults
										var z = 'default1'
										fn! x = fn a=z:
											wout[a]

										x[]	;; prints 'default1'
										z = 'toooo'
										x[] ;; prints 'toooo'

										var w = fn a=b b:
											ret a*10+b

										w[1]   ;; returns 11
										w[2 3] ;; returns 23

										;; how parameters are filled with arguments

										fn! y = fn a b=11 c=12 d=13 e:
											ret a+b+c+d+e

										wout[y[1 2 3]]	;; returns 31 (1+2+12+13+3)
									</code></div>
								</p>									
								
								<p>	In addition to what you can do in an object's <span class=definitionBlock></span>, 
										you can also write an object's members as parameters using <span class=self></span>, 
										which denotes that the argument passed in is directly assigned to the member in the parameter space. 
									<div class=example><code>
										x = 
										{	a
											b
											func = fn <span class=self></span>.a <span class=self></span>.b:
										}
										
										x.func[2 3]
										wout[x.a x.b]	;; outputs 23
									</code></div>
									
									Destructuring assignment can also be done in a function:
									<div class=example><code>
										var f = fn {a b} c:
											return a+b-c
										
										var x = {10 20}	
										f[x 3] ;; returns 27
									</code></div>
								</p>
								
								<p>	Variables defined in a function may not conflict with any variable already in scope - i.e. you can't shadow variables in lima functions. 
								</p>
								
								<p>	Functions use multiple dispatch. 
									If multiple signitures for a function are ambiguous for any inputs, an exception is thrown.
									
									<div class=example><code>
										fn! A = fn 
											int[x] int[y]:    ret x+y
											int[x] string[y]: ret x.str.cat[y]
									
										x[3 5]      ;; returns 8
										x[3 'five'] ;; returns "3five"
									
										;; this definition throws an exception, because the signatures conflict
										;; for example in the case B[3 0] was called
										fn! B = fn 
											int[x] int[y]:  ret x+y
											fra[x] bool[y]: ret x.str.cat[y]
									</code></div>
									
								</p>
								
								<p>	All functions are members of some object (even top-level functions are module methods).
									Therefore, <span class=this></span> and <span class=self></span> can be used inside functions.
									However, <span class=this></span> and variables accessed via <span class=self></span> are upvalues 
										(variables closed over by a closure), and so remain pointing to the original object they were 
										defined in when that function is copied elsewhere.
									This means that you can copy an object's method to somewhere else, 
										and when you run the function, it may mutate the object you copied it from.
									To transfer the object referenced by <span class=self></span> and <span class=this></span>,
										an object must inherit the function using <span class=mix></span>.
								</p>
								
								<p> Inside a function definition, <span class=const></span> variables are accessible anywhere inside the function,
										even to lines that come before it (as long as its value is resolvable at that point 
										- see the definition of <span class=const></span> for details). 
									This is useful for giving more flexibility to the placement of nested functions and is
										necessary for allowing forward-jumps to continuations defined later in the program.
								</p>
								
								<p>	Function values have the following operators defined for them:
									<table class="definitionTable innerBorder">
										
										<tr><td class=nearTop>[<span class=argument>arguments</span>]
											</td>
											<td><p>	A function call. 
													<span class=argument>arguments</span> are either a simple ordered list of values, a named list of values, or combination of both.
												</p>
												<p>	If <span class=argument>arguments</span> is a simple list (ordered parameters), 
														then each <span class=parameter></span> of the function gets a reference to each corresponding <span class=argument></span> in order.
													If <span class=arguments></span> has <span class=parameter>parameters</span> that are assigned values (named parameters), 
														then the parameter corresponding to the <span class=word></span> being assigned is set.
													You can use both ordered and named parameters as long as all the ordered parameters come first.
													<div class=example><code>
														function[1 2 3]							;; passing 3 arguments in a simple list
														function[paramX=2 paramY=5]				;; passing 2 arguments with named parameters
														function[1 2 parameterB=3 parameterC=9]	;; using ordered and named parameters
														function[1 2 5:3 6:9]					;; using ordered and explicitly-ordered parameters (parameters 2 3 and 4 get nil)
													</code></div>
												</p>
												
												<p>	Note: <span class=argument>arguments</span> are passed by reference. 
													If a parameter is modified in a function, it will be changed outside the function as well. 
													Note that because Lima is value-based, the parameter can just as easily be a literal or statement as it can be a variable,
														but if it is a direct literal or statement passed into the function, nothing in the scope of the function call would
														be able to see any changes to that value, since there would be no reference to it.
												</p>
												<p>	The IDE should give the programmer insight into if a function mutates the state of passed in variables 
														(as well as insight into how it can affect the module- or global- state).
													Of course after optimizing, the program might end up passing by value under the hood if that is more efficient.
												</p>
												<p>	Applicative order for function parameters are left to right - in the order they appear. 
													So <code>func[A[] B[]]</code> will execute A first, then B.
												</p>
											</td>
										</tr>
										
										<tr><td><span class=postExclamationOperator></span></td>	
											<td>Returns a type that matches a function that can take all the 
													combinations of parameters (type, name, and order) that the operand takes.
												<div class=example><code>
													var add2 = fn int x: ret x+2
													var appendOrAdd2 = fn
													 string x: ret x.cat['2']
													 int x:    ret x+2
													
													appendOrAdd2! newAppendOrAdd2 = fn	;; matches the interface of appendOrAdd2
													 string x:  ret 'hi'
													 int x:     ret 99
														
													add2! newAdd2 = fn	;; matches the interface of add2, since it can handle an int parameter x
													 string x:  ret 'hi'
													 int x:     ret 99
															
													add2! funcA         = fn x: ret x-500	;; matches the interface of add2
													appendOrAdd2! funcB = fn x: ret x-500	;; throws an error, since the it can't handle a string 
													add2! funcC         = fn h: ret h-500	;; errors because the parameter name doesn't match
												</code></div>
											</td>
										</tr>
										
										<tr><td>==</td>	
											<td>Returns true if the functions do exactly the same things 
													(same return values, exceptions, and side-effects for the same input and program state).
											</td>
										</tr>
									</table> 
								</p>
								
								<p>	Function values have the following methods defined for them:
									<table class="definitionTable innerBorder">
										<tr><td>sideEffectLess</td>
											<td><p>	Returns a function that produces no side effects. 
                                                    The output behavior (return value) is preserved.
													Values pointed to by input parameters (including the calling object) may still be changed.
												</p>
											</td>
										</tr>
										<tr><td>functional</td>
											<td><p>	Returns a function that produces no side effects and does not mutate input variables nor the calling object.
													Does not change output behavior (return value).
												</p>
											</td>
										</tr>
										<tr><td>isolate</td>
											<td><p>	Isolates the function from modifying any external state (produces no side effects and does not mutate input variables)
														and returns an object representing all the state it would change if it weren't isolated.
													The object returns contains the following members:
													<table class="definitionTable innerBorder">
														<tr><td>ret</td>
															<td>The return value of the function.
															</td>
														</tr>
														<tr><td>effects</td>
															<td>An object where each member describes a variable the function would have modified if
																	it weren't isolated and what its new value would have been.
																The structure of the object is the same as the output of <span class=word>dif</span>.
															</td>
														</tr>
													</table>
												</p>
											</td>
										</tr>
				
										<tr><td>inverse</td>
											<td><p>	Returns the inverse of the function - 
														a function that will return the inputs of the original function 
														given an output of the original function, if possible.
													Takes one parameter - the output of the original function.
												</p>
												<p>	Running the inverse function will return a the full inverse of the function if possible 
														(ie. when there is a one-to-one mapping from outputs to inputs of the original function 
															for a given input to the inverse-function).
													If the function cannot be inversed for a given input, an exception will be thrown.
												</p>
											</td>
										</tr>
				
									</table> 
								</p>
								
								<h5>Special members only available inside functions:</h5>
								<table class="definitionTable innerBorder">
									<tr><td>ret</td>	
										<td><p>	<span class=ret></span> is a custom function that returns a value from a function.
												To return nothing, call <span class=ret></span> with nil.
												<div class=example><code>
													var cow = fn:
														ret 'cow'
													
													wout[cow[]]	;; outputs 'cow'
												</code></div>
											</p>
											
											<p>	Functions return by value. 
												If a function wants to allow a returned variable to be used and modified, 
													either a reference variable pointing to it must be returned (using the <code>~</code> postfix operator),
													or you can use <code>ref</code>'s bracket operator to return a variable by reference.
												<div class=example><code>
													fn!x = fn a:
														a+=1
														ref! r ~> a
														ret r~
												
													fn!x = fn a:
														a+=1
														ret ref[a]
												</code></div>
											</p>
											
											<p>	Because <span class=ret></span> is a custom function, it can be passed to other functions
													so a function is able to return from a different function higher on the stack.
												<div class=example><code>
													var f = fn returnFunction: 
														returnFunction 5
													
													var f2 = fn:
														f[ret~] ;; causes f2 to return 5
												</code></div>
											</p>
											
											<p>	<span class=ret></span> has the following members:
												<table class="definitionTable innerBorder">
													<tr><td>contin</td>	
														<td>The continuation to which the function will return to when it returns.
															This may be in the middle of an expression.
														</td>
													</tr>
													<tr><td>result</td>	
														<td>Holds the result that the function will return to the calling context.
															This allows the programmer to separate the act of deciding the result of the function 
																from when it returns to the calling context.
															Conceptually, <code>ret</code> used normally first sets <code>ret.result</code> then <code>jump</code>s to <code>ret.contin</code>.
														</td>
													</tr>
												</table>
											</p>
										</td>
									</tr>
									<tr><td>thisfn</td>	
										<td>References the current function itself. 
											Calling this will act just like using the function outside itself. 
										</td>
									</tr>
									<tr><td>callingScope</td>
										<td><p>	Returns an object representing the calling scope. 
												This allows you to manipulate values in the calling scope and create new variables in that scope.
												Note that <code>callingScope.callingScope</code> accesses two calling scopes up 
													- the scope that called the function that called the current function.
												This extends arbitrarily up the call stack.
											</p>
											<h4>Not your mothers dynamic scoping</h4>
											<p><a href="http://en.wikipedia.org/wiki/Scope_(computer_science)#Dynamic_scoping">Dynamic Scoping</a>
													would have been better named "Global Scoping" since all the variables are in the global scope.
												Lima gives unprecedented control over scoping, allowing you to create functions that can declare 
													variables in a calling scope. 
												This gives true dynamic control over variables declaration and calling scopes,
													although it has very little in common with what is commonly referred to as "Dynamic Scoping".
											</p>
										</td>
									</tr>
								</table>
								
							</td>
						</tr>
						<tr><td><span class=postExclamationOperator></span></td>	
							<td><span class=fn></span>'s postfix operator returns a type that only matches functions
									(not specifying parameters or return values).
							</td>
						</tr>
						
						<tr><td><span class=dotOperator></span></td>	
							<td><span class=pseudoMember></span> that returns a type that can only take on a function that returns values 
									the type given after the dot can take on. 
								<div class=example><code>
									fn.int x = fn x: ret x+5
								</code></div>
								It also has a bracket operator defined for it:
								<table class="definitionTable innerBorder">
									<tr><td><span class=bracketOperator></span></td>	
										<td>Returns a type that matches a function who's arguments-list is constrained to the type passed in.
											The return value constraints that its calling type-object imposes still applies. 
											<div class=example><code>
												fn.int[ cond[v.length==2] $ cond[v.has['a']&v.has['b']] ] x = fn string a  int b:
													ret a.cat[b.english]
											</code></div>
										</td>
									</tr>
								</table> 
							</td>
						</tr>													
				</table>
				
				<h5>Methods:</h5>
				<table class="methodDefinitionTable innerBorder">
						<tr><td>parse</td>
							<td>varList paramList codeString</td>
							<td>Parses the codeString into a function immediate.
								The <code>varList</code> (optional) is an object who's members will be in-scope variables 
									the new function immediate has access to.
								The <code>paramList</code> (optional) is a list of parameter names the returned function will take.
								<div class=example><code>
									var i = 5
									var theString = 
										'i++
										 ret x-1'
									
									fn! f = fn.parse[{i~>i} {'x'} theString]
									f[8]	;; i becomes 6 and returns 7 
									
									fn! f2 = fn.parse[{} {'x'} theString]
									f[10]	;; throws an exception because i is undeclared
									
									var y=0
									fn! f2 = fn.parse[{i~>y} {'x'} theString]
									f[99]	;; y becomes 1 and returns 98
								</code></div>
							 
							 	<div class="copiedNote execSafety">
							 		<code>fn.parse</code> and <code>var.parse</code> greatly increase safety of running external code over the normal <code>exec</code>
							 			function in most programing languages (which exectutes statements from the string in-inline).
								</div>
							</td>
						</tr>
					</table> 
				</td>
			</tr>
			
			<tr><td style="width:80px;">
					<span class=custom></span>
					<span class=word>charsInside</span> <span class=word>charsBefore</span>:
						<span class=statements></span>
					
					<span class=custom></span>
					[	<span class=more></span>
					]
				</td>
				<td><p>	A <span class=custom></span> function definition.
						Custom functions must expect two string <span class=argument>arguments</span> that each get code passed into the custom function call.
						<span class=word>charsInside</span> gets the characters that occur between the outer brackets of the function definition 
							(for <span class=bracketBlock>bracket-blocks</span>) or between the colon and the first non-whitespace character that 
							does not have a greater indentation then the line the custom function call begins (for <span class=indentationBlock>indentation-blocks</span>). 
						<span class=word>charsBefore</span> gets the characters found after the function name and before the first bracket 
							(for <span class=bracketBlock>bracket-blocks</span>) or colon (for <span class=indentationBlock>indentation-blocks</span>)
							- whichever comes first.
						Inside the <span class=custom></span> function declaration, 
							the programmer must define how to translate a function call into "real" lima - probably using Lima's <span class=parse></span> function.
							
						Note that when a custom function created with <span class=custom></span> is called, it must have an 
                             open bracket and closed bracket or be called with a colon.
                        If called with a colon, any lines that have equal or less indentation than the start of the expression the 
                            call is part of are treated as not part of the call.
					</p>
					<p>	A custom function needs to be followed by the ~ operator if it needs to be used without being called.
					</p>
					<p>	<table>
							<tr><td style="width:80px;">
									<span class=word>customName</span>...[...]
									<span class=word>customName</span>...:...
										...
								</td>
								<td><span class=custom>Custom</span> function calls. 
									Must begin with the function-name, must have a right-bracket (<code>[</code>) or colon (<code>:</code>) sometime after the function name, 
										and must end with a left-bracket (<code>]</code>) or <span class=undentedCharacter></span>.
									<span class="copiedNote customFunctionElipsis">
										The <code>...</code> here is denoting any amount of characters, as long as the first character in the first argument isn't a 
											letter or number (because then it would add to the name of the variable).
									</span>
								</td>
							</tr>
						</table>
					</p>
				</td>
			</tr>
			
			<tr><td style="width:80px;">
					<span class=realCustom></span>
					 <span class=word>characters</span>:
						<span class=statements></span>
					
					<span class=realCustom></span>
					[	<span class=more></span>
					]
				</td>
				<td><p>	Just like a normal <span class=custom></span> function, except that it doesn't require the call to have a colon or brackets.
						It simply gets the string of all the characters that come after it as a parameter, up until one of the characters isn't indented
							at least one space from expression the custom function is called in.
					</p>
					<table>
						<tr><td style="width:80px;">
								<span class=word>realCustomName</span>...
							</td>
							<td>A <span class=realCustom>Real custom</span> function call. 
								<span class=customFunctionElipsis></span>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			

		</table>
		
	</div>
	
	<div class="mainBox mainTitle" title="Types">
		<p>	A type is a special kind of custom function that defines variables and constrains the values a variable can take on. 
		 	Unlike most programming languages, types in Lima are basically contracts, otherwise known as <a href="http://en.wikipedia.org/wiki/Guard_(computer_science)">guards</a>. 
			As contracts, the type of a variable almost never affects normal program execution.
			Exceptions to this rule are:
			<ul><li>values can be checked as to whether they are included in a type, 
					and those checks can affect runtime behavior (e.g. multiple dispatch).
				</li>
				<li>if the contract is violated, ie. the variables are assigned a value not described by the variable's type
					(an exception will be thrown in this case).
				</li>
			</ul>
			
			Like anything else in Lima, types don't have to be checked at compile-time, but will be if possible.
		</p>
			                    			
		<h5>Operators available to all types:</h5>
		<table class="definitionTable innerBorder">
			<tr><td><span class=Rvalue>a</span> & <span class=Rvalue>b</span></td>	
				<td>Type conjunction. Returns a type that has only the values both a and b have.
				</td>
			</tr>
			<tr><td><span class=Rvalue>a</span> $ <span class=Rvalue>b</span></td>	
				<td>Type union. Returns a type that has the values of a and b.
				</td>
			</tr>
			<tr><td><span class=Rvalue>a</span> !$ <span class=Rvalue>b</span></td>	
				<td>Exclusive type disjunction. Returns a type that has the values of a and b, but not the values they have in common.
				</td>
			</tr>
			<tr><td><span class=Rvalue></span>?</td>	
				<td>Returns a type that can hold <code>nil</code>, along with the values the type indicates it can hold.
					This is equivalent to <code>type $ type.set[nil]</code>.
					<div class=example><code>
						var x = {int? a}
						x.a = nil
						wout x.a 		;; prints 'nil'
						
						var y = {int a}
						y.a = nil		;; throws exception
					</code></div>
				</td>
			</tr>
		</table>
		
		<h5>Members of all types:</h5>
		<table class="definitionTable innerBorder">
			<tr><td>values</td>	
				<td>Returns a list of all the values a type can take on. 
                    This list may be infinite, but you can always use it to check if a value matches a type by seeing if it is in this list.
				</td>
			</tr>
		</table>
			
		<div class="subBox1" title="Interfaces">	
			<p>	Lima's interfaces are very much like 
					<a href="http://en.wikipedia.org/wiki/Trait_(computer_programming)">"traits" in SmallTalk</a>, or 
					<a href="http://www.oreillynet.com/onlamp/blog/2006/08/roles_composable_units_of_obje.html">"roles" in Perl 6</a>
					in that, since normal objects can be used as interfaces, the interfaces can define 
					implementations of the members and methods it requires and are fully composable, allowing
					symmetric sum (via <code>mix</code>ing in multiple objects), 
					aliasing (via <code>mix</code> aliasing),
					and exclusion (also via exclusion allowed with the normal <code>mix</code> construct).
			</p>
			<p>	A type may define an explicit interface - members and methods that a value must have to match a given type.
				Usually this is done using the <code>!</code> operator for objects - which returns a <code>type</code> object that 
                defines an interface according to what members, methods, and operators that object has.
				This can be used for requiring that values a variable takes on has certain members with certain types
					- a variable declared with an interface type must contain all the public members, methods, 
					and operators that object has. 
			
				<div class=example><code>
					var x = {a=5 b=6}
					x! x1 = {a=0 b=0}	;; x1 must have the members defined in x (a and b)
					x1 = {a=5}			;; throws an exception because the value doesn't have a member 'b'
				</code></div>
			</p>
			<p> Its also used for multiple disptach.
				For methods with parameters declared with interface types, 
					a value matching that type must be passed into that parameter and the function can perform
					structural dispatch (or structural typing) to decide which function-path to execute for that value.
				This means that an object doesn't have to explicitly implement/inherit the interface, 
					but can simply have the same <i>structure</i> the interface requires.
				This is similar to whats refered to as duck typing and more similar to 
					<a href="http://www.dartlang.org/articles/m1-language-changes/#no-explicit-interfaces">what Dart calls implicit interfaces</a>.
				When an object inherits an object (via <code>mix</code>),
					it automatically implements that object's interface and any interface that object implements
					(unless any members are excluded from the inheritance - explained more below).
				
				<div class=example><code>						
						var Animal = 	
						{	fn! talk		;; implicitly abstract
						}
						Animal! Cat = 
						{	talk = fn:
								wout['moo']
						}
						
						;; functions with multiple dispatch using types
						fn! func = fn 
						 Animal! obj:
							obj.talk[]
						 obj:
							wout['obj is: 'obj] ;; uses object's str method
							
						func[Cat] ;; prints 'moo'
					</code>
					<br>
					<div>
						Note that Animal itself is not a value that an <code>Animal!</code> typed variable can take on.
						This makes sense since an interface doesn't have to implement itself.
					</div>				
				</div>
			</p>    
			
			<p>	Multiple interfaces can be inherited, even if member names conflict.
				Functions that take interface-typed parameters will "promote" an object that implements that interface 
					to a form that directly conforms with the interface.
				The identity of an interface depends on both the original object it came from and the structure of that object.
				Unlike the simple duck-typing model, this allows two identically structured objects to still be treated differently.
			</p>
			<p> When a multiple dispatch is being decided, first it looks to see which interfaces an object implements
                that has the same interface identity (the object the interface was created from), 
                and selects based on that if possible.
                If its not possible, then it does structure typing (matches just the members, and not the interface identity)
			 
				<div class=example><code>
					var i1 = {var v}
                    var i2 = {var v}
                    
                    
                    var w = {mix[i1] v=1}   // implements i1's identity
                    var x = {mix[i2] v=2}   // implements i2's identity
                    var y = {v=3}           // implements neither's identity, but still matches both their interfaces
                    var z = {mix[i1 i2:[v:v2]] v=4 v2=5} // implements both
                    
                    var f = fn
                     i1! a: wout[a.v]
                     i2! a: wout[a.v*1000]
                     
                    f[w] // outputs 1 because w matches both structure and identity of i1
                    f[x] // outputs 2000 because x matches both structure and identity of i2
                    f[y] // outputs 3 because y matches the structure of i1 (and i1 comes before i2, so has first priority)
                    f[z] // errors as ambiguous - both interfaces match fully (structure and identity)
				</code></div>
			</p>

			<p>	If an object inherits an interface, but a child-object omits one of the interface members,
					that child no longer implements the interface - even if it defines a new member of the same name.
				
				<div class=example><code>
					var i = {int a}
					
					fn print = fn
					 i! v: wout[v.a]
					 v: wout[0]
					
					var x = {mix[i] a=1337}
					var y = {mix[i:[!a]] a=900}
					
					print[x] ;; prints 1337 because x implements i
					print[y] ;; prints 0 because y doesn't implement i
				</code></div>
			</p>

			<p>	Keep in mind that, because an object's interface depends on its identity as well as its structure,
					functions that generate and return interfaces may need to use 
					<a href="http://en.wikipedia.org/wiki/Memoization">memoization</a> to preserve the ability to use
					type promotion for interfaces defined in the same way.
				
				<div class=example>
					<div><code>
						var iGenA = fn type T: ;; interface generator
							ret {T a list[T] b}
							
						var memberSum = fn iGenA[int~] x:
							wout[x.a + b.join[a+b]]
							
						var a = {mix[iGenA[int~][a:a2]} ;; a inherits from iGenA[int~] but renames a to a2
						
						memberSum[a] ;; throws an exception
					</code></div>
				
					The call <code>memberSum[a]</code> throws an exception because <code>a</code> doesn't have the same 
						structure as iGenA[int~] and can't be promoted due to the fact that each call of iGenA generates a
						different object (with its own unique identity).
				</div>
			</p>
			
			<h5>Methods available all interface types:</h5>
    		<table class="definitionTable innerBorder">
    			<tr><td>cast[object]</td>	
    				<td>Promotes an object to having a particular interface. 
                        Returns an object where its members are mapped to match the calling interface, just like how function arguments are promoted.
                        
        				<div class=example>
        					<div><code>
        						var i = {var v}
        						var x = {mix[i:[v:vee]] v=5}
        						var xCast = i!.cast[x]
        						
                                wout[x.vee]           ;; prints 5
                                wout[x.v]             ;; prints nil
                                wout[xCast.vee]           ;; prints nil                                
                                wout[xCast.v]           ;; prints 5
        					</code></div>
        				
        					The call <code>memberSum[a]</code> throws an exception because <code>a</code> doesn't have the same 
        						structure as iGenA[int~] and can't be promoted due to the fact that each call of iGenA generates a
        						different object (with its own unique identity).
        				</div>    				    
    				</td>
    			</tr>
    		</table>
		</div>
	</div>
	
	<div class="mainBox mainTitle" title="Attributes">
		<p>	Context attributes (or just 'attributes') are custom functions that set a value for a statement as a whole (and any underlying calls that statement makes). 
			Attributes have similarities to <a href="http://en.wikipedia.org/wiki/Scope_(computer_science)#Dynamic_scoping">dynamic scoping</a>,
				since they don't need to be passed to a function to be used by it.
			An attribute is semi-constant in that it isn't mutable in a given scope, 
				for an attribute to change its value it must be applied to a sub-statement.
			Doing an action that mutates the value of an attribute causes an exception to be thrown.
			Declaring a variable with the same name as an in-scope attribute causes an exception.
			
			<div class="example"><code class="copiedNote attributesExample">
				attribute red
				
				A[]		;; prints "Its not red"
				red A[]	;; prints "Its red"
				
				B[]		;; prints "Its not red"
				red:    ;; attributes can use colon syntax
					B[]	;; prints "Its not red"
				
				var A = fn:
					printColor[]
				var B = fn:
					!red printColor[]
				
				var printColor = fn:
					if red!:
						wout['Its red']
					 else:
						wout['Its not red']
			</code></div>
			
			In almost every (if not every) other language, these would be keywords.
			In Lima they're first-class constructs.
		</p>
	
		<table class="definitionTable">
			
			<tr><td style="width:80px;">
					<span class=attribute></span> <span class=word>attributeName</span> = <span class=Rvalue>default</span>
				</td>
				<td><p>	Attribute declaration. 
						If no <span class=Rvalue>default</span> is given, it is <code>false</code>.
					</p>
				</td>
			</tr>
		
			<tr><td style="width:80px;">
					<span class=word>attributeName</span> <span class=statement></span>
					
					<span class=word>attributeName</span>[<span class=statement></span> <span class=more>statements</span>]
				</td>
				<td><p>	Sets an attribute as the value <code>true</code> on a statement or set of statements.
						Brackets are optional if only adding the attribute to one statement.
					</p>
				</td>
			</tr>
		
			<tr><td style="width:80px;">
					!<span class=word>attributeName</span> <span class=statement></span>
					
					!<span class=word>attributeName</span>[<span class=statement></span> <span class=more>statements</span>]
				</td>
				<td><p>	Sets the attribute to its <span class=Rvalue>default</span> for a statement or set of statements.
					</p>
				</td>
			</tr>
		
			<tr><td style="width:80px;">
					<span class=word>attributeName</span>.as[<span class=Rvalue>value</span>] <span class=statement></span>
					
					<span class=word>attributeName</span>.as[<span class=Rvalue>value</span>][<span class=statement></span> <span class=more>statements</span>]
				</td>
				<td><p>	Sets an attribute as an explicit value on a statement or set of statements.
						Brackets are optional if only adding the attribute to one statement.
					</p>
				</td>
			</tr>
			
			<tr><td style="width:80px;">
					<span class=word>attributeName</span>!
				</td>
				<td><p>	Returns the value of the attribute.
					</p>
				</td>
			</tr>
			
		</table>
	</div>
	
	<div class="mainBox mainTitle" title="Number Postfixes">
		<p>	Number postfixes are special functions written on the end of numeric literals.
			They can take up to two arguments: the number being prefixed and a second argument that is 
				a string of characters a-z, A-Z, 0-9, and _ (underscore).
			<div>
				Example:
				<code>
					var x = 16xF63A
				</code>
			</div>
		</p>
		
		<table class="definitionTable">
			<tr><td> numberPostfix <span class=word>name</span> = <span class=lvalue>function</span>
				</td>
				<td><p>	Defines a new number postfix named <span class=word>name</span>.
						<span class=lvalue>function</span> should take at least one argument, the first being a number.
						It can also take a second string argument.
					</p>
				</td>
			</tr>
		</table>
		
		<p>	Ambiguities can arise when defining postfixes with more than two characters.
			For exampe, if the postfix <code>xa</code> is defined, a value like <code>8xac9b</code> is ambiguous
				(because of the postfix <code>x</code>).
			In these cases an exception is thrown and your code should be refactored to resolve the ambiguity.
		</p>
	</div>
	
			
	
	<div class="mainBox mainTitle" title="Literals">
		
		<div class="subBox1" title="nil">	
			<p>	<code>nil</code> is a reference to nothing.
				This is not the same as the value 0. 
				Only nullable types (types with a question mark after them) can hold <span class=nil></span>.
				<ul><li><code>nil</code> can't be thrown</li>
					<li><code>nil</code> can't be used as a key in an object</li>
					<li>setting a member to <code>nil</code> removes that member</li>	
					<li>Appending <code>nil</code> to a list increases the list's length but doesn't add any value on the end</li>				
				</ul>
			</p>
			
			<p> Like everything else in Lima, <code>nil</code> is an object, and has operators:
				<table class="definitionTable">
					<tr><td><span class="Lvalue"></span> = <span class="Rvalue"></span></td>
						<td><p>	
								Puts the value of <span class="Rvalue"></span> into <span class="Lvalue"></span>.
								<code>=</code> doesn't return a value (attempting to use the value of an assignment is a syntax error), 
									but can be chained.
								<div class=example><code>
									x = 5       ;; sets x to 5
									a=b=c=d= 0	;; sets a, b, c, and d all to 0
								</code></div>
							</p>
						</td>
					</tr>
					<tr><td><span class="Lvalue"></span> ~> <span class="Rvalue"></span></td>
						<td><p>
								Points a variable at a another variable or value - making a reference.
								<div class="example">
									<code>
										var x = 5
										var y ~> x	;; y now points to x
										
										wout[y]		;; prints 5
										y = 4		;; x is now 4
										wout[x]		;; prints 4
										wout[y]		;; also prints 4
									</code>
								</div>
							</p>							
							
							<p class="copiedNote arrowOperatorChaining">
								<code>~></code> doesn't return a value, but can be chained.
								E.g. <code>a~>b~>c~>d~> x	;; sets a, b, c, and d all to point to x</code>.
							</p>
						</td>
					</tr>	
					<tr><td><span class="Rvalue"></span>?</span></td>
						<td><p>	Safe navigation operator (postfix operator). 
								Returns an empty object with the following properties that distinguish it from a normal empty object:
								<ul><li>It has a dot operator that always return nil (instead of throwing an exception, 
										which is what usually happens when the dot operator attempts to get a member that doesn't exist).
									</li>
									<li>If copied, a normal empty object will be returned. 
										Note that most of the default methods on objects (app, sort, cat, etc) create copies of the object.
									</li>
									<li>It has an <code>IterList</code> that returns an empty object, 
											so iterating through the result will be the same as doing that for an empty list.
									</li>
								</ul>
							</p>
							
							<div class="copiedNote safeNavigationOperator">
								This can help you safely access nested members of an object without intermediate nil-checking.
								
								<div class=example><code>
									x = { a={f='hi' g='lo'} }
									x.a.f	;; returns 'hi'
									x.b?.f	;; returns nil
									x.b.f 	;; would throw an error
									x.b?[]	;; returns nil
									x.b[]	;; would throw an error
								</code></div>
							</div>								
						</td>
					</tr>	
					
					<tr><td><span class="Rvalue">a</span> | <span class="Rvalue">b</span></td>
						<td><span class="nilCoalescerDescription"></span>
						</td>
					</tr>
		
					<tr><td><span class="Rvalue">a</span> ?? <span class="Rvalue">b</span></td>
						<td><span class="copiedNote memoryEquality">
								Returns true if <span class="Rvalue">a</span> and <span class="Rvalue">b</span> represent the same data 
									(they hold the same piece of data in memory). 
								Examples of this are when the same value is passed into two different parameters in a function, 
									or if you're comparing what two references point to.
							</span>
						</td>
					</tr>
					<tr><td><span class="Rvalue">a</span> !?? <span class="Rvalue">b</span></td>
						<td><span class="copiedNote memoryInequality">
								Same thing as <code>!(<span class="Rvalue">a</span> ?? <span class="Rvalue">b</span>)</code>
							</span>
						</td>
					</tr>
					
					<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
						<td>Returns true if both values are the same (ie they're both <code>nil</code>).
						</td>
					</tr>
					<tr><td><span class="Rvalue">a</span> != <span class="Rvalue">b</span></td>
						<td><p><span class="overrides"></span></p>
							Same thing as <code>!(<span class="Rvalue">a</span> == <span class="Rvalue">b</span>)</code>.
							If <code>==</code> is overridden, but <code>!=</code> is not, 
								<code>!=</code> will return the complement of the value returned from <code>==</code>.
						</td>
					</tr>
				</table>
			</p>
		</div>
		
		<div class="subBox1" title="Objects">
			<table class="definitionTable">
				<tr><td class=nearTop>
						{	<span class=definitionBlock></span>
							<span class=more></span>
						}
					</td>
					<td><p>	An object literal. 
							Can be used for making objects, lists, associative arrays, matricies, etc. 
							There are three ways to add members in an object liberal: 
							<ol><li>Adding values with implicit keys. E.g. <code>{'a' 'b' 'c'}</code></li>
								<li>Adding values with explicit values as keys. E.g. <code>var x = {14:'hello' "b":4 5.9:0.1}</code>.
									This is the same as setting values with the default bracket operator, 
										e.g. that last object is the same as <code>x={} x[14]='hello' x['b']=4 x[5.9]=0.1</code>.
								</li>
								<li>Adding values with variable names as keys. 
									E.g. <code>{a=1 b=2 c=3}</code>.
									Creates a <span class=privileged></span> member.
									This is the only way private members can be created and 
										is also the only way a type can be ascribed to a key in an object literal.
									
									<div class=example><code>
										var x = {a=4}	;; a is privileged here and can't be accessed via the default bracket operator
										;; are different
										var z = {"a":4}	;; a here is not privileged
									</code></div>
								</li>
							</ol>
																		
							Any value can be a key, and keys are always differentiated using the equality operator (==).
							Members defined using option 3 above have the type <code>var</code> by default (if no type is given).
							Members defined using option 1 or 2 above have the type <code>var?</code> (they can be <code>nil</code>).
						</p>
						<p>		
							Note that setting a member of an object with : is like using the bracket operator. 
							Private members must be set with the equals sign (<code>=</code>).
							
							<div class=example><code>
								;; two ways to write the same list:
								{10 15 20 25} ;; a list
								{0:10  1:15  2:20  3:25} ;; the same list
								
								{	x=2 		 ;; an object/associative array
									var y=89
								}
								{'r':5  'u':2  34:'falcon'} ;; an object/associative array
								{	{1 2 3}	;; a matrix (list of lists, or more accurately, nested objects)
									{4 5 6}
									{9 9 3}
								}
							</code></div>
							
							All three ways to add members can be combined, as long as all the values with implicit keys come first.
							<div class=example><code>
								{   1 2 3 
								    'a':b  x=5 
								    y = fn: ret 'y'
								}
							</code></div>
														
                            Value initializations set in the <span class=definitionBlock></span> never reference the value of any member
								of that object directly.
                            Variable names refer to variables in the scope in which the object is being created up until an alias is created inside the object.
				            After an alias has been created, to access the value of another member of the object, use <code>self.</code>
							
							<div class=example><code>
								var a = 5
								var object1 = {
                                    x = a      ;; sets x to 5
                                    a = a+11   ;; sets a to 16
                                    b = self.a ;; sets b to 16
                                    
                                    c = a	   ;; throws exception because of ambiguity
								}
							</code></div>
							
							Also note that the order of object keys are the same order as in the object definition, 
                                so things like looping over an object will loop in the order they were defined in.
						</p>
						
						<p class="copiedNote privateProtectedNote">	Object members are public by default. 
							Also, objects in the same <span class=module></span> (same file) can freely access eachothers' private members 
								(despite their private qualification). 
							Therefore, the concept of "friend classes" is unneccessary in Lima.
						</p>
						
						<p>	<span class=privileged></span> members can't be accessed via the bracket operator 
								and won't show up in the object's IterList 
								(and so won't appear as a member when iterating through the object in a loop).
							All private variables are <span class=privileged></span>.
							<div class=example><code>
							var x = {
								a=5
								b=6
								C=7	
							}
							
							x['a']	;; 5
							x['c']	;; nil
							x['C']	;; also nil
							
							;; will print '56' leaving out the 7
							df x v:
								wout[v]	
							
							</code></div>
						</p>			
						<p>	Note that any member defined in the <span class=definitionBlock></span> can be defined by another member defined in 
								the <span class=definitionBlock></span>, even if it is not defined before the other (as long as there are no circular definitions).
							<div class=example><code>
							;; these is a valid definition
							{	a = 5
								b = a
								
								c = {x=5 y=0}
								d = c.x
								
								'x': {'a':this[{'g':5}]  'b': z}
								{'g':5} : 10
								z = 'moo'
							}
							</code></div>
						</p>		
					</td>
				</tr>
			</table>
			
			<p>	Objects inherit from <code>nil</code> an so get all the operators defined for <code>nil</code>.
				The following three operators are overridden: 
				<ul class=inlineList>
					<li> == </li>
					<li> | </li>
					<li> ? </li>
				</ul>
			</p>
			
			<h5>Binary operators defined for objects:</h5>
			<table class="definitionTable innerBorder">
				<tr><td><span class=Rvalue>object</span><span class=dotOperator></span><span class=Rvalue>memberName</span> </td>
					<td><p>	Accesses a member of the object. 
							<code>memberName</code> will be interpreted as a member name 
							(rather than using its value if it happens to also be the name of an variable in scope).
						</p>
						<p>	<span class=privileged></span> members take precedence over other members of an object 
								(e.g. if an object has a <span class=privileged></span> member <code>A</code> and key 'A' set, object.A 
								will access the <span class=privileged></span> member, not the key's mapped value).
						</p>
						<p> The dot operator can also be used to access values at numeric keys using immediates.
							<div class=example><code>
								var x = {'a' 'b' 'd'}
								wout x.1	;; prints 'b'
							</code></div>
						</p>
						<p>	For non-privileged members, the operation will throw an exception if the member doesn't exist  
								(in comparison, the bracket operator will return nil).
							For privileged members, the operation will return nil unless its type prevents that, in which 
								case an exception will be thrown.
						</p>
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> + <span class="Rvalue">b</span></td>
					<td>Matrix and vector addition (adds <span class=element>elements</span> with the same index together). 
						Equivalent to <code>a.map[v+b[k]]</code>.
						<span class="copiedNote vectorAddSubtract">
							For matrix/vector addition and subtraction, and the vector dot product,
								<span class="Rvalue">a</span> and <span class="Rvalue">b</span> must have the same dimensions and size.
							An exception is thrown if they don't. 
						</span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> - <span class="Rvalue">b</span></td>
					<td>Matrix and vector subtraction (subtracts <span class=element>elements</span> of <span class="Rvalue">b</span> 
							from <span class="Rvalue">a</span> that have the same index).  
						Equivalent to <code>a.map[v-b[k]]</code>.
						<span class=vectorAddSubtract></span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> * <span class="Rvalue">b</span></td>
					<td><p>	Matrix product.
							Only defined for rectangular matricies when 
								the number of rows in a is the same as the number of columns in b and vice versa.
						</p>
						<p>	This operator is also used for duplication of lists.
							It is only defined when a </code>list</code> is being multiplied by an <code>int</code> value.
							For example, <code>3*'moo'</code> would return "moomoomoo", 
								and <code>3*{3 4}</code> would return <code>{3 4 3 4 3 4}</code>
						</p>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> / <span class="Rvalue">b</span></td>
					<td>Product of inverse matricies.
						Defined only where <code>b</code> is an invertible matrix.
						Also defined only where either the matrix product of <code>a</code> on the inverse of <code>b</code> is defined,
							or where <code>a</code> is <code>1</code>, in which case the operation indicates the inverse of <code>b</code>.
					</td>
				</tr>
			</table>
			<br>
			<table class="definitionTable innerBorder">
				<tr><td><span class="Rvalue">a</span> & <span class="Rvalue">b</span></td>
					<td>Set intersection (conjunction). Returns a <span class="listobj"></span> that contains the member-values that exist in both 
							<span class="Rvalue">a</span> and <span class="Rvalue">b</span>. 
						Keys are not preserved.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> $ <span class="Rvalue">b</span></td>
					<td>Set union (disjunction). Returns a <span class="listobj"></span> that contains the member-values that exist in 
							either <span class="Rvalue">a</span> and <span class="Rvalue">b</span> or both. 
						Keys are not preserved.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !$ <span class="Rvalue">b</span></td>
					<td>Set exclusive disjunction. Returns a <span class="listobj"></span> that contains member-values that exist in only 
							<span class="Rvalue">a</span> and member-values that exist only in <span class="Rvalue">b</span> 
							but not member-values that exist in both. 
						Keys are not preserved.
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> && <span class="Rvalue">b</span></td>
					<td>Object member intersection (conjunction).
						Returns a copy of <span class="Rvalue">b</span> that only has keys that exist in both <span class="Rvalue">a</span> and <span class="Rvalue">b</span>.
						This essentially returns b with keys removed if they don't exist in a.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> $$ <span class="Rvalue">b</span></td>
					<td>Object member union (disjunction).
						Returns an object that merges <span class="Rvalue">b</span> into <span class="Rvalue">a</span>.
						Any members that exist in both objects will contain the value that exists in <span class="Rvalue">b</span>.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !$$ <span class="Rvalue">b</span></td>
					<td>Object member exclusive disjunction. 
						Returns an object that contains member that only exist in
							<span class="Rvalue">a</span> and members that only exist in <span class="Rvalue">b</span> 
							but not member-values that exist in both. 
					</td>
				</tr>
			</table>
			<br>
			<table class="definitionTable innerBorder">
				<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
					<td><p><span class="overrides"></span></p>
						True equality. 
						Returns true if both <span class="Rvalue">a</span> and <span class="Rvalue">b</span> contain all the 
							same keys, and if the values at those keys are all the same.
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> <> <span class="Rvalue">b</span></td>
					<td>Set equality. Returns true if all the values contained in <span class="Rvalue">a</span> are also contained in <span class="Rvalue">b</span>.
						Since types are considered sets in Lima, this can also be used to compare equality of types (meaning comparing two variables containing types, not comparing the types of two variables).
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !<> <span class="Rvalue">b</span></td>
					<td>Same thing as <code>!(<span class="Rvalue">a</span> <> <span class="Rvalue">b</span>)</code>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> < <span class="Rvalue">b</span></td>
					<td>Proper subset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is a proper subset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> > <span class="Rvalue">b</span></td>
					<td>Proper superset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is a proper superset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> <= <span class="Rvalue">b</span></td>
					<td>Improper subset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is an improper subset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> >= <span class="Rvalue">b</span></td>
					<td>Improper superset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is an improper superset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">x</span> &lt;&lt;  &gt;&gt;  &lt;&lt;=  &gt;&gt;= <span class="Rvalue">o</span></td>	
					<td><p>	Key-aware comparisons.
							Just like their counterparts <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code> but compares keys as well as values.
							<div class=example><code>
							{a=1 b=2} << {a=1}	;; true
							{b=1} <  {a=1}	;; true
							{b=2} << {a=1}	;; false
							</code></div>
						</p>
					</td>
				</tr>
			</table>
			<br>
			<table class="definitionTable innerBorder">
				
				<tr><td><span class="Rvalue">a</span> | <span class="Rvalue">b</span></td>
					<td><p><span class="overrides"></span></p>
						<p class="nilCoalescerDescription"></p>
					</td>
				</tr>	
				<tr><td><span class="Rvalue">a</span> || <span class="Rvalue">b</span></td>
					<td>Combines two lists by interleaving their elements by the time they were added. 
						Only works on lists that are only appended to.
					</td>
				</tr>	
				
				<tr><td>+= -= *= /= </td>
					<td>Sets a variable to some operation of itself with an expression.
						For example, <code>a+=b</code> is equivalent to <code>a = a + b</code>).
						Can't be chained.
					</td>
				</tr>
				<tr><td><span class="Ivalue"></span> .= <span class="Rvalue"></span></td>
					<td>Same idea ^. 
						The result of the expression following the operator is asigned to the calling object.
						Also can't be chained - you can't have two .= operators in the same expression. 
						<code>x.=y.=z</code> will throw an exception.
						
						<div class=example><code>
						someObject.=x	;; same as someObject = someObject.x
						
						someObject.=function[3]	;; same as someObject = someObject.function[3]
						someObject.=x.y.z[4].f	;; same as someObject = someObject.x.y.z[4].f
						
						someObject.y.z.=help.ok[5].go 
						;; same as
						var temp ~> someObject.y.z
						temp = temp.help.ok[5].go 
						</code></div>
					</td>
				</tr>
				<tr><td> [= ]  [[= ]]</span></td>
					<td>Same idea as the dot-equals operator. 
						The result of the expression following the operator is asigned to the calling object.
						Also can't be chained.
						
						<div class=example><code>
							someObject[=x]	;; same as someObject = someObject[x]
							
							someObject.y.z[=help].ok[5].go 
							;; same as
							someObject.y.z = someObject.y.z[help].ok[5].go 
						</code></div>
					</td>
				</tr>
			</table>
			<p class=chainedComparisonOperators></p>
			
			<h5>Unary operators defined for objects:</h5>
			<table class="definitionTable innerBorder">
				<tr><td><span class="Rvalue"></span>?</span></td>
					<td><span class="overrides"></span>
						<p>	Safe navigation operator (postfix operator). 
							A no-op (is intended to only have an affect on <code>nil</code>).
						</p>
						<div class=safeNavigationOperator></div>
					</td>
				</tr>	
				<tr><td><span class="Rvalue"></span>~ </td>
					<td><p>	Reference access operator. 
							For normal objects, simply passes the value right back.
						</p>
					</td>
				</tr>
				
				<tr><td><span class="Rvalue"></span><span class=splatOperator></span></td>
					<td><p>	The <span class=splat>splat</span> operator (inspired by cofeescript) 
								is used to splay values in an object out as arguments to a function or values in an object literal.
							It is also used as syntax for varargs in functions (variadic functions).
						</p>
						
										
						<p>	A <span class=splat></span> (<span class=splatOperator></span>) can be used to pass an object's members in as function arguments. 
							<div class=example><code>
								x = fn a b c: 
									wout[a b c]
									
								y = {1 2 3}
								x[y...]	;; outputs "123"
								
								z = {b=1 a=2 c=3}
								x[z...]	;; outputs "213" using z's members as named parameters
							</code></div>
						</p>
						
						<p>	Only one <span class=splat>splat</span> can appear in an argument list, but it can be written between arguments if need be.
							Splats must come after any variables with default values.
							<p class=example><code>
								fn a b=5 c splat... d e f:	
									wout splat[[cat]]
							</code></p>
						</p>
						
						<p>	<span class=splat>Splats</span> can be used in objects (and destructuring assignments).
							<p class=example><code>
								x = {1 2 3 x=4 34:'k'}
								y = {
									0 -3 
									{}:'t' 
									x... 
									3 3:3 
									'j':{'a' 'b' 'c' 'd' 'e' 'f'}
								}
								
								{j={var[a b otherLetters... f]}} = y 	;; the results are a='a', b='b', f='f', and otherLetters={'c' 'd' 'e'}
								{var[one two other...]} = x 			;; the results are one=1, two=2, three=3, and other={2:3 'x':4 34:'k'}
							</code></p>	
						</p>
						
						<p> One might ask how using <span class=splat>splats</span> in an object literal compare to <span class=mix></span>.
							The answer is that <span class=splat>splats</span> only splay out normal (non-<span class=privileged></span>) members, 
								while <span class=mix></span> includes <span class=privileged></span> members as well.
						</p>
					</td>
				</tr>
				<tr><td><span class="Rvalue"></span><span class=postExclamationOperator></span></td>
					<td><p>	Interface operator. 
							Creates an interface type that has all the members that the object has.
							Returns a type (defined by the object's interface). 
						</p>
					</td>
				</tr>
			</table>
			
			<h5>Members available by default for any object:</h5>
			<table class="definitionTable innerBorder">
				<tr><td>str</td>	
					<td>The default to-string method returns a string of code for an object-literal containing each non-privileged member in the object.
					</td>
				</tr>
				
				<tr><td>Len</td>	
					<td>This <span class=pseudoMember></span> returns the number of non-<span class=privileged></span> public members in the object.
						For example, the list <code>{0:'a' 1:'b' 2:'c' 9:'d' 'red':'no'}</code> has a <code>len</code> of 5.
						This member cannot be set(written to).
					</td>
				</tr>
				<tr><td>Len</td>	
					<td>The number of elements in the list.											
						This member cannot be set(written to).
						Is undefined for objects that aren't lists (any object that has had keys modified or added that aren't between 0 and list.len inclusive).
					</td>
				</tr>
				<tr><td>Peeklen</td>	
					<td>The number of elements in the list at the time the code is called. 
						This allows you to get the current length of a list even if its still being populated or is infinitely long.
					</td>
				</tr>
				<tr><td>Keys</td>	
					<td>This <span class=pseudoMember></span> returns a list containing all the keys of 
							the non-<span class=privileged></span> public members in the object.
						One way this can be used is to test if an object contains a certain member.
						For example, <code>object.keys.has[34]</code> returns true if the object has a member/element 34.
						The order of the keys in this member determines the order that the object is looped through.
						This member can be modified to rearrange the keys, but cannot be used to add or remove keys.
					</td>
				</tr>
				<tr><td>IterList</td>	
					<td>This <span class=pseudoMember></span> returns <code>this</code> by default.
						Since <span class=df></span> calls <code>IterList</code>, 
							df will just iterate through the object as one would expect - unless this member is overridden.
					</td>
				</tr>
			</table>
			
			<h5>Special members only available inside object literals:</h5>
			<p> The following two members reference aspects about the object literal they're written in. 
				They are special in that they break the rule of not allowing duplicate aliasing in Lima.
				This is one of the very few cases where Lima has a construct that can't be duplicated by the programmer. 
			</p>
			<table class="definitionTable innerBorder">
				<tr><td><span class=self></span>.</td>	
					<td><p>Not a true member, <span class=self></span> is a special construct that can be used 
								to access private members of the object that alias members in an upper scope 
								(it must be used to access those members, since an unqualified reference to that variable name would be ambiguous).
							It must always be used with the dot operator.
							
							<div class=example><code>
								var n = 5
								var x = {
									private:
                                        nref ~> n   ;; sets up an alias to the outside n
									    n=99        ;; private member variable
									    
									func = fn:
										ret n		;; errors because n is an ambiguous variable name at this point
									func2 = fn:
										ret this.n	;; errors because the n property is private
									func2 = fn:
										ret self.n	;; returns this object's n (with the value 99)										
									func3 = fn:
										ret nref	;; returns the outside n (with value 5)
								}	
							</code></div>
						</p>
						
						<p>	If the object is inherited by another object that overrides a member, or does not inherit that member,
								an access of that original member using <span class=self></span> in any method will reference
								that original member as an upvalue, just like an unqualified access would.
							Renaming an inherited member (with <span class=mix></span>) does not change
								the fact that the renamed member points to the same member as the function that used its originally-named counterpart.
							In fact, if an object inherits two different functions that use same variable name, those functions will
								have different upvalues for that name.
							
							<div class=example><code>
								var x = {
									n=0
									func = fn:
										n++
										ret n		;; always accesses the copy of n as defined by this object (x)
									func2 = fn:
										n++
										ret self.n	;; same as above
								}	
								
								var y = { mix[x]
									n = 'hi'
								}
								
								wout[x.func[]]  ;; prints 1
								wout[y.func[]]  ;; prints 2
								wout[y.n]       ;; prints 'hi'
							</code></div>
						</p>
						
						<p>	Note that you cannot copy or set a reference to <code>self</code>, and so it cannot be returned from a function.
							If you need to return the object itself, use <code>this</code>.
						</p>
						
					</td>
				</tr>
				<tr><td>this</td>	
					<td>Read-only member that references the object itself. 
						This will act just like using the object outside itself. 
						Private members can't be accessesed using <code>this</code>.
						
						<div class=example><code>
							var x = {
								n=0
								func2 = fn:
									n++
									ret this.n	;; will access whatever public n is available on the object inheriting this method
							}	
							
							var y = { mix[x]
								n = 'hi'
							}
							
							wout[x.func[]]	;; prints 1
							wout[y.func[]]	;; prints 'hi'
						</code></div>
					</td>
				</tr>
			</table>
			
									
			<h5>Methods available by default for any object:</h5>
			<table class="methodDefinitionTable innerBorder">
				<tr><td><span class=bracketOperator></span></td>
					<td>key1 key2 <span class=more></span></td>	
					<td><p>	Accesses a member of an object/list. 
							With only a single input key, it simply accesses that member. 
							Multiple keys can be input, which would result in accessing a member of a member. 
							For example, <code>object['a' 'b' 'etc']</code> is the same as <code>object['a']['b' 'etc']</code>. 
							<div class="elaboration">
								Keep in mind that if one of the sub-members has an overloaded bracket operator, 
									this equality still holds.
								<div class="example open"><code> <!-- I don't know why I can't get this one's click handle to work when its inside the elaboration div -->
									obj = {
										a = fn x y:
											ret {x y}		
									}
									
									obj['a' 'b' 'c'] ;; returns {'b' 'c'}
								</code></div>
							</div>
						</p>
						<p>	The bracket operator cannot acceess (read/write/create/etc) <span class=privileged></span> members of an object.
							When the bracket operator is used to set a key that is already a <span class=privileged></span> member of the object, 
								a new member will be created that can only be accessed through the bracket operator.
							<div class=example><code>
								var x = 
								{	Funco = "Ok!"
								}
								
								wout x['Funco']		;; errors because the key 'Funco' has never been set, and the bracket operator can't access read-only members
								wout x.Funco		;; outputs Ok!
								
								x['Funco'] = 4		;; sets the 'Funco' key
								
								wout x['Funco']		;; outputs 4 
								wout x.Funco		;; still outputs Ok!
							</code></div>
						</p>
								
						<p>	Also note that the bracket operator's keys are case sensitive (for string keys). For example,
								
							<div class=example><code>
								var x = 
								{	theCar = "deLorean"
								}
								
								wout x.theCar		;; outputs deLorean
								wout x.thecar		;; also outputs deLorean
								wout x["theCar"]	;; again outputs deLorean
								;;wout x["thecar"]	;; would throw an error because the key "thecar" has not been set
								
								x["thecar"] = "acura"
								
								wout x.theCar		;; outputs deLorean
								wout x.thecar		;; also outputs deLorean
								wout x["theCar"]	;; again outputs deLorean
								wout x["thecar"]	;; outputs acura
							</code></div>
						</p>
						<p>	This also works for lists and matricies (mult-dimensional arrays).
							<div class=example>
								<code>
									matrix = 
									{	{1 2 3}
										{4 5 6}
									}
								</code><br>
								<code>matrix[1 2]</code> accesses the <span class=element></span> that has the value 6.
							</div>
						</p>
						<p>	Note that the <a href="http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#hashCode()">hashcode</a> 
								used to map keys to values is automatically done based on the object's <code>==</code> operator, 
								so the programmer doesn't have to worry about creating a "good" hash function for their objects.
						</p>
					</td>
				</tr>							
				<tr><td>has</td>
					<td>x</td>
					<td>Tests if the object contains <span class="Rvalue">x</span>, where x is some lima expression.
						<code>obj.has[x]</code> is essentially is the same as <code>{x} <= obj</code>, but is more readible.
					</td>
				</tr>
				<tr><td>Ins</td>
					<td>index sequence...</td>	
					<td><p>	Returns an object with the <code>sequence</code> inserted starting at the int key <code>index</code>.
							If any values are already at indexes that will be written with values in the sequence,
								they will be removed and reinserted in the next key after the sequence (<code>index+sequence.len</code>).
							This causes all the values at consecutive indecies at or higher than <code>index</code> to be 
								"moved over" to make room for the new value.
							If <code>index</code> it is inserting at isn't an integer, an exception will be thrown.
							
							<div class=example><code>
								var a = {9 8 7 6}
								var b = a.ins[4  4]  ;; returns {9 8 7 4 6}
								b.ins[3  1 2 3]      ;; returns {9 8 7 1 2 3 4 6}
							</code></div>
							
							If the parameter index is omitted (and there's just one parameter - a single value to insert), 
								that single-value sequence will be appended to the list 
								(inserted at the "end" - the first unoccupied positive integer index closest to 0 in the object).
							
							<div class=example><code>
								var a = {}
								var b = a.ins[1]	;; returns {1}
								b.=ins[4]           ;; 4 is appended to b - b is now {1 4}
							</code></div>
						</p>
					</td>
				</tr>	
				
				<tr><td>cat</td>
					<td>list <span class=more>lists</span></td>
					<td>Concatinates lists.
						It returns a data structure, where the variables and constants are concatinated in the order they're listed. 
						<div class=example><code>
							{1 2 3}.cat[{4 5 6}]     ;; returns {1 2 3 4 5 6} 
							'I'.cat["'m a mo" 'ose'] ;; returns "I'm a moose"
						</code></div>
					</td>
				</tr>
				
				<tr><td>rm</td>
					<td>indecies..</td>	
					<td><p>	Returns a list with the selected member removed and the list rekeyed. 
							Selection works just like the <span class=bracketOperator></span>.
							<div class=example><code>
								var x = {1 2 3 4 {5 6}};
								x.rm[3]	    ;; returns {1 2 3 {5 6}}
								x.rm[4 1]	;; returns {1 2 3 {5}}
								
								var y = {59:10 69:20 79:{34:2 35:3 37:4} 89:40}
								y.rm[79 34]	;; returns {59:10 69:20 79:{3 4} 89:40}
							</code></div>
						</p>
					</td>
				</tr>
				
				<tr><td>Find</td>
					<td><span class=Rvalue>sequence</span></td>	
					<td><p>	Returns a list of <span class=slice></span>s where each member in the list is a non-overlapping <span class=slice></span> of the object 
								with the same sequence of elements as <span class=Rvalue>sequence</span>.
						</p>
						<p class=example>
							<code>
								{1 2 3 4 5}.find[{3 4}] 				;; returns { {2:3 3:4} }
								"What are you looking at?".find["at"]	;; returns two string slices that looks like { {2:'a' 3:'t'} {21:'a' 22:'t'} }
							</code>
						</p>
					</td>
				</tr>	
				<tr><td>split</td>
					<td><span class=Rvalue>sequence</span> <span class=Rvalue>includeSplitPoints</span></td>	
					<td><p>	Splits the list into a list of <span class=slice></span>s
								that are separated by one of the passed in <span class=Rvalue>sequence</span>s in the original object.
							<span class=Rvalue>includeSplitPoints</span> is optional (default false), 
                                but if true, the elements matching the sequence are included in the begginning of the next <span class=slice></span>.
						</p>
						<p class=example>
							<code>
								{1 2 3 4 5}.split[{3 4}] 				;; returns { {0:1 1:2} {4:5} }
								"What are you looking at?".split[" "].map[v.sort[k]]	   ;; returns {'What' 'are' 'you' 'looking' 'at?'}
								"What are you looking at?".split[" " true].map[v.sort[k]]  ;; returns {'What' ' are' ' you' ' looking' ' at?'}
							</code>
						</p>
					</td>
				</tr>	
				<tr><td>replace</td>
					<td><span class=Rvalue>sequence</span> <span class=Rvalue>replacement</span></td>
					<td>This function returns a new object where every occurrence of <span class=Rvalue>sequence</span> is replaced with the <span class=Rvalue>replacement</span>.
						<div class=example><code>
						var y1 = {1 2 3 4}.replace[{2 3} {90 91 93}]	;; y1 gets {1 90 91 93 4}
						
						;; is equivalent to:
						var y2 = x
						var sequence = y2.find[{2 3}]	;; find the sequence
						y2.=rm[[sequence.keys.has[k]]]	;; remove it
						df {90 91 93} value key: 
							y2.ins[key value]	;; insert the new sequence
						
						
						wout["What's going on in here?".replace["in" "down"]]	;; prints "What's godowng on down here?"
						
						</code></div>
					</td>
				</tr>
				
								
				<tr><td>tslice</td>                 
					<td><span class=Rvalue>start</span> <span class=Rvalue>end</span></td>
					<td><p> Returns the list elements of <code>list</code> that were created at or after the time represented by <code>start</code> 
                                and before (but not at) the time represented by <code>start</code>.
                            The parameters <code>start</code> and <code>end</code> can either be time objects or futures (or a combination).
                            If an argument is a future, the time it represents is the time the future is resolved (when its <code>wait</code> function would be called).
                        </p>
                        
                        <p>This is useful for implementing event-like code (see "Event handling in Lima" under Concepts for more info).</p>
						
						<div class=elaboration>
                            Defined as the following:
                            <div><code>
                                tslice = fn startTime endTime:
                                    var start = meta[this].history[startTime]
                                    var end = meta[this].history[endTime]
                                    
                                    var d = dif[start end]
                                    if d.change != nil $ d.set != nil             ;; can't have been set or have other inner changes
                                     $ d.elements[[v.type=='move' $ v.type=='remove']].len > 0  ;; can't have had elements moved or removed
                                     $ d.elements.all[v.index >= start.len]:      ;; elements should all have been appended
                                        throw "tslice can only work on a list that is only appended to between the given times"
                                    
                                    var indexes = d.elements.map[v.index]
                                    return end[[indexes.has[k]]] ;; returns slice
    						</code></div>
                        </div>
					</td>
				</tr>	
				<tr><td>tslice</td>                   
					<td><span class=Rvalue>end</span></td>
					<td>
				        Same as: 
						<div><code>
							var now = time.before: 
								list.tslice[now end]
						</code></div>    
					</td>
				</tr>	
				
				<tr><td>dot</td>
					<td>x</td>
					<td>Dot product.
						Only defined for vectors (lists of numbers).
						<code>a.dot[x]</code> is equivalent to <code>a.map[v+b[k]].join[v v2: v+v2]</code>.
						<span class=vectorAddSubtract></span>
					</td>
				</tr>
				<tr><td>cross</td>
					<td>x</td>
					<td>Cross product (of vectors).
						Only defined for vectors (lists of numbers) that have 3 dimensions.
					</td>
				</tr>					
			</table>
			
			
			<h5>Custom methods available by default for any object:</h5>
			<table class="methodDefinitionTable innerBorder">	
							
				<tr><td class=nearTop><span class=doubleBracketOperator></span></td>
					<td class=nearTop><span class=sliceConditional>sliceConditionals</span></td>	
					<td><p>	Object slicing based on conditions. 
							Also known as a filter (e.g. in python, javascript, haskell) or where (e.g. C#, sql).
							Returns a <span class=slice></span> showing the members that match the condition. 
							A <span class=slice></span> is an object whose members are references to the corresponding members in the original object 
								(this is explained more below).
							Keys preserve. 
							
						</p>
						
						<p>	In the <span class=sliceConditional></span>, 
								<code>k</code> and <code>v</code> are <span class=implicitVariable></span>s 
								unless different aliases are declared.
							<ul><li><code>v</code> refers to each value in the list, and</li>
								<li><code>k</code> refers to each key in the list.</li>
							</ul>
							Different aliases (than v or k) can be declared by writing one or two variable names and a colon right after the opening bracket
								(e.g. <code>list[[value key: key%2 == 1]]</code> and <code> list[[value: value < 1]]</code>).
							
							<div class=example><code>	
								{1 50 4 99}[[k<50]] ;; returns a slice with all members who's keys are less than 50 (a slice that looks like {0:1 2:4}). 
								
								wout 'Delorean Motor Company'[[{0 9 15}.has[k]]] ;; prints 'DMC'
	
								;; the following returns a slice with all members whos third element is less than 50 
								;; (a <span class=slice></span> that looks like {0:{1 2 3} 2:{6 7 8}}).
								{{1 2 3}{4 5 50}{6 7 8}}[[ v[3] < 50 ]] 
								
								;; the following returns a <span class=slice></span> that could represent a matrix where the columns (the first order members e.g. {1 2 3})
								;; only contain the rows where the element in the third column of that row is less than 50 (resulting in a <span class=slice></span> that looks like {{1 2}{4 5}{7 8}}.
								x = {{1 2 3}{4 5 6}{7 8 50}}
								x[[v[3] < 50]]								
							</code></div>
						</p>									
						
						
						<p>	Note that if any aliases are declared (if only one or two names are written before the colon), 
								then the undeclared aliases are not available.
							If any of the variable names v or k are already defined in scope, 
								then you have to declare at least one alias (and it can't conflict with any other name in scope). 
							<div class=example><code>
							var[k={'a' 'b' 'c' 'd'}]
							
							;; gets every other character in the list k the value alias must be defined here because otherwise k would be implicitly declared 
							;; and would error because of duplicate variable names
							k[[val: val.ascii%2 == 'a'.ascii]]
							</code></div>
						</p>
						
						<p> Similar to the bracket operator <span class=bracketOperator></span>, 
								multiple <span class=sliceConditional>sliceConditionals</span> can be written to access deeper dimensions of an object.
							<div class=example><code>
								var x = {a=1 b="hi" c={1 2 3} d={40 51 60}}
								x[['c'<=k<='d' v%2==0]] ;; returns {c={1:2}, d={40 2:60}}
								x[['c'<=k<='d']].map[ v[[val: val%2==0 ]] ]	;; this does the same thing in a less elegant way
							</code></div>
						</p>
						
						<h5>Slices</h5>
						<p> As mentioned above, a <span class=slice></span> is an object whose members are references 
								to the corresponding (non-privileged) members in the object the slice was taken from.
							This is a conceptual extension of the single-bracket-operator (single member access) to sets of members.
							If you modify a member of the <span class=slice></span>, 
								the corresponding member in the original list will also be modified,
								and vice versa.
							As with normal references, setting a variable (with the <code>=</code> operator) 
								to a slice will give that variable a copy of those members (not references to them).
							However, if you make a variable reference the slice instead (or directly use the result of functions/operators that return slices),
								you can modify the original object with that reference.
							<div class="example"><code>
								var x = {1 2 3 4 5}
								
								var y = x[[v > 3]]  ;; y gets a copy of the slice containing the first two members (1 and 2)
								y[3] = 99           ;; x remains the same because y got a copy
								
								y ~> x[[v > 3]]     ;; y is referencing the slice
								y[3] = 99           ;; x is now {1 2 3 99 5}
							
								df x[[v<3]] v:
									v++
								;; after that loop, x is now {2 3 3 99 5} - the first two members were incremented
							</code></div>
							
							While the values in a slice are references to the original values, 
								the keys are copies and so can be manipulated however.
							<div class=example><code>
								var x = 0..100
								
								;; sets the last value greater than 50 and less than 80 to 'hi'
								x[[v>50]].sort[k][0] = 'hi'		;; after this, x[51] holds 'hi', but is otherwise unmodified
							</code></div>
							
							Note that not only can changing a list-slice affect the original object, 
								but since the values in a slice are references, 
								changing values in the original object can affect the slice.
						</p>
						<p>	A slice inherits <span class=privileged></span> members from the object it is a slice of, 
								meaning that it will have all the same methods and operators as the original object. 
							Most standard methods and operators can't affect the original object the slice was taken from , 
								but some can.
							
							<table class="definitionTable innerBorder">
								<tr><td>. [] [[]] [? ] ...</td>
									<td>All of these operators return references to the object the slice was taken from, 
											and thus members of the results can modify the original object.
										<div class=example><code>
										var x = {a=1 b=2 c=3 d=4}
										x[[v<3]].b = 5	;; x.b is set to 5
										
										var y = {1 2 3 4}
										y[[v>=2 & v<5]][2] = 99   ;; y now holds {1 2 3 99}
										
										var f = fn a b c:
											a++ b++ c++
										var z = {1 2 3 4 5}
										f[ z[[k>=2]]... ]	;; after this executes, z contains {1 2 4 5 6}
										</code></div>
									</td>
								</tr>
							</table>						
								
						</p>
					</td>
				</tr>
				
				<tr><td>map</td>
					<td><span class=Rvalue>memberStatment</span></td>	
					<td><p>	Returns the result of performing some statement on every member (value or key/value pair) in a list-object.
							The <span class=Rvalue>memberStatment</span> tells how to modify the value.
							The <span class=implicitVariable></span>s <code>v</code> (for value), 
								<code>k</code> (for key), and <code>c</code> (for count) are declared by default, 
								but can be aliased just like with the double-bracket operator.
						</p>
						<p class=example>
							<code>
							{1 2 3}.map[v*5]	;; will return {5 10 15}
							{1 2 3}.map[{2 3 4 5}.has[v]].join[a&amp;b] 	;; asks if every member in the list is either 2, 3, 4, or 5 
							{false true true}.join[a&b]	;; is equivalent to the above (thus it will return false, since 1 isn't in the list). 
							{1 2 3}.map[{2 3 4}.has[v]].join[a$b]	;; similarly, this asks if any member in the list is either 2,3,4, or 5 (so this will return true).
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>map</td>
					<td><span class=Rvalue>keyStatment</span> <span class=Rvalue>memberStatment</span></td>	
					<td><p>	Just like map with one statement except that it also modifies the key-value.
							The first parameter, <span class=Rvalue>keyStatment</span>, modifies the key, and
								the second parameter <span class=Rvalue>memberStatment</span> modifies the member's value.
						</p>
						<p class=example><code>
							{1 2 3}.map[v  v^2]		;; returns an object keying the squares of the values by the original values: {1:1 2:4 3:9}
							{a=1 b=2 c=3}.map[c k] 	;; basically, returns {0:'a' 1:'b' 2:'c'} (basically the same thing as {a=1 b=2 c=3}.keys)
						</code></p>
					</td>
				</tr>
				
				<tr><td>join</td>
					<td>expression</td>	
					<td><p>	AKA reduce or fold, <code>join</code> combines all the values in an object into one value.
							The expression determines how to combine the elements of the list.
							The <span class=implicitVariable></span>s in the expression are a and b.
							In the first combination, a holds the first elements and b holds the second element.
							After the first combination, a holds the current aggregate, 
								and b holds the next element to aggregate.
							This means that the aggregate should be a similar type of value as each element 
							(as is the case with sums or concatenating strings).
							Throws an exception if theres an empty list.
						</p>
						<p class=example>
							<code>
								{1 2 3}.join[a+b] 	;; returns 6
								{}.join[a+b] 		;; throws exception
								{{x=1} {x=2} {x=3}}.join[a + b.x] 		;; errors because in the expression {x=1} + {x=2}.x, {x=1} does not have a + operator
								{{x=1} {x=2} {x=3}}.join[a.x + b.x] 	;; errors because in the expression 3.x+{x=3}.x, 3 does not have the member 'x'
							</code>
						</p>
					</td>
				</tr>
				<tr><td>join</td>
					<td>init expression</td>	
					<td><p>	Similar to join with one argument, except a always holds the current aggregate 
								(which is initialized to <code>init</code>) and b holds the next element to aggregate. 
							Empty list returns the <code>init</code> value
						</p>
						<p class=example>
							<code>
								{1 2 3}.join[0 a+b] 	;; returns 6
								{}.join[0 a+b] 		;; returns 0
								{{x=1} {x=2} {x=3}}.join[0 a+b.x] 	;; returns 6
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>scan</td>
					<td>expression</td>	
					<td><p>	Like <code>join</code> with one argument, but returns a list of all intermediate values in the join.
							<code>x.join[exp]</code> could be implemented as <code>x.scan[exp].sort[-k][0]</code> 
							- getting the last value in the list returned by scan.
						</p>
						<p class=example>
							<code>
								{1 2 3}.scan[a+b]   ;; returns {3 6}
							</code>
						</p>
					</td>
				</tr>
				<tr><td>scan</td>
					<td>init expression</td>	
					<td><p>	Again, similar to join of this form (two arguments), but returns a list of all intermediate combinations in the join.
						</p>
						<p class=example>
							<code>
								{1 2 3}.join[0 a+b]  ;; returns {1 3 6} because the first combination is 0+1
								{}.join[0 a+b]       ;; returns {0}
								{{x=1} {x=2} {x=3}}.scan[0 a+b.x] 	;; returns {1 3 6}
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>split[[ ]]</td>
					<td>expression</td>	
					<td><p> Returns a list of <span class=slice></span>s split at points where the <code>expression</code> is true.			        
							The <span class=implicitVariable></span>s <code>v</code> (for value), 
								<code>k</code> (for key), and <code>c</code> (for count) are declared by default, 
								but can be aliased just like with the double-bracket operator.
							The elements where the expression is true are left out.
						</p>
						<p class=example>
							<code>
								{1 9 10 3 1}.split[[v<10]]  ;; returns {{1 9} {3:3 4:1}}
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>split[[ ]]</td>
					<td>expression includeSplitPoints</td>	
					<td><p> Just like <code>split</code> with one parameter, except if <code>includeSplitPoints</code> is true,
					           the elements where the expression is true (the split points) are left *in* at the beginning of 
                               every <span class=slice></span> in the resulting list except the first.
						</p>
						<p class=example>
							<code>
								{1 9 10 3 1}.split[[v<10 true]]   ;; returns {{1 9} {2:10 3:3 4:1}}
								aList.split[[v!=aList[k-1] true]] ;; splits when value changes
							</code>
						</p>
					</td>
				</tr>
                		
				<tr><td>all</td>
					<td>expression</td>	
					<td><p>	Returns if <code>expression</code> is true for all members.
							Uses the same <span class=implicitVariable></span>s as <code>map</code>.
							Returns true for an empty object.
						</p>
						<div class=elaboration>
							<div><code>
								obj.all[expression]
								;; equivalent to
								obj.map[expression].join[true v&v2]
							</code></div>
						</div>
					</td>
				</tr>
				
				<tr><td>Group</td>
					<td>[expression]</td>	
					<td><p>Returns a map of sub-objects where each member in a given sub-object evaluated the <code>expression</code> to the same value.
					       Each key in the map is the value that the expression was evaluated to
						   Keys of lists preserve.
						</p>
						
						<p>	<code>Group</code> uses <span class=implicitVariable></span>s just like map and the slice operator.
						
							<div class=example><code>
								{ 1 2 3 4 5 4 3 2 }.group[v]	;; returns { 1:{1} 2:{1:2 7:2} 3:{2:3 6:3} 4:{3:4 5:4} 5:{4:5} }
								
								var x = {x={a=1 b=2} y={a=3 b=5} z={a=1 b=9}}
								var y = x.group[v.a]       ;; sets y to { 1:{x:{a=1 b=2} z:{a=1 b=9}} 3:{y:{a=3 b=5}} }
								
								var x = { {1 2 3 4} {1 5 8} {9 10 11} {9 11 15} {20 18 17} }
								x.group[v[0]]		;; returns { 1:{0:{1 2 3 4} 1:{1 5 8}} 9:{2:{9 10 11} 3:{9 11 15}} 4:{4:{20 18 17}} }
							</code></div>
						</p>
						
					</td>
				</tr>
				
				<tr><td>rm[[ ]]</td>
					<td><span class=sliceStatement></span></td>	
					<td><p>	Returns a list with the members matching the <span class=sliceStatement></span> removed and the list rekeyed. 
							The <span class=sliceStatement></span> works just like <span class=doubleBracketOperator></span>.
							<div><code>
								var x = {1 2 3 4 5 6};
								x.rm[[2&lt;v&lt;6]]	;; returns {1 2 6}
							</code></div>
						</p>
					</td>
				</tr>

				<tr><td>Ins[[ ]]</td>
					<td>value testExpression</td>	
					<td><p>	Returns a new list where for every set of <span class=element>elements</span>,
								<code>value</code> has been inserted between them as long as 
								<span class=mapStatement>testExpression</span> returns true for those elements.
							<span class=mapStatement>testExpression</span> is optional, defaulting to true.
							<div class=example><code>{1 2 3}.ins[[0]] ;; returns {1 0 2 0 3}</code></div>
						</p>
						<p>	<code>a</code>, <code>b</code>, <code>ak</code>, and <code>bk</code> are <span class=implicitVariable></span>s, 
								and they are aliased in that order.
							<code>a</code> is the value that comes first in the list, and <code>ak</code> is its index.
							<code>b</code> is the value that comes second in the list, and <code>bk</code> is its index.
						</p>
						<p class=example>
							<code>
								var x = {1 2 3}
								x.ins[[a+b-ak]]                         ;; returns {1 3 2 4 3}
								x.ins[[prev next key1: prev+next-key1]] ;; the same thing using different aliases
								x.ins[['a' a+b<4]]                      ;; returns {1 'a' 2 3}
								
								x.=ins[['hi' ak==0]]                    ;; x gets changed to {1 'hi' 2 3}
							</code>
						</p>
					</td>
				</tr>		
				
				<tr><td>Sort[ ]</td>
					<td>objectMembers</td>	
					<td><p>	Stable value sort, ascending. 
							Returns an object where the members are sorted by some values inside the brackets.
							<code>v</code> and <code>k</code> are <span class=implicitVariable></span>s.
						</p>
						<p>	It will be primarily sorted by the first value, secondariliy sorted by the second value, etc.
							Order is preserved when values are equal.
							The keys will be changed so that all the values are <span class=element>elements</span> 
								(their keys all start from 0 and increment from there).
							<div class=example><code>
								list x = {8 3 9 4 87 1}
								x.sort[v]	;; returns {1 3 4 8 9 87}
								
								var obj = {a=1 b=-2 c=3}
								obj.sort[val key: obj.len-key-1] ;; returns {3 -2 1}
								
								{{a=5 b={x=9} c='c'} {a=5 b={x=7} c='d'}}.sort[v.a v.b.x] ;; returns {{a=5 b={x=7} c='d'} {a=5 b={x=9} c='c'}}
							</code></div>
						</p>
					</td>
				</tr>
				<tr><td>Sortus[ ]</td>
					<td>objectMembers</td>	
					<td><p>	Unstable sort. 
							Exactly like <code>Sort[ ]</code>, but doesn't ensure that order is preserved when values are equal 
								(the 'us' of 'sortus' stands for "unstable").
						</p>
					</td>
				</tr>
				
				<tr><td>Sort[[ ]]</td>
					<td>objectMembers</td>	
					<td><p>	Stable expression sort, ascending. 
							Returns an object where the members are sorted based on comparison expressions inside the brackets.
							The aliases <code>a</code>, <code>b</code>, <code>ak</code>, <code>bk</code> refer to 
								the keys and values of the two items being compared by the sorting method.
							The expressions should indicate whether a comes before b.
						</p>
						<p>	Order is preserved when values are equal.
							It will be sorted primarily using the first comparison expression, secondariliy using the second comparison expression, etc.
							<div class=example><code>
								list x = {8 3 9 4 87 1}
								x.sort[[a&lt;b]] 	;; returns {1 3 4 8 9 87}
								obj.sort[[val1 val2 key1 key2: val1&lt;val2 ]] ;; also returns {1 3 4 8 9 87}
							</code></div>
						</p>
					</td>
				</tr>
				<tr><td>Sortus[[ ]]</td>
					<td>objectMembers</td>	
					<td><p>	Unstable expression sort. 
							Exactly like <code>Sort[[ ]]</code>, but doesn't ensure that order is preserved when 
								values are equal (the 'us' of 'sortus' stands for "unstable").
						</p>
					</td>
				</tr>
					
			</table>
													
			
			<h5>Special constructs that can be used inside the <span class=definitionBlock></span> of an object:</h5>
			<table class="definitionTable innerBorder">								
				<tr><td>
						static:
							<span class=statements></span>
						
						
						static
						[<span class=statements></span>
						]
					</td>	
					<td><p> Static code run when the object literal's value is created.
							The <span class=statements></span> are executed on creation of the object (not on copy/inheritance of the object).
							Any variables in the <code>static</code> block are private object members, and so are
								inaccessible outside that object.
							This is like the static block in Java and <nobr>C++</nobr>.
						</p>
						<p>	A static block's statements are run:
							<ul><li>after any declaration block lines that are before the static block</li>
								<li>before any declaration block lines that are after it</li>
							</ul>
						</p>
						
						<p>	For modules, <code>static</code> can be used to initialize things the module might need,
								for example adding time standards or string encodings.
						</p>
					</td>
				</tr>
				
				
				<tr><td><span class=target></span>[<span class=targetObject></span> <span class=more>targetObjects</span>]</td>	
					<td><p>	Declares the platforms and formats the object is intended for. 
							If the object is compiled, it will be compiled into files of different formats based on its targets (keep in mind that <span class=module>modules</span> are themselves objects).
						</p>
						<p>	Platforms and formats include optimized code for different languages, readable code for different languages,
								assembly code output for different architectures, 
								and executable native or byte code in different forms (executable, static library, or dynamic library) for different platforms.
							Examples of targets: <code>ppc.mac, x86.win32, x86.linux, x86.mac, x86.win32.o, mips, java, llvm</code>.
						</p>
						<p>Is ignored unless the object is the entrypoint being compiled.</p>
					</td>
				</tr>
			</table>
		</div>
			
		
		<div class="subBox1" title="Numbers">	
			
			<table class="definitionTable">
				<tr><td><span class=integer></span></td>
					<td>Base-10 integer. For example:
						<div class=example><code>
							var x = 34
							var y = 10000003459999
						</code></div>
					</td>
				</tr>
				<tr><td><span class=base></span>x<span class=integer></span></td>
					<td>Integer written in base <span class=base></span>. This can be used for binary or hex, 
							or any (integer) base from base-2 up to base-36. 
						For bases greater than 10, letters are used for digits higher than 9 (case insensitive). 
						Bases higher than 36 are not supported in this literal format.
						<div class=example><code>
							var w = 2x101	;; binary - x gets 5
							var x = 16x1A	;; hex - x gets 26
							var y = 20xD3A0F495B    ;; base-20
							var z = 36xzf8943lifpwe ;; base-36
						</code></div>
					</td>
				</tr>
				<tr><td><span class=decimal></span></td>
					<td>Base-10 real number.
						<div class=example><code>
							var x = 1.235
							var y = .0845
						</code></div> 
					</td>
				</tr>
				<tr><td><span class=base></span>x<span class=decimal></span></td>
					<td>Real number written in base <span class=base></span>.
						<div class=example><code>
							var x = 2x1.1	;; 1.5 in binary
							var y = 16x1.8	;; 1.5 in hex 
						</code></div> 
					</td>
				</tr>
				<tr><td><span class=infinity></span></td>
					<td>Stands for infinity. 
						This can be used for creating infinite lists or testing mathmatical operations.
						<div class=example><code>
							var x = 0..00 ;; returns an infinite list starting with 0
						</code></div> 
					</td>
				</tr>
			</table>
			
			
			<p>	Numbers are objects, but they don't share many members with default object literals. 
				They have more number-specific members.
				The following operators are overridden: 
				<ul class=inlineList>
					<li> + </li>
					<li> - </li>
					<li> * </li>
					<li> / </li>
					<li> & </li>
					<li> $ </li>
					<li> !$ </li>
					<li> < </li>
					<li> > </li>
					<li> <= </li>
					<li> >= </li>
					<li> ! </li>
				</ul>
				
				And the following operators are not inherited.
				<ul class=inlineList>
					<li> <> </li>
					<li> !<> </li>
					<li> << </li>
					<li> >> </li>
					<li> <<+ </li>
					<li> >>+ </li>
					<li> ... </li>
				</ul>
			</p>
			
			<h5>Members available to all numbers:</h5>
			<table class="definitionTable innerBorder">
				<tr><td>str</td>	
					<td>The to-string method returns the number in simple base-10 format.
					</td>
				</tr>
				
				<tr><td>bits</td>	
					<td>An array of boolean values representing the calling number, that also has special methods and operators for bit operations.
						Bit arrays are structured in little-endian order 
							(least-significant digits first - so <code>2x0001.bits[0] == 1</code>).
							
						This is essentially the way to write a bit-array immediate, for example <code>16xF041.bits</code>
							returns a the <code>bits</code> with the bits <code>1111000001000001</code>.
						The length of the bit array is the minimum length to store that number.
						Only defined for positive integers
							(use <code>ones</code> or <code>twos</code> for negative numbers, 
							 or use another encoding).
							
						<div class=example><code>
							var x = 2x110001.bits
							x.ins[0  0 0 0] ;; left-shift 3 times, like stack pushes, returns 2x110001000
							x.=rm[[[k<2]].sort[k]    ;; logical right-shift twice, like stack pops, x becomes 2x1100
							
							;; most likely, you'll never need to write an arithmetic right-shift:
							var signBit = x[x.len]
							var signBitTwoTimes = 1..2.map[signBit]
							{signBitThreeTimes... x[[v<2]].sort[k]...}  ;; returns the number arithmetically right-shifted twice
							
							x.map[v&y[k]] ;; retuns x's bits anded with y's (to work properly, x and y should be the same length)
							x.map[!v]     ;; one's complement of the bit array
						</code></div>
						
						<p>	<code>bits</code> objects have the following members:
							<table class="definitionTable innerBorder">
								<tr><td>num</td>	
									<td>Returns the positive numeric value of the bit array.
										Errors if the array is empty.
									</td>
								</tr>
								<tr><td>ones</td>	
									<td>Returns the signed numeric value of the bit array interpreted as the one's complement number representation.
										Errors if the array is empty.
									</td>
								</tr>
								<tr><td>twos</td>	
									<td>Returns the signed numeric value of the bit array interpreted as the two's complement number representation.
										Errors if the array is empty.
									</td>
								</tr>
								<tr><td>none</td>	
									<td>Returns an empty <code>bits</code> object.
									</td>
								</tr>
							</table>
						</p>
						
						<p>	<code>bits</code> objects have the following methods:
							<table class="methodDefinitionTable innerBorder">								
								<tr><td>dec</td>
									<td>encoding</td>	
									<td>Decodes the bits into a string with the encoding 
										<code>string.encoding[</code><span class=word>encoding</span><code>]</code>.
									</td>
								</tr>
								<tr><td>chunk</td>
									<td>chunkSize</td>	
									<td>Returns an array of integers made from chunks of the bit array.
										Equivalent to <code>bits.group[k//chunkSize].map[v.join[0 v+v2]]</code>
									</td>
								</tr>
								<tr><td>dechunk</td>
									<td>intList</td>	
									<td>Returns a <code>bits</code> object made from the passed list of integers.
										Equivalent to <code>bytes.join[bits.none v.ins[v2.bits]]</code>
									</td>
								</tr>
							</table>
						</p>	 
					</td>
				</tr>
				
				<tr><td>sign</td>	
					<td>This <span class=pseudoMember></span> returns -1 if the number is negative, and 1 otherwise.
					</td>
				</tr>
				
				<tr><td>sci</td>	
					<td>This <span class=pseudoMember></span> returns the number as a scientific notation string (e.g. '4.334*10^6')
					</td>
				</tr>
				<tr><td>engr</td>	
					<td>This <span class=pseudoMember></span> returns the number as an engineering notation string.
						Uses the character 'e' to represent base-10 exponentiation (e.g. '4.334e6').
					</td>
				</tr>
				<tr><td>roman</td>	
					<td>This <span class=pseudoMember></span> returns the number as a roman numeral string.
					</td>
				</tr>
				<tr><td>english</td>	
					<td>This <span class=pseudoMember></span> returns the number as a plain english string.
					</td>
				</tr>
				<tr><td>engOrdinal</td>	
					<td>This <span class=pseudoMember></span> returns the number as an english ordinal string.
					</td>
				</tr>
				
				
				<tr><td>error</td>	
					<td>Returns a <code>probability</code> object describing the probabilities that the number has accumulated calculation
							error from calculations done on the original errorless values it derives from.
						The calculation error is in absolute deviation from the true value.
						This can be used to specify the intended precision of numeric operations.
						<div class=example><code>
                            fra x = 5.43
                            df 10^4..10^5 n:
                                x *= 1+1/</code><code>n
                            
                            assert[x.error.sum[[.99 < k/</code><code>k < 1.01]] == 1] ;; assert that the resulting approximate number is always within 1% of the number's true value
						</code></div>
						
						Without any assertions like this, the program will calculate exact values,
							so asserting things about the error will usually make the program
							less precise (which may allow it to be optimized in some way).
						However, other assertions later can constrain the error of a value in such a way
							that it will force a value it derives from to be more precise than it would otherwise need to be.
					</td>
				</tr>
					
			</table>
			
			<h5>Methods available to all numbers:</h5>
			<table class="methodDefinitionTable innerBorder">
				
				<tr><td>ones</td>
					<td>length</td>	
					<td>Returns a bit array representing the (potentially signed) number in one's complement representation
							for a bit-length of <code>length</code>.
						Will throw an exception if the number can't fit into the given length.
						<div class=example><code>
							4.ones[5]    ;; returns 2x00100
							-4.ones[5]   ;; returns 2x11011
						</code></div>
					</td>
				</tr>
				<tr><td>twos</td>
					<td>length</td>	
					<td>Returns a bit array representing the (potentially signed) number in two's complement representation
							for a bit-length of <code>length</code>.
						Will throw an exception if the number can't fit into the given length.
						<div class=example><code>
							4.twos[5]    ;; returns 2x00100
							-4.twos[5]   ;; returns 2x11100
						</code></div>
					</td>
				</tr>
			
				<tr><td>sep</td>	
					<td>num character</td>	
					<td>Returns the number modified so that its string representation has separaters every <code>num</code> digits. 
						<code>character</code> is optional, but if included sets the separater character. The default character is a comma.
						For example: <code>wout 1000000.sep[3]</code> would print <code>1,000,000</code> and <code>wout 11110001.sep[4 "'"]</code> would print <code>1111'0001</code>.
					</td>
				</tr>
				<tr><td>base</td>	
					<td>num</td>	
					<td>Returns the number modified so that its string representation is in base <code>num</code>. 
						For example, <code>wout 7.base[2]</code> prints <code>111</code>
					</td>
				</tr>
				<tr><td>places</td>	
					<td>num</td>	
					<td>Returns the number modified so that its string representation has a maximum of <code>num</code> decimal places.
					</td>
				</tr>
				<tr><td>fpad</td>	
					<td>num</td>	
					<td>"Front padding". Returns the number modified so that its string representation has at least <code>num</code> digits, padded with 0s if neccessary.
					</td>
				</tr>
				<tr><td>bpad</td>	
					<td>num</td>	
					<td>"Back padding". Returns the number modified so that its string representation has at least <code>num</code> digits, padded with 0s if neccessary.
					</td>
				</tr>
				
				<tr><td>mod</td>	
					<td>num</td>
					<td>True modulus (<code>x.mod[n]</code> is the absolute value of <code>x%n</code>)</td>
				</tr>
			</table>
			
			<h5>Binary operators defined for numbers:</h5>
			<table class="definitionTable innerBorder">
			
				<tr><td><span class="Rvalue">a</span> + <span class="Rvalue">b</span></td>
					<td>Addition.	
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> - <span class="Rvalue">b</span></td>
					<td>Subtraction.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> * <span class="Rvalue">b</span></td>
					<td>Multiplication.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> / <span class="Rvalue">b</span></td>
					<td>Division.
						Note that divide by zero throws an exception (it does not return any kind of <code>NaN</code>-type value).
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> // <span class="Rvalue">b</span></td>
					<td>Discrete division (<span class="Rvalue">a</span> / <span class="Rvalue">b</span> rounded down to the nearest integer) </td>
				</tr>
				<tr><td><span class="Rvalue">a</span> % <span class="Rvalue">b</span></td>
					<td>Modulus, returns the remainder of <span class="Rvalue">a</span>//<span class="Rvalue">b</span>. 
						This works just as well with rational numbers
							- it returns a (possibly fractional) remainder after integer division is performed. 
						For example, <code>4.4%0.8</code> returns <code>0.4</code>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> ^ <span class="Rvalue">b</span></td>
					<td>Exponential power (<span class="Rvalue">a</span> to the power of <span class="Rvalue">b</span>).
						This operator is one of the few that are left associative (ie 2^3^4 does not mean the same thing as (2^3)^4)
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> <span class=rangeOperator></span> <span class="Rvalue">b</span></td>
					<td>Returns a list of all integer values from <span class="Rvalue">a</span> through <span class="Rvalue">b</span> (inclusive). 
						For example, <code>2..5</code> returns <code>{2 3 4 5}</code>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> ... <span class="Rvalue">b</span></td>
					<td><p>Creates a list representing the fractional range from <span class="Rvalue">a</span> to <span class="Rvalue">b</span> (inclusive). 
							The list is essentially an <a href="Uncountable_set">uncoutable set</a>.
							The list is conceptually continuous and so it's length will always be <code>00</code>.
							Attempting to access any other index other than 0 will throw an exception 
								(accessing index zero gives you the first value in the range).
						</p>
						<div class=example>
							While fractional ranges can't be written discretely, they can still be operated on.
							For example, 
							<div><code>
								var range = 2...5
								2 &lt; range       ;; returns true
								2.34656 &lt; range ;; returns true
								1 &lt; range       ;; returns false
								
								(3...4).all[v &lt; range] ;; returns true
								(3..4).all[v&lt;range]    ;; also returns true
								
								.4 ... .3 < 0...1 ;; returns true
								.4 ... .3 < 0..1  ;; returns false since 0..1 only contains 0 and 1
							</code></div>
						</div>
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> & <span class="Rvalue">b</span></td>
					<td>Logical and. 
						<span class="copiedNote booleanOperatorNote">
							Only defined for values 0, 1, true, and false.
							The operators <code>&</code>, <code>$</code>, and <code>!$</code> don't do short circuit evaluation
                                like they do in most Fortran-family languages
                                (although short-circuit evaluation may happen under the hood as an optimization).
						</span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> $ <span class="Rvalue">b</span></td>
					<td>Logical or. <span class=booleanOperatorNote></span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !$ <span class="Rvalue">b</span></td>
					<td>Logical xor (exclusive or) returns <span class="Rvalue">a</span>&!<span class="Rvalue">b</span> $ !<span class="Rvalue">a</span>&<span class="Rvalue">b</span>. 
						<span class=booleanOperatorNote></span>
					</td>
				</tr>
				
				
				<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
					<td>Returns true if <span class="Rvalue">a</span> represents the same numeric value as <span class="Rvalue">b</span>.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> < <span class="Rvalue">b</span></td>
					<td>Less than.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> > <span class="Rvalue">b</span></td>
					<td>Greater than.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> <= <span class="Rvalue">b</span></td>
					<td>Less than or equal to. 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> >= <span class="Rvalue">b</span></td>
					<td>Greater than or equal to. 
					</td>
				</tr>
				<tr><td>//= %= ^=</td>
					<td>Like the operators <code> += -= *= /= </code>, 
							sets a variable to some operation of itself with an expression.
						Can't be chained.
					</td>
				</tr>
				
			</table>
			<p class="copiedNote chainedComparisonOperators">
				<b>Note:</b> The 12 comparison operators (> < >> << >= <= >>= <<= == <> != !<>) can be chained like in 
					<a href="http://docs.python.org/reference/expressions.html#notin">Python</a>, 
					<a href="http://jashkenas.github.com/coffee-script/#comparisons">CoffeeScript</a>,
					and <a href="http://en.wikipedia.org/wiki/Perl_6#Chained_comparisons">Perl</a>.
				When the above ten comparison operators are followed by another comparison operator, it will treat the expression as a compound operator. 
				For example, <code>a&lt;b&lt;c</code> will be treated like <code>a&lt;b & b&lt;c</code>, 
					and <code>a&gt;=b == c != d</code> will be treated like <code>a&gt;=b & b==c & c!=d</code> 
					(tho it will make sure if a, b, c, or d are function calls, 
						that they will only be executed only as many times as it was written [once each for this example].)
			</p>
			
			
			<h5>Unary operators defined for numbers:</h5>
			<table class="definitionTable innerBorder">
			
				<tr><td>-<span class="Rvalue"></span></td>
					<td>Negative. Returns the negative of a number.
					</td>
						
					<tr><td><span class="Rvalue"></span>++</span></td>
						<td>Same as <code><span class="Rvalue"></span>+=1</code>.
						</td>
					</tr>
					<tr><td><span class="Rvalue"></span>--</span></td>
						<td>Same as <code><span class="Rvalue"></span>-=1</code>.
						</td>
					</tr>
					<tr><td> <span class="Rvalue"></span>! </td>
						<td>Factorial.
						</td>
					</tr>
				</tr>
				
			</table>
		</div>	
				
				
		<div class="subBox1" title="Strings">
			<p>A string is, conceptually, a list of characters.</p>
			
			<p> Lima is designed to operate with any characters, from any encoding. 
				Unlike Python, Lima does not choose Unicode as the be-all end-all standard to convert everything to and from.
				Unicode, while being a giant leap forward in character encoding, has its own pitfalls and downsides.
				And unlike Ruby, Lima does not force all strings to carry around their encoding around with them.
				Instead, Lima does a combination of both: it uses its own abstract character encoding derived from Unicode,
					but extended to allow representations of characters from any other encoding inside the same string.
			</p>
			<p> Strings are abstract entities containing "characters" that are conceptually encoding independant.
				In practice, like anything else in Lima, the internals will likely choose different encodings for 
					different situations, using the advantages of different encoding when it makes sense.
				See the description of LimaEncoding-8 (in the <i>Predefined Variables: Character Encodings</i> section)
					for description of how this abstract idea is implemented as a real encoding.
			</p>
			
			<p>	Lima defines a character using the encodings the system knows how to operate between.
				Two characters Character-A from Encoding-A is defined to be the same as Character-B from another Encoding-B 
					if and only if the configured encodings transcode Character A to Character B and vice versa.
			</p>
		
			<table class="definitionTable">
				<tr><td class=nearTop>'<span class=characters></span>'</td>
					<td><p>A single quoted <code>string</code> literal.
							String literals can span multiple lines, and use whitespace indentation similar to how white-space indented blocks do 
								- each line after the first starts one character after the beginning of the expression.
							<div class=example><code>
							var w = 'this is a
							         multi-line string'      ;; same as 'this is a'@,'multi-line string'
							var x = 'this is another
							              multi-line string' ;; same as 'this is another'@,'     multi-line string'
							var y = 'this is not
							    a valid multi-line string'   ;; errors because of improper indentation
							var z = 'this is also
							        not valid'      ;; also errors, because the 'n' in "not" is vertically aligned with the quote rather than the 't' in "this"

							var a = ####"Such
						 			 lines"         ;; Same as '""""Such'@,'lines'
							var b = cat[x" and then "y" and then a
						                 new line"]      ;; same as cat[x" and then "y" and then a "@,"new line"]
							</code></div>
							
						</p>
						<p>	Notes:
							<ul><li>Lima doesn't use escape codes. 
									Refer to the special-character operators for how to write special characters.
								</li>
								<li>The "grave accent" ( ` ) is an alias for the apostrophe ( ' ) when being used to surround strings</li>
								<li>Characters are represented as a string of length 1 - there is no separate character construct. 
									This also means that characters are recursive lists, in a way.
										Eg. <code>'a' == 'a'[0] == 'a'[0 0 0 0 0 0 0]</code> 
										<br>
										- its characters all the way down ; )
								</li>
								<li>There are no characters for horizontal or vertical tab, delete, bells, or other non-printable characters.
									Tabs should be encoded as either multiple spaces, or an extended space character 
										(using LimaEncoding's space-exstension marker),
										or the text should be split up into a list of strings in the case the tab character is being used 
										as a column or list separator.
									Similarly, there is no difference between a line-separator and paragraph-separator - there is only a new-line character.
									These concepts can still, of course, be encoded in a byte-array, 
										but are not (and have never been) expressible as (unique) characters.
								</li>
							</ul>
						</p>
					</td>
				</tr>
				<tr><td>"<span class=characters></span>"</td>
					<td>A double quoted <code>string</code> literal.
						The same as a single quoted string except double-quotes can be part of the string and single-quotes can't.
					</td>
				</tr>
				<tr><td>"""<span class=characters></span>"""</td>
					<td>A triple quoted <code>string</code> literal. 
						The same as a single quoted string except double-quotes and single-quotes can be part of the string.
						Also note that if a triple-quoted string ends in more than 3 triple-quotes in a row, the *last* three
							are the end of the triple quote. 
						For example, <code>"""x"""""</code> is the same thing as <code>'x""'</code>.
					</td>
				</tr>
				<tr><td>#<span class=lvalue>literalString</span></td>
					<td><p>	Pseudo-operator that creates a string literal with a quote (single, double, or triple) at the front.
							This is used for creating string literals with a quote at the front.
							Whether the quote is a double-, single-, or triple- quote depends on what quotes
								are used to create the string literal.
							The number of hash marks indicate how many of the quote to write.
							<div class=example><code>
								#"what"       ;; same as '"what'
								#'what'       ;; same as "'what"
								#"""what"""   ;; same as '"""what'
								###"what"     ;; also same thing as '"""what'
							</code></div>
						</p>
						<p>	<span class="copiedNote poundQuoteNote">
								Note that this only has meaning when creating string literals.
								This operator has no meaning when applied to variables.
								Really <code>#"</code>, <code>#'</code>, 
									<code>"#</code>, and <code>'#</code> are core syntax that
									create a string literal with a newline at the front.
								But they follow the described pattern.
							</span>
						</p>
						<p>	If a <code>#</code> precedes or follows a quote (of any kind) and is next to other operator-characters,
								an exception will be thrown because of the ambiguity.
							<div class=example><code>
								A! + B ;; not the same as A !+ B
								##'hi'## @ 
								##'hi'# #@ 
								##'hi''##@ ;; This throws an exception
							</code></div>
						</p>
					</td>
				</tr>
				<tr><td><span class=lvalue>stringLiteral</span>#</td>
					<td><p>	Returns the string with a quote (single, double, or triple) at the end.
							Whether the quote is a double-, single-, or triple- quote depends on what quotes
								are used to create the string literal.
							<div class=example><code>
								"what"# ;; same as 'what"'
								'what'# ;; same as "what'"
								
								'what'###     ;; same thing as "what'''"
							</code></div>
						</p>
						<p>	<span class=poundQuoteNote></span> 
						</p>
					</td>
				</tr>			
			</table>
						
			<p>	Strings have all the members regular objects (object literals) have, but they also have
					a couple additional methods over pure object literals, and so they are not interchangable with lists of characters.
				For example, <code>"hi"</code> is different from <code>{'h' 'i'}</code> 
					in that the former has string operators and methods defined for it, while the latter doesn't.
			</p>
			
			<h5>Special-character operators</h5>
			<p> Instead of using escape sequences, Lima uses operators.
				The following operators exist to add special characters onto a string.
				This summarizes their meanings:
				<ul><li>@ - newline</li>
					<li># - quote (single, double, or triple) - described above</li>
					<li>% - extended space</li>
					<li>! - LimaEncoding character defined by its codepoint(s)</li>
				</ul>
				<table class="definitionTable innerBorder">
				
					<tr><td>@<span class=lvalue>string</span></td>
						<td><p>	Returns the string with a newline at the front.
								<code>@"string"</code> is like <code>"/nstring"</code> in C.
							</p>
							<p>	Really <code>@"</code> and <code>@'</code> are additional custom-operators that
									create a string literal with a newline at the front.
								But they follow the same pattern.
							</p>
						</td>
					</tr>
					<tr><td><span class=lvalue>string</span>@</td>
						<td>Returns the string with a newline at the end.
						</td>
					</tr>
					
					<tr><td><span class=lvalue>string</span>%<span class=lvalue>number</span></td>
						<td><p>	Returns the string with an extended space character at the end.
								The width of the extended space is indicated by <span class=lvalue>number</span>.
								For example, ""%3 is a single space character with the width of 3 single-spaces.
								Corresponds to LimaEncodings space-extension codepoint. 
							</p>
						</td>
					</tr>					
					
					<tr><td><span class=lvalue>string</span>![<span class=lvalue>hexNumber</span> <span class=more>hexNumbers</span>]</td>
						<td><p><span class=overrides></span></p>
							<p>	Returns the string with a sequence of LimaEncoding characters at the end.
								Each character is represented by a <span class=lvalue>hexNumber</span> indicating the 
									LimaEncoding code-point or code-points the character is made up from.
								<div class=example><code>
									"A character: "![5B]
									"Some characters: "![51 A7 3E2 E6]
									"character made from multiple codepoints: "![B4F5FC93]
								</code></div>
							</p>
							<p>	Note that the true operative operators here are <code>!</code> and a custom bracket-operator.
							</p>
						</td>
					</tr>
					<tr><td><span class=lvalue>stringLiteral</span>![<span class=lvalue>base</span>:<span class=lvalue>number</span> <span class=more>numbers</span>]</td>
						<td><p><span class=overrides></span></p>
							<p>	Just like the normal <code>![</code> operator, 
									but the <span class=lvalue>number</span>s are in base <span class=lvalue>base</span>.
								<div class=example><code>
									"A character: "![8:2703]
									"Some characters: "![10: 45 67 42 39]
								</code></div>
							</p>
						</td>
					</tr>                                               
				</table>
				
				<h5>Additional methods available to all strings:</h5>
				<table class="methodDefinitionTable innerBorder">
				
					<tr><td>cat</td>
						<td>list ...</td>
						<td>Just like normal <code>cat</code>, but each argument 
								is automatically converted to a string using their <code>str</code> member.
						</td>
					</tr>
					<tr><td> dgt </td>	
						<td>string s</td>
						<td>Returns true if the caller object is higher order than <code>s</code> based on collation alone (simple order).
							<code>dgt</code> stands for "dumb greater than".
							This is the traditional default way strings have been compared in programming.
						</td>
					</tr>
					<tr><td> dlt </td>	
						<td>string s</td>
						<td>Returns true if the caller object is lower order than <code>s</code> based on collation alone (simple order).
							<code>dlt</code> stands for "dumb less than".
							This is the traditional default way strings have been compared in programming.
						</td>
					</tr>
					<tr><td>enc</td>	
						<td><span class=word>encoding</span></td>
						<td>Encodes the string into a <code>bits</code> using the encoding 
						<code>string.encoding[</code><span class=word>encoding</span><code>]</code>.
						</td>
					</tr>
				</table>
			
			</p>
			
			<p>	<h5>Additional members available to all strings:</h5>
				<table class="definitionTable innerBorder">
					<tr><td>str</td>	
						<td><p><span class=overrides></span></p>
							Returns the string. 
							In the case the string has missing indexes (like if it's a slice), 
								it will print characters in key order 
								(ie. you don't need to do this: <code>aSlice.sort[k].str</code>).
						</td>
					</tr>
					<tr><td>code</td>	
						<td>Returns a string containing the code needed to write the string literal. 
							E.g. for <code>"'someString'"@,"and "#,"anotherString"#.code</code> returns
								<code>#"'someString'"#,"@,"#,"and "#,"#,"#"anotherString"#,"#"</code>).
						</td>
					</tr>
					
					<tr><td>lower</td>	
						<td>Lowers the case of all the characters in the string.
						</td>
					</tr>
					<tr><td>upper</td>	
						<td>Capitalizes all the characters in the string.
						</td>
					</tr>
					
					<tr><td>name</td>	
						<td>Only defined for single characters (strings that are one character long).
							The name of the character.
						</td>
					</tr>
				</table>
				
				<h5>Additional operators available to all strings:</h5>
				<table class="definitionTable innerBorder">				
					<tr><td><span class=lvalue>string</span>,<span class=lvalue>string</span></td>
						<td><p>	Concatenates two strings.
								This is in large part used for creating string literals with special-characters.
								<div class=example><code>
									"String"," and another"
									#"quote"#,", said Tom." ;; literal with quotation marks
									"Line"@,"Another Line"@ ;; two lines
								</code></div>
							</p>
						</td>
					</tr> 
					<tr><td>a < b</td>
						<td><p><span class=overrides></span></p>
							<p>	Returns true if <code>a</code> is a lower order than <code>b</code> in a "natural" ordering.
								<div class="copiedNote naturalOrdering">
									Natural ordering is where characters that are not digits are compared as normal, 
										but when digits are encountered at the same place in both strings, 
										it parses as many of them as possible into an integer and compares the integers between the two strings. 
									The programmer can use any collation.
								</div>
							</p>
						</td>
					</tr>
					<tr><td>a > b</td>
						<td><p><span class=overrides></span></p>
							<p>	Returns true if <code>a</code> is a higher order than <code>b</code> in a "natural" ordering.
								<div class="naturalOrdering"></div>
							</p>
						</td>
					</tr>
					<tr><td>a <= b</td>	
						<td><p><span class=overrides></span></p>
							<p>	Like < but matches for equal strings as well.
							</p>
						</td>
					</tr>
					<tr><td>a >= b</td>	
						<td><p><span class=overrides></span></p>
							<p>	Like > but matches for equal strings as well.
							</p>
						</td>
					</tr>
					<tr><td>a..b</td>	
						<td>Returns a list of strings of the same length and less length between <code>a</code> through <code>b</code> (inclusive).
							<div class=example><code>
								collate[{'a''b''c''d''e''f''g'}]:
									var x = 'b'..'f'	;; x gets {'b' 'c' 'd' 'e' 'f'}
									var y = 'cf'..'de'	;; x gets {'cf' 'cg' 'd' 'da' 'db' 'dc' 'dd' 'de'}
							</code></div>
						</td>
					</tr>
					
					<tr><td>a..b</td>	
						<td>Returns a list of strings of the same length and less length between <code>a</code> through <code>b</code> (inclusive).
							<div class=example><code>
								collate[{'a''b''c''d''e''f''g'}]:
									var x = 'b'..'f'	;; x gets {'b' 'c' 'd' 'e' 'f'}
									var y = 'cf'..'de'	;; x gets {'cf' 'cg' 'd' 'da' 'db' 'dc' 'dd' 'de'}
							</code></div>
						</td>
					</tr>
				</table>
				<p>Note that for any of the above comparison operators and the range operator, 
					a collation must be defined for any of them to work.
				</p>
				<p class=chainedComparisonOperators></p>
					
			</p>
		</div>
		
	</div>
	
	
	<div class="mainBox mainTitle" title="Core Library">
	   These variables are are part of core Lima and are all defined as <code>const</code> (and so can't be overridden).
	
		<div class="subBox1" title="Core Types">
			<table class="definitionTable">
				<tr><td><span class=var></span></td>	
					<td>Any value except nil. 
						A variable of this type can take on a value of any type except nil.
						Has the following method:
							
						<table class="methodDefinitionTable innerBorder">
							<tr><td>parse</td>
								<td>varMap codeString</td>
								<td>Parses the codeString into an object.
									The <code>varList</code> (optional) is an object who's members will be in-scope variables 
										the evaluated object scope will have access to.
									<div class=example><code>
										var o1 = var.parse['1 2 3']
										o1[0]	;; returns 1
										
										var i = 5
										var theString = 
											'a = 5
											 b = i
											 i = 9
											 c = fn: wout[self.i]'
										
										var obj = var.parse[{i=i} theString]
										obj.a	;; 5
										obj.b 	;; 5
										obj.i	;; 9
										obj.c[]	;; prints 9
										
										var x = 5
										var obj2 = var.parse[{a~>x} 
											"
											p~>a
											f = fn: p++
											"
										]
										obj2.f[]	;; x becomes 6
									</code></div>
									
									<div class="execSafety"></div>
								</td>
							</tr>
						</table>						
					</td>
				</tr>
				<tr><td>bits</td>	
					<td>A type conforming to the structure of the <code>number.bits</code> object, 
                         which is an array of boolean values, that also has special methods and operators for bit operations.
                        The type requires the same num, ones, twos, none, dec, chunk, and dechunk members as the output of something like <code>5.bits</code>.					
					</td>
				</tr>
				<tr><td class=nearTop><span class=string></span></td>	
					<td>Variables of this type hold a lima string. Has the following members:
						<table>
							<tr><td>chars</td>	
								<td>The list of every canonical character the system knows about.
									Characters that are equivalent are not both listed, one is chosen arbitrarily.
								</td>	
							</tr>
							<tr><td>encodings</td>	
								<td>The list of supported string encodings. 
																
									<p>	<code>string.encodings</code> has the following additional method:
										<table class="methodDefinitionTable innerBorder">
											<tr><td>add</td>
												<td>name chars</td>
												<td>Adds an encoding named <code>name</code>.
													<code>chars</code> is a list of all the characters that encoding can encode, 
														in LimaEncoding (string) form.
												</td>
											</tr>
										</table>
									</p>
									
									<h5><code>encoding</code> objects</h5>
									
									<p>	<code>encoding</code> objects have the following members:
											
										<table class="definitionTable innerBorder">
											<tr><td>name</td>
												<td>Unique canonical name for the encoding.
													Basic (non-parameterized) encoding names can contain any character except brackets ('[' and ']'),
														and are case-insensitive ("UTF-8" is the same as "utf-8").
													The names of parameterized encodings pass 
														<a href="LiON.html">LiON formatted</a> parameters in brackets.
													For example, a little endian utf-16 string with a tab-width of 5
														would have the name <code>'utf-16[5 "little"]'</code>.
												</td>
											</tr>
											<tr><td>chars</td>
												<td>A list of all the characters that encoding can encode, 
														in LimaEncoding (string) form.
												</td>
											</tr>
											
											<tr><td>aliases</td>
												<td>List of aliases for this encoding.
													Does not include its canonical name.
													Adding aliases to this list will allow this encoding to be 
														accessible from <code>string.encodings</code> at that key.
													Adding an alias who's name is already in <code>string.encodings</code> 
														causes an exception.
												</td>
											</tr>
											
											<tr><td>transcoders</td>
												<td><p>	List of transcoders keyed by the canonical name of the encoding transcoded to.
														Only lists original transcoders, does not list deduced (chained) transcoders.
													</p>
													<p>	You can add or change transcoders by modifying the list.
														Adding a transcoder allows it to be used (directly or chained) by other related encodings.
														Adding a transcoder can also change the <code>chars</code> list (of the encoding or others)
															to minimize the total number of characters in the system.
														An exception will be thrown if a key of an unknown encoding is set.
													</p>
													<p>	If an added transcoder conflicts with (contradicts) another added transcoder, and exception is thrown.
														If any character can be transcoded to a different character, 
															by transcoding from LimaEncoding through any chain of transcoders,
															then some transcoder conflicts with one or more other transcoders.
														This means that every character in an encoding's <code>chars</code> list must be a unique character.
													</p>
													<p>	The transcoder functions that can be added may take two parameters:
														<ol><li>A <code>bits</code> object containing the encoded string to transcode.</li>
															<li>An object containing the encoding's <code>param</code> member</li>
														</ol>
														
														The transcorder functions must return <code>bits</code> objects.
													</p>
												</td>
											</tr>
											
											<tr><td>params</td>
												<td><p>	This member will only exist if the encoding has been passed parameters.
													</p>
												</td>
											</tr>
										</table>
									</p>
									
									<p>	<code>encoding</code> objects have the following methods:
										<table class="methodDefinitionTable innerBorder">
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>encodingName</span></td>
												<td><p>	Like a normal bracket operator for accessing object members, but recognizes encoding parmaeters.
														Encoding parameters are described in the section for the <code>name</code> member of <code>encoding</code> objects.
														These additional arguments are added into the <code>params</code> member of the returned encoding object. 
														For example, <code>string.encodings['someEncoding[2 "hi" {test="testing"}]']</code>,
															would return an encoding object with <code>params</code> set to 
															<code>{2 'hi' {test='testing'}}</code>.
													</p>
												</td>
											</tr>
											
											<tr><td>fits</td>
												<td>character</td>
												<td>Checks if the calling encoding can encode the passed character.
												</td>
											</tr>
											<tr><td>fits</td>
												<td>encoding</td>
												<td>Checks if the calling encoding can always be converted into the passed encoding 
														- if that encoding "fits into" the other one
														(if all characters can be converted from one to the other).
													<code>encodingA.fits[encodingB]</code> is the same as 
													<code>encodingA.chars.map[encodingB.fits[v]].join[v&v2]</code>
												</td>
											</tr>
											
											<tr><td>enc</td>
												<td>theString</td>
												<td><p>	Encodes <code>theString</code> into binary.
														Returns a <code>bits</code> object.
													</p>
													<p>	If a character in the string can't be encoded by this encoding,
															it should call the function contained in the attribute <code>encodingFail</code>.
														<span class="encodingFail"></span>
														The <code>enc</code> method should *never* throw an exception when a character can't be encoded, 
															although <code>encodingFail</code> can decide to throw an exception.
													</p>
													<a name="typeType"></a> <!-- This is here so that there's a bit of space between the top and the intended content -->
												</td>
											</tr>
											<tr><td>dec</td>
												<td>bitsObject</td>
												<td><p>	Decodes <code>bitsObject</code> into a string.
													</p>
													<p>	If a character in the string can't be encoded by this encoding,
															it should call the function contained in the attribute <code>decodingFail</code>.
													</p>
												</td>
											</tr>
										</table>
									</p>
								</td>
							</tr>
						</table>
					</td>
				</tr> 
				
				<tr><td><span class=type></span></td>	
					<td>Represents a variable type. 
						Things like templates in C++ or generics in Java would instead be made using variables of this type.
						
						<h5>Type methods:</h5>
            			<table class="definitionTable innerBorder">
            				<tr><td>type.set</td>	
            					<td>Creates a type from a set of values. 
            						Variables defined as that type can only take on those values.
            						<div class=example><code>
            							type.set[0 1 2 3 4 5 6 7 8 9] digits ;; a type 'digits' that represents the values 0 through 9
            						</code></div>
            					</td>
            				</tr>
            				<tr><td>type.cond</td>	
            					<td>Creates a type from a condition. 
            						Has the implicitly-declared variable <code>v</code> representing the value to be tested 
            							(for whether it's included in the type).
            						<div class=example><code>
            							type.cond[v>0]	;; all values that are greater than 0 (or otherwise have that opration defined to be true)
            						</code></div>
            					</td>
            				</tr>
            			</table>
					</td>
				</tr>
				<tr><td><span class=attribute></span></td>	
					<td>An <span class=attribute></span>. 
					</td>
				</tr>
				
				
				<tr><td>probability</td>	
					<td><p> A probability map type.
							Provides a way to query information about probabilities.
						</p>
						
						<code>probability</code> has the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>mass</td>	
								<td>probabilityMassFunction</td>	
								<td>Returns a <code>probability</code> object derived from the function
										<code>probabilityMassFunction</code>.
									<code>probabilityMassFunction</code> must be inversible function where the parameter represents the value, 
										and the result represents the probability at that discrete value.
									<div class=example><code>
										var p = probability.mass[fn int[x] y: 
											if 0&lt;x&lt;=5: ret 1/20
											   5&lt;x&lt;=10: ret 3/20
										]]
									</code></div>
								</td>
							</tr>
							<tr><td>density</td>	
								<td>probabilityDensityFunction</td>	
								<td>Returns a <code>probability</code> object derived from the function
										<code>probabilityDensityFunction</code>.
									<code>probabilityMassFunction</code> must be inversible function where the parameter represents the value, 
										and the result represents the probability density at that value.
										
									<div class=example><code>
										var p = probability.density[fn x: 
											ret e^(-x^2/2)/(2*pi)^.5
										]]
									</code></div>
								</td>
							</tr>
						</table>
						<p>The above <code>probabilityMassFunction</code> and <code>probabilityMassFunction</code>
								parameters must be inversible functions where the parameter represents the value, 
								and the result represents the probability at that discrete value.
						</p>
						
						<h4><code>probability</code> objects</h4>
						
						<code>probability</code> objects (ones returned by <code>probability.mass</code> or <code>probability.density</code>)
							have the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>	
								<td>value</td>	
								<td>The normal bracket operator.
									Accesses the probability of a discrete <code>value</code>.
								</td>
							</tr>
							<tr><td><span class=doubleBracketOperator></span></td>	
								<td>slicingStatment</td>	
								<td>The normal object-slicing operator.
									Can accesses values and their probabilities that match certain conditions.   
									
									Using this operator on a probabiliy defined by a density function, this will always return 0. 
									If Lima ever introduces infintesimal numbers, this will change to returning an infintesimal.
								</td>
							</tr>
							<tr><td>sum</td>
								<td>slicingStatment</td>		
								<td><p>	Returns the sum of probabilities for the given slice. 
										This is like the double-bracket operator, but can't use the implicitly-declared variable <code>v</code>.
									</p>
									<p>	This is shorthand for <code>pmap[[slicingStatement]].join[0 v+v2]</code>.
									</p>
								</td>
							</tr>
							<tr><td>percentile</td>	
								<td>percentileNumber</td>	
								<td>Returns the value at a given <code>percentileNumber</code> through the distribution.
									Percentile is given as a value from <code>0</code> to <code>1</code>.
									Throws an exception if the value-set is not ordered.
									<div class=example><code>
										pmap.percentile[0]  ;; minimum value
										pmap.percentile[1]  ;; maximum value
										pmap.percentile[.6] ;; 60th percentile
									</code></div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
			</table>
			
			<div class=subBox2 title="Core Parameterized Types">
				<p>	Parameterized types are functions that return a type.
				</p>
				<table class="definitionTable">
					<tr><td><span class=list></span></td>	
						<td><table class="definitionTable">
								<tr><td>!</td>	
									<td><p>	Type that can only take a list (an object with consecutive integer keys starting from key 0).
            								<div class=example><code>
            									list! x = {4 5 6}
            								</code></div>
										</p>
										<p> For an object to match the <code>list!</code> (or <code>list[]</code>) type, 
										      it must also still have all the default operators, methods, and members defined
                                              (they can be redefined but not removed).
										</p>
									</td>
								</tr>
								<tr><td>[<span class=word>type</span>]</td>	
									<td><p>	Returns a list type that can contain members of the type given in the brackets.
											<div class=example><code>
												list[int] x = {4 5 6}
												list[int$string] = {5 6 'hi'}
												list[list[int]] y = {{1 2} {5 9} {100 101}}
											</code></div>
												
											<span class="copiedNote dotOperatorWithTypeParameter">	
												Note that when a type is passed into list via the <span class=bracketOperator></span>, 
													it does not need to be appended with the reference access operator (~).
											</span>
										</p>
									</td>
								</tr>
							</table>
						</td>
					</tr>		
				</table>
			</div>					
		</div>
		
		<div class=subBox1 title="Core Objects">
			<table class="definitionTable">
				
				<tr><td>standardLibrary</td>	
					<td>This object represents the entire standard library of Lima.
						This automatically <code>mix</code>d in every module as <code>private</code>,
							but if it is explicitly <code>mix</code>d,
							you can alias or exclude certain parts of the standard library.
						<div class=example><code>
							;; includes the whole standard library except wout, and aliases depend to buildDependency 
							;; (which frees that name up for something else)
							private mix[standardLibrary:[! wout depend:buildDependency]
						</code></div>
					</td>
				</tr>
								
				<tr><td><span class=contin></span></td>	
					<td><p> An object for creating continuations that can be <span class=jump></span>ed to. 
							When copied, returns the current continuation (the line after the line executing the copy of contin).
							This is similar to a jump-label in C.
							<table class="definitionTable innerBorder">
								<tr><td><span class=postExclamationOperator></span></td>	
									<td>Returns a type that can only hold a contination object.
									</td>
								</tr>
							</table> 
						</p>
						<p> See the section on <code>jump</code> for details. </p>
					</td>
				</tr>
				
				
				<tr><td class=nearTop><span class=ref></span></td>	
					<td><p>	Object containing methods related to references.
							<span class=references></span>
						</p>
						
						<p>	Because of this, if you want to pass a reference into a function, 
								you need to use the reference access operator (~).
						</p>	
						
						<p class=example><code>	
							var x = 5
							var p ~> n
							
							wout[p]	;; prints 5
							p = 6	;; n is now 6
							
							var y = 90
							p ~> y	
							wout[p] ;; prints 90
						</code></p>
					
						<p>	Has the following operators:						
							<table class="definitionTable innerBorder">
								<tr><td><span class=postExclamationOperator></span></td>	
									<td>Returns a reference type that can reference anything except <code>nil</code>.
									</td>
								</tr>
								<tr><td>?</td>	
									<td>Returns a ref type that can also point to nil.
										<div class=example><code>
											ref?			;; reference to anything, including <code>nil</code>.
										</code></div>
									</td>
								</tr>
								<tr><td><span class=dotOperator></span></td>	
									<td><p>	Returns a reference type that can reference the type given after the dot.
											Arguments to it are <span class=pseudoMember>pseudoMembers</span>.
											If the type is contained in a variable, the variable name can be used.
											If you want to create a type with an expression, you need to surround it by parens.
											<div class=example><code>
												ref.int x           ;; reference to an integer
												ref.(int) y         ;; also a reference to an integer
												ref.(int$fra)	z   ;; reference to an int or fra
											</code></div>
											
											<span class=dotOperatorWithTypeParameter></span>
										</p>
										<p>	The resulting type also has a dot operator that can further specify the types the variable can point to.
											It also has the ? operator that can specify that its allowed to point to <code>nil</code>.
											<div class=example><code>
												ref.ref.int			;; reference to a reference to an integer
												ref.(ref.int)		;; same thing
												ref.int?			;; reference to an int or nil
											</code></div>
										</p>
									</td>
								</tr>
								<tr><td><span class=bracketOperator></span></td>	
									<td>Returns a value that, when copied, copies to a reference of the input value. 
										This can be useful for returning references from a function, creating lists of references, 
											and can be important in cases where function arguments are mutated and may be either
											references or non-references.
										<div class=example><code>
											var a = 5
											var b = 6
											var x ~> a		;; x points to a
											var y = ref[b]	;; y points to b
											var z = {ref[a] ref[b]}	;; z gets a list of references
											
											var func = fn one two three:
												one ~> b
												two = ref[b]
												ret ref[three]	;; returns a reference
													
											;; here, result gets a reference to a,
											;; x gets pointed to b instead of a, and
											;; z[0] doesn't change, but a gets pointed to b
											var result = func[x z[0] a]
										</code></div>
									</td>
								</tr>
							</table>
							
							<h4>Reference objects</h4>
							<p> Reference objects pass all accesses through to the object it points to, except for the following operators:
							</p>
							
							<table class="definitionTable innerBorder">
								
								<tr><td><span class="Rvalue"></span>~</td>
									<td><p>	Reference access operator. 
											An operator that accesses a reference itself, as opposed to as what it points to 
												(what usually happens).
											You would use this to return a reference from a function, 
												put a reference into an object immediate, or point one reference to another.
											<div class=example><code>
											X = fn:
												int r=5
												ref! x
												x ~> r	;; x points to r
												
												var A = {reference: x~} ;; an object that contains a reference
												wout[A.reference] 		;; outputs 5
												ret A.reference~ 		;; returns the reference to r
											</code></div>
										</p>
										<p> The more <code>~</code>'s in the operator, the farther down in to the reference chain it accesses.
											<div class=example>
												<code>x~~</code> would access the reference x points to (like *ptr in C). 
												<code>x~~~</code> would mean to use the reference that the reference x points to, points to (like **ptr in C), etc. 
												More examples:
												<div>	
													<code>
														int: r=5 t=36
														ref!: x y
														x ~> r	;; x points to r
														y ~> x~ ;; y points to x
														y ~~> t ;; x is repointed to t
														var A = {x~ y~ y~~}	;; A is a list that contains the three references (x, y, and x again [what y points to])
														ret A[1]~~	;; returns the reference to t (y holds a reference to a reference to t)
													</code>
												</div>
											</div>
										</p>
										
										<p>	This is also used to indicate that you want to use an <span class=attribute></span> or <span class=custom>custom function</span> 
												rather than call it on the proceding code. 
											For example,
											<div><code>
											{int~ fra~ var~} 	;; building an object that contains type attributes
											function[if~ df~]	;; passing the core custom functions <code>if</code> and <code>df</code> into a method
											</code></div>
										</p>
										<p>	Variables can be set to references, but as usual it creates a copy.
											<div class=example><code>
												var[x=5 y=6]
												var ptr ~> x
												var a = ptr~	;; a now also points to x, but it is a copy
												ptr ~> y		;; ptr points to y, but a still points to x
												wout['ptr: 'ptr', and a: 'a]	;; prints 'ptr: 6, y: 5'
											</code></div>
										</p>
										<p>	Using the ~ operator on an object that isn't a reference, 
												<span class=attribute></span>, or <span class=custom>custom function</span>
												returns the object itself (ie a no-op) except that it no longer has the ~ operator.
											This means that while <code>5~</code> is legal, <code>5~~</code> will throw an exception.
										</p>
									</td>
								</tr>
								<tr><td><span class="Lvalue"></span> ~> <span class="Rvalue"></span></td>
									<td><p>Sets the reference that a ref points to. 
											The number of tildes (~'s) tell you how "deep" the assigning goes. 
											<div class="example">
												<code>
												ref.ref.int a
												ref.int[b c]
												int[x y]
												b ~> x		;; b now points to x
												a ~> b		;; a now points to x (since b points to x)
												a ~~> y		;; this sets whatever a points to (i.e. b), to now point to y
												c ~> b~		;; c now points to what b points to (i.e. y).
												</code>
											</div>
										
											<span class=arrowOperatorChaining></span>
										</p>
										<p>	Note that multiple tildes in this operator works the same way as the unary ~ operator.
											<div class="example"><code>
												a ~~> b
												;; means the same as:
												a~ ~> b
												
												a ~~~> b
												;; means the same as:
												a~ ~~> b
												;; and
												a~~ ~> b
											</code></div>	
											
											Also note that <code>x~ = y~</code> is the same as <code>x ~> y~~</code> if x and y are both normal references.
										</p>
									</td>
								</tr>
							</table>
							
							
							<p class=example><code>	
								f = fn int x:
								  ret x+1
								g = fn int x:
								  x++
								h = fn ref.int x:
								  x++
								
								main = fn:
								  int i = 10
								  ref.int? p1
								  ref.ref.int p2
								
								  p1~		;; exception (p1 doesn't have a value yet)
								
								  p2 ~> p1 ;; type mismatch exception (p2 can't point to an int)
								  p2 ~> nil ;; type mismatch exception (p2 can't point to nil)
								  p2 ~> p1~
								  wout[p2] ;; undefined variable exception
								  p1 ~> nil
								  wout[p2] ;; type mismatch exception (p2 can't point to a reference containing nil)
								
								  p1 ~> i 
								
								  f[i] ;; returns 11
								  f[p1] ;; returns 11
								  f[p2] ;; returns 11
								 
								  g[i] ;; i is now 11
								  g[p1] ;; i is now 12
								  g[p2] ;; i is now 13
								 
								  h[i] ;; type mismatch exception (h doesn't take an int value)
								  h[p1] ;; type mismatch exception (h doesn't take an int value)
								  h[p2] ;; type mismatch exception (h doesn't take an int value)
								 
								  h[p1~] ;; i is now 14
								  h[p2~] ;; type mismatch exception (h doesn't take a ref.ref.int value)
								  h[p2~~] ;; i is now 15
							</code></p>
						</p>
					</td>
				</tr>
				
				
				<tr><td>weakRef</td>
					<td>Just like <code>ref</code>, but is a <a href='http://en.wikipedia.org/wiki/Weak_reference'>weak reference</a>.
						A variable will implicitly get a strong-reference if it isn't declared as a weak reference.
						All weak references are nullable, and so the <code>?</code> type-operator doesn't exist for <code>weakRef</code> type-object.
						
						<div class=example><code>
							var x = 5
							var p ~> x  ;; strong reference
							ref p2 ~> x ;; another strong reference
							weakRef p3 ~> x    ;; weak reference
							weakRef p4 ~> nil
						</code></div>
						
						When an object that a weak-reference is destroyed, it is automatically set to <code>nil</code>
					</td>
				</tr>		
				
				<tr><td>meta</td>
					<td>Object with methods for reflection and meta programming.
						This follows the design principle of <a href="http://en.wikipedia.org/wiki/Mirror_(programming)">mirrors</a>.
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>	
								<td></td>
								<td>Returns a type that can only hold a <code>meta</code> object 
									(an object returned by <code>meta</code>'s bracket operator).
								</td>
							</tr>
							<tr><td>?</td>	
								<td></td>
								<td>Returns type that can hold a <code>meta</code> object or <code>nil</code>.
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=lvalue>object</span></td>
								<td>Returns an object containing meta data about the passed <span class=lvalue>object</span>.
									The returned object has the following properties:
                                    <ul><li>type - The type this value has been constrained to.</li>
										<li>key - The key the object is stored under (eg its variable name, property name, map key, array index, etc).</li>
                                        <li>const - True if the object is const, false otherwise. This meta-property cannot be changed (its const, how meta ; )</li>
										<li>operators - An map from operator names to information about that operator.
											Each value is an object containing the properties:
                                            <ul><li>fn - The function to be called on operands.</li>
                                                <li>dispatch - A list of objects representing the sub-functions that make up <code>fn</code>'s multiple dispatch list.
                                                    Each element contains the properties:
                                                    <ul><li>parameters - An object where each key is a parameter name, and each value</li>
                                                    </ul>
                                                </li>
                                                <li>order - The 'order' number used to determine operator precedence.</li>
                                                <li>backward - If true, the operator is right-to-left associative (like <code>=</code>). 
                                                               If false, the operator is left-to-right associative (the usual case for most operators).
                                                </li>
                                                <li>chains - If true, the operator can chain. If false, the operator can't chain.</li>
                                                <li>upvalues - A map of the function's upvalues. Each key is an upvalue name, and each value is a reference to its value.
															   Can be set to a non-reference value (which the implementation of <code>final</code> does).
												</li>
                                            </ul>
                                            
                                            Note that <code>operators</code> has a custom bracket operator that can take in raw operator tokens in addition to string representations of the operator.
										</li>
										<li>inherit - The function used to inherit this value from its containing object.
													  The <code>mix</code> standard library method uses this to set an objects inherited properties.
													  In most core and standard objects, this just copies the value to a particular property name.
										</li>
                                        <li>public - A map of public privileged members. Each key is the name, and each value is the value.</li>
                                        <li>private - A map of private privileged members. Each key is the name, and each value is the value.</li>
                                        <li>properties - A map of normal non-privileged members. Each key is the name, and each value is the value.</li>
                                        <li>destructors - A map from constructor to destructor in the order each was (first) called.
														  This list will be called in order when an object becomes inaccessible to the rest of the program.
										</li>
										<li>initializer - A function run when the object is created. This will already have been run,
											and unless this meta property is explicitly called in user-code, will never run again.
										</li>
										<li>history[time] -
                                            Returns a new object that represents the state of the object at a particular time in the program.
											The time can be in the future. 
					    					
					    					If the time is before the variable was created, it returns <code>nil</code>.  
											
											<div class=example><code>
												var t1 = time.before:
												 var x = 5
												 
												 var t2 = time.after:
												  x = 8
												
												var oldx = meta[x].history[t1] ;; returns 5							
											</code></div>
										</li>
										<li>detachmentTime - The time the object will become inaccessible (usually in the future).</li>
                                    </ul>
									
									Note: accessing an operator function is a good way to work around objects with operator conflicts. 
									   You can specify which operator function to use.
                                       Eg: <code>meta[obj1].operator[+][obj1 obj2]</code>
								</td>
							</tr>
						</table>
					</td>
				</tr>	
				
				<tr><td class=nearTop><span class=rand></span></td>
					<td><h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>set</span></td>
								<td>Returns a random value in the set using a random number generator chosen by default criteria.
									Returns the same distribution of values the following generator would return:
									<div><code>
										rand.generator[fn properties:
											
											var p = properties[10'000] ;; indicates that the probability maps should be consistent for data-set ranging from 1 byte to 10 thousand bytes long
											
											ret p.entropy[[k>.99]] > .99               ;; hard to guess values
												& p.mean[[k<.5]]-p.mean[[k>=.5]] < .05 ;; relatively symmetric averages
												& p.chiSquare[[0.8&lt;k&lt;1.2]] > .95       ;; reasonable normalized chiSquare values
												& properties.cycleLen > 10^6           ;; long cycle length
												& properties.seedable
										]											
									</code></div>
								</td>
							</tr>
							<tr><td>generator</td>
								<td><span class=word>accept</span> </td>	
								<td><p>	Returns a random-number generator with specific properties described by the arguments.
										<span class=word>seedable</span> is a boolean value describing whether the random number generator needs to be seedable (default is true).
										<span class=word>accept</span> is a function that should return true if a 
											random-number generator's attributes meets it's requirements.
										<span class=word>accept</span> takes one parameter of the same form that <code>rand.addGenerator</code> takes.
									</p>
									
									<p> The random-number generator that <code>rand</code> returns has the following method:
										<table class="methodDefinitionTable innerBorder">
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>set</span></td>	
												<td>Returns a random value from the list <span class=word>set</span>.
													<span class=word>set</span> may not be an infinite list. 
												</td>
											</tr>
										</table>
						
										<h5>Members:</h5>
										<table class="definitionTable innerBorder">
											<tr><td>seed</td>	
												<td>The seed used to seed the random number generator. It is a const variable (after being set once). 
													If rand's bracket operator is used before rand.seed is set, it will be seeded automatically 
														by the selected random number generator. 
													Setting the random seed really should only be used for debugging purposes.
													This member only exists for random number generators that are reproducible. 
												</td>
											</tr>
										</table>
									
									</p>
									
									<div class=example><code>
										rand[1..800]	;; returns a random value between 1 and 800.
										
										;; does the same thing, but ensures that the random number generator used
										;; doesn't restart its cycle until after 9 million numbers have been generated,
										;; and at least 99.5% of the time has a normalized entropy of greater than .99
										;; for generated data with a length less than or equal to 1000 bytes.
										rand.generator[fn properties:
											if properties[1000].entropy[[k>0.99]] > .995
											   & properties.cycleLen[[k>10^9]] == 1:
												ret true
											 else
											 	ret false
										][1..800]
									</code></div>
								</td>
							</tr>
							<tr><td>addGenerator</td>
								<td><span class=word>name</span> <span class=word>properties</span></td>
								<td>Adds a random-number generator named <span class=word>name</span> to the list of available generators.
									<span class=word>properties</span> describes the properties of the generator and has the following members
											and operators:
									
									<h5>Members:</h5>
									<table class="definitionTable innerBorder">
										<tr><td>cycleLen</td>
											<td>A probaility map for how many numbers it generates before its pattern repeats</td>
										</tr>
										<tr><td>seedable</td>
											<td>True if the random-number generator is seedable, false if not.
											</td>
										</tr>
									</table>
									
									<h5>Operators:</h5>
									<table class="methodDefinitionTable innerBorder">
										<tr><td><span class=bracketOperator></span></td>
											<td><span class=word>sequenceLength</span></td>
											<td>Returns an object containing attributes of a particular random number generator.
												Each member is a probability map, mapping a particular measurement to its probability, 
													that is consistent for all byte-sequences generated by the random-number generator 
													with lengths less than or equal to <span class=word>sequenceLength</span>.
												The members are:
																
												<ul><li><span class=word>cycleLen</span> - how many numbers it generates before its pattern starts over again</li>
													<li><span class=word>entropy</span> in entropy per bit (a value between 0 and 1) 
														- describes how easy it is to guess any given generated value.
													</li>
													<li><span class=word>chiSquare</span> - the normalized Chi-square value (Chi-square per degree of freedom)</li>
													<li><span class=word>mean</span> - the arithmetic mean of the bits generated normalized by dividing by the number of bits (so that the value is between 0 and 1).</li>
													<li><span class=word>monteCarlo</span> - the arithmetic mean normalized by dividing by the number of bits .</li>
													<li><span class=word>serialCorrelation</span> - the serial correlation coefficient (a value between 0 and 1).
														Roughly describes the extent to which each value depends on the previous value.
													</li>
													<li><span class=word>kComplexity</span> - the Kolmogorov complexity divided by the number of bits (also a value between 0 and 1).
														Roughly describes how compressible generated values are.
													</li>
												</ul>
											</td>
										</tr>
									</table>
									
									See <a href="http://www.fourmilab.ch/random/">http://www.fourmilab.ch/random/</a> for more info on randomness tests.
								</td>
							</tr>
						</table>
						
						<h5>Members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>generators</td>	
								<td>Pseudo member that returns a list of available random number generators, keyed by name.
									The list can't be directly modified (its modified through <code>addGenerator</code>).
									The values associated with those keys are objects - containing properties of the random-number generator
										 - of the same form that <code>rand.addGenerator</code> 
										takes as an argument.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr><td><span class=arb></span></td>
					<td><p>	<span class=arb></span> indicates that the programmer doesn't care which value is chosen - ie. it is arbitrary as far as the programmer is concerned. 
							This might be used for example when you want to obtain one item out of a list being used as a set, but don't care which one it is. 
							You could ask for the first <span class=element></span> of the set, 
								but if you don't need that one specifically, you should ask for an arbitrary one: arb[aSet].
						</p>
						<p>	Similar to rand, arb takes a list of values that may be returned. 
							Like the concept of a don't-care in digital logic design, the compiler will attempt to use values in the list that optimize the program's speed or memory usage. 
						</p>
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=list></span></td>	
								<td>Returns an arbitrary value that is in the <span class=list></span>.
								</td>
							</tr>
						</table>
						
						<p> <span class=arb></span> can allow you to do things that almost no other programming language can: performance-based behavior. 
					        For example, you could choose between three different algorithms for text differencing:
                            <code>
                                private: algorithms = {
                                    minimal: fn[ ... ], ;; produces the smallest output
                                    light: fn[ ... ],   ;; uses the least memory
                                    quick: fn[ ... ]    ;; runs the fastest
                                }
                                
                                textDiff = arb[algorithms]
                            </code>
                            
                            And in your main program:
                            <code>
                                optimize[5*cputime + 2*memory]:
                                    var textDiff = load['textDiff'].textDiff
                                    
                                    var diff = textDiff[file["someFile.txt"]]
                                    wout[diff] ;; output on the console
                            </code>
                            
                            Each of those algorithms would produce different output (otherwise there would be no need to use <span class=arb></span>),
                                but the appropriate one would be used for the system its running on based on the 
                                optimize statment.
						</p>
					</td>
				</tr>		
								
				
				<tr><td>con</td>
					<td><code>con</code> represents the console (stdin, stdout, stderr).
						Returns a <code>chan</code> object where <code>in</code> represents stdin and <code>out</code> represents stdout.						
        				Does not inherit the <code>close</code> method.
						
        				The <code>conObject</code> attribute can be used to override console functionality.
        				
        				<h5>Members of <code>con</code>:</h5>
        				<table class="definitionTable innerBorder">
        					<tr><td>err</td>	
        						<td>Operates just like the <code>out</code> member except for stderr instead of stdout.        						
        						</td>
        					</tr>
        					<tr><td>enc</td>	
        						<td>Returns a string containing the standard name of the encoding used by the console.
        						</td>
        					</tr>
        				</table>
        					
        				<h5>Methods of <code>con</code>:</h5>
        				<table class="methodDefinitionTable innerBorder">
        					<tr><td>cr</td>	<td></td>	
        						<td>A "real carriage return" (returns to the beginning of the line).
        						</td>
        					</tr>
        					<tr><td>bs</td>	<td></td>	
        						<td>Backspace. 
        							Note that the affect of this function depends on the state of the console.
        							For example, you can't usually backspace a newline when writing to the console.
        						</td>
        					</tr>
        				</table>
					</td>
				</tr>
				
				<tr><td><span class=process></span></td>
					<td>Members:						
						<table class="definitionTable innerBorder">
							<tr><td>name</td>	
								<td>Name of the command used to invoke the program. 
									This is the value you get in <code>main</code>'s <code>argv[0]</code> in C.
								</td>
							</tr>
							<tr><td>file</td>	
								<td>Name of the file the currently running line of code originated in.</td>
							</tr>
							<tr><td>line</td>	
								<td>Line number of the line of code in the original source file.</td>
							</tr>
							<tr><td>character</td>	
								<td>Character at which the current statment started in the original source file.
									If the currently running line has more than one statement, 
									this would identify which statement by its starting position.
								</td>
							</tr>
							<tr><td>pid</td>	
								<td>Process ID of the program.</td>
							</tr>
							<tr><td>start</td>	
								<td>Time the program started running.</td>
							</tr>
							<tr><td>end</td>	
								<td>Time the program will end (used for describing things that should last til the end of the process).</td>
							</tr>
							<tr><td>vendor</td>	
								<td>Name of the maker of the compiler or interpreter.</td>
							</tr>
							<tr><td>version</td>	
								<td>Version of the compiler or interpreter</td>
							</tr>
							<tr><td>environ</td>	
								<td>Holds a list of the environment variables given to the process.
									<code>process.environ</code> members can be added and modified, 
										but this will not affect the rest of the system.
								</td>
							</tr>							
							
							<tr><td>rmSigtermHandler[]</td>
								<td>Removes the default SIGTERM handler, which terminates the process.
								</td>
							</tr>
							<tr><td>rmSigintHandler[]</td>
								<td>Removes the default SIGTERM handler, which terminates the process.
								</td>
							</tr>
							<tr><td>rmSighupHandler[]</td>
								<td>Removes the default SIGTERM handler, which terminates the process.
								</td>
							</tr>
						</table>
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>executablePath</span> <span class=word>args</span> <span class=word>input</span> 
									<span class=word>cwd</span> <span class=word>env</span>
								</td>	
								<td><p>	Starts a process, who's path or name are held in <span class=word>executablePath</span>,
											with the command-line arguments <span class=word>args</span>, held in a list of strings. 
										<span class=word>input</span> (optional) is the stdin input piped into the process.
										<span class=word>cwd</span> (optional) sets the current working-directory for the new process,
										 	the default is the directory it lives in.
										<span class=word>env</span> (also optional) sets the environment variables for the new process.
									</p>
									<p>	Returns a process-object (which implements the interface of <code>future</code>):
                                    
                                        <h5>Process-objects have the following properties:</h5>
            							<table class="definitionTable innerBorder">
            								<tr><td>pid</td>	
            									<td>The processes id.
            									</td>
            								</tr>
            								
            								<tr><td>wait: </td>	
            									<td>A custom function that waits until the process is complete before running the passed statements.
                                                    See the section on <code>future</code> for more info.
            									</td>
            								</tr>
            								<tr><td>out</td>	
            									<td>A string object representing the final state of the process's stdout.
            									</td>
            								</tr>
            								<tr><td>err</td>	
            									<td>A string object representing the final state of the process's stderr.
            									</td>
            								</tr>
            								<tr><td>code</td>	
            									<td>The exit code of the process.
            									</td>
            								</tr>
            								
            								<tr><td>state</td>	
            									<td>Returns 
            										<ul><li>'active' if the process is still running,</li>
            											<li>'done' if the process has completed, or</li>
            											<li>'dead' if the process has been killed.</li>
            										</ul>
            									</td>
            								</tr>
            								<tr><td>signal[signalName]</td>	
            									<td>Sends a signal to the process.
            										The signal can be one of the following
            										<table class="definitionTable innerBorder">
            											<tr><td>SIGTERM</td>
            												<td>Not supported on Windows
																<div class="copiedNote sigTermAndInt">
																	SIGTERM and SIGINT have default handlers on non-Windows platforms that resets the terminal mode before 
																		exiting with code 128 + signal number. 
																	This default behaviour can be removed by calling <code>process.rmSigtermHandler[]</code> and <code>process.rmSigintHandler[]</code>.
																</div>
															</td>
            											</tr>
            											<tr><td>SIGINT</td>
            												<td>Can usually be generated with CTRL+C (that may be configurable).
																<div class="sigTermAndInt"></div>
															</td>
            											</tr>
            											<tr><td>SIGPIPE</td>
            												<td></td>
            											</tr>
            											<tr><td>SIGHUP</td>
            												<td>Generated on Windows when the console window is closed, and on other platforms 
																	under various similar conditions, see signal(7). 
																The signal can be handled, but the process will be unconditionally terminated by Windows about 10 seconds later. 
																On non-Windows platforms, the default behaviour of SIGHUP is to terminate the process, 
																	but this default behaviour can be removed by calling <code>process.rmSighupHandler[]</code>.
															</td>
            											</tr>
            											<tr><td>SIGBREAK</td>
            												<td>On Windows, delivered when CTRL+BREAK is pressed. 
																On non-Windows platforms there is no way to send or generate it.
															</td>
            											</tr>
            											<tr><td>SIGWINCH</td>
            												<td>Delivered when the console has been resized. 
																On Windows, this will only happen on write to the console when the cursor is being moved, 
																	or when a readable tty is used in raw mode.
															</td>
            											</tr>
            											<tr><td>SIGKILL</td>
            												<td>Not a handlable event (will not create an event in the signals list), it will unconditionally terminate the process on all platforms.</td>
            											</tr>
            											<tr><td>SIGSTOP</td>
            												<td>Is not handleable (will not create an event in the signals list).</td>
            											</tr>
            										</table>
            									</td>
            								</tr>
            								<tr><td>kill</td>	
            									<td>Kills the process immediately.
            									    Calls with <code>wait</code> will throw an exception.
            									</td>
            								</tr>
            							</table>
									</p>							
								</td>
							</tr>
							<tr><td>raw</td>
								<td><span class=Rvalue>systemCommand</span></td>	
								<td>Executes the <span class=Rvalue>systemCommand</span> string as a raw system call.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td class=nearTop>chan</td>
					<td><p>	A <code>chan</code> object is a construct that can facilitate communication between processes.
							They are similar to 
								<a href="http://golangtutorials.blogspot.com/2011/06/channels-in-go.html">channels in Go</a>
								and <a href="http://www.disinterest.org/resource/stackless/2.6-docs-html/library/stackless/channels.html">in Stackless Python</a>.
							They're also related to the concept of a pipe (e.g. in unix).
						</p>
						
						<p> A channel consists of an input list and and output list.
							Reading from the output list will block until the value asked for is known.
							The copy operator of <code>chan</code> creates a new empty channel, 
								so all you need to do to create a new channel is <code>var newChannel = chan</code>.
								
							<div class=example><code>
								var c = chan
								thread: 
									list.sort[]
									c.out.=ins["done"]
									
								var a = c.in[0]  ;; waits for any input on the channel to arrive, and a gets "done" when it does
							</code></div>
						</p>
						<p class=elaboration>	
							Channels can be used to communicate between <code>thread</code> blocks,
								but channels are also used as the conceptual basis for network communication 
								- because you usually don't know exactly when information might arrive on a socket.
						</p>
					
						<h3><code>chan</code> objects</h3>				
										
						<p>Objects created by copying <code>chan</code> have the following members:
						</p>
						<table class="definitionTable innerBorder">
							<tr><td>in</td>	
								<td>Conceptually, the list of all items that have been and will be recieved on the channel.
									Copying the <code>in</code> member creates a new object containing the same list of items
										and will receive all the same items that the original <code>in</code> member gets.
									This ensures that multiple receivers are guaranteed to see all items sent, 
										even if the original <code>in</code> member removes items 
										(e.g. if it uses it is a queue, cutting items from the front).
										
								</td>
							</tr>
							<tr><td>out</td>	
								<td>The list of items that have been sent on the channel.
									Sending on the channel is done by appending to this list.
									Copying the <code>out</code> member creates a new object containing the same list of items, 
									but when modified only shows modifications to the copy, not the original.
									This allows multiple senders to send items and keep track of just the items they sent.  
        							<span class="copiedNote outputLists">
        								This object can only be appended to - elements, once written, can't be changed or removed.
        								Also, creating values at keys that are not the next position in the list will throw an exception.
        							</span>
								</td>
							</tr>
						</table>
						
						<p>Objects created by copying <code>chan</code> have the following pseudo-members:
						</p>
						<table class="definitionTable innerBorder">
							<tr><td>close</td>	
								<td>Closes the channel - at this point the length of the <code>in</code> member is known.
								</td>
							</tr>
							<tr><td>unmake</td>	
								<td>On unmake, the channel's <code>close</code> method is automatically called.
								</td>
							</tr>
						</table>
						
						<p>Objects created by copying <code>chan</code> have the following methods:
						</p>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>||</td>
								<td>otherChannel</td>	
								<td>Combines two channels. 
									Sending on a combined channel will send on both (multicast), 
										and receiving from a combined channel will receive the first message 
										that comes in on either channel (multiplex).
										
									<div class=example><code>
										var channels = c1 || c2
										channels.in[0] ;; gets the first item that comes in on either of the channels
									</code></div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				
				
				<tr><td class=nearTop><span class=file></span></td>
					<td>Object containing methods for dealing with files.
					   The behavior of this object can be overridden using the <code>fileObject</code> attribute.
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>filePath</span></td>
								<td><p>	Opens the file that has the given path.
										Creates the file if it doesn't exist and creates any directories needed for the path.
										<span class=word>filePath</span> is a platform-independant path string in the style of unix filepaths.
										The bracket-operator will concatenate any path parts passed (just like <code>wout</code>).
										It is opened for reading and/or writing (depending on how the program will use the file).
									</p>	
									
									<p> Since <span class=word>filePath</span> is in unix-style, the folder separator is '/'.
										The root folder is '/' and paths that don't begin with a '/' character are relative paths.
										Also, '..' represents the previous directory.
										For example, the windows path <code>"C:\someFolder\someFile.txt"</code>
											would be represented as <code>"/C/someFolder/someFile.txt"</code> in Lima.
										In a system without a root, like windows, '/' can be represented, 
											but can't have anything written to it in the normal way 
											(you'd have to mount a new drive to add something at the root).
										Filepaths must be transcodable to the encoding <code>dir.enc</code>, 
											and if not, an exception will be thrown.
									</p>
									<p>	Returns a <code>file!</code> object representing the bits inside the file 
											(bits representing the raw bytes, without OS specific conversions).
										The file can be written to as if it was a <span class=listobj></span> and has all the methods and operators a normal bits-object has.
										Can throw some errors, including: "unable to write", and "unable to overwrite", and "unable to open".
									</p>
									
									<h5>The returned object contains the following pseudo-members:</h5>
									<table class="definitionTable innerBorder">
										<tr><td>name</td>	
											<td>Holds the file's name.
											</td>
										</tr>
										<tr><td>dir</td>	
											<td>Holds a <code>dir</code> object representing the directory the file is in.
											</td>
										</tr>
										<tr><td>type</td>
											<td>Holds the type of file this object represents.
                                                The values this can take on is filesystem dependent, but will generally be one of the following:
                                                <ul><li>file</li>
                                                    <li>blockDevice</li>
                                                    <li>characterDevice</li>
                                                    <li>symLink</li>
                                                    <li>fifo</li>
                                                    <li>socket</li>
                                                </ul>
											</td>
										</tr>
										
										<tr><td>close</td>	
											<td>This pseudomember closes the file. 
												Attempting to read from or write to the file will reopen it.
											</td>
										</tr>
										<tr><td>rm</td>	
											<td>This deletes the file.
											</td>
										</tr>
										<tr><td>flush</td>	
											<td>This flushes the buffer for the file.
												Should only be used if something absolutely needs that file to be updated immediately.
											</td>
										</tr>

										<tr><td>stats</td>
											<td>Contains filesystem specific information about the file.
                                                An example of stats info for a file in a usual linux file-system:
                                                <div><code>
                                                    { dev= 2114,
                                                      ino= 48064969,
                                                      mode= 33188,
                                                      nlink= 1,
                                                      uid= 85,
                                                      gid= 100,
                                                      rdev= 0,
                                                      size= 527,
                                                      blksize= 4096,
                                                      blocks= 8,
                                                      atime= time[2011-08-10 23:24:11],
                                                      mtime= time[2011-08-10 23:24:11],
                                                      ctime= time[2011-08-10 23:24:11] }
                                                </code></div>
											</td>
										</tr>
										<tr><td>meta</td>	
											<td><p>This is a associative array that allows access to the file's metadata.
												</p>
												<p>If the filesystem doesn't natively support arbitrary metadata,
														lima will create a hidden file in the same directory named ".metadata"
														and store the metadata there in <a href="LiON.html">LiON format</a> encoded
														in UTF-8.
													The top level value will be an object that contains the metadata keyed with 
														the name of each file or directory within the directory the ".metadata" is in.
													The value at each file/directory key will be an object containing the metadata.
												</p>
											</td>
										</tr>
										
										<tr><td>filesystem</td>	
											<td>Returns the filesystem in which the file resides. 
												Has the same members and methods that the <code>filesystem</code> member of a <code>dir</code> object has.
											</td>
										</tr>
									</table>
									
									<h5>The returned object contains the following methods:</h5>
									<table class="methodDefinitionTable innerBorder">
										<tr><td>move</td>
											<td>stringPath</td>	
											<td>Renames/moves the file to the new path and name.
											</td>
										</tr>
										<tr><td>unmake</td>
											<td></td>	
											<td>The file destructor flushes and closes the file.
											</td>
										</tr>
										<tr><td>dec</td>
											<td><span class=word>encoding</span></td>	
											<td>Returns a similar file object, except that it contains string characters instead of bits.
												<span class=word>encoding</span> should be the string-name of the encoding.
												If <span class=word>encoding</span> is not passed, this will use the string at metadata key 
													"fileEncoding" as the encoding, if available.
												If not available for whatever reason, an exception will be thrown.
											</td>
										</tr>
									</table>
									
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>filePath</span><span class=word>encoding</span></td>
								<td>Returns a string-file obtained by decoding the file. 
									This is the same thing as:
									<div><code>
										;; var x = file[path encoding]
										var x = file[path].dec[encoding]
										x.meta["fileEncoding"] = encoding
									</code></div>
									
									This construction ensures that the file will record its encoding for later use.
								</td>
							</tr>
							
							<tr><td><span class=postExclamationOperator></span></td>	
								<td></td>	
								<td>Returns a type that can only take on a file - an object returned by this object's bracket operator described above.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td class=nearTop><span class=dir></span></td>	
					<td>Object with methods for dealing with directories in the filesystem. 
    					The behavior of this object can be overridden using the <code>dirObject</code> attribute.
						
						Methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>pathString</span></td>	
								<td>Returns a directory literal. 
									If the directory does not yet exist, it does not create the directory,
										and the object's methods treat it as if it was an existant, but empty, directory.
									<span class=word>pathString</span> contains the directory path.
									<span class=word>pathString</span> should have the same system-independant unix-style path
										that <code>file</code> takes as a file path.
									Directory paths must be transcodable to the encoding <code>dir.enc</code>, 
										and if not, an exception will be thrown.
											
									<h5>The returned object contains the following pseudo-members:</h5>
									<table class="definitionTable innerBorder">
										<tr><td>path</td>	
											<td>Returns the system-independant path string of the directory.
												Always contains a '/' at the end.
											</td>
										</tr>
										<tr><td>make</td>	
											<td>Creates the directory and any directories it needs to create its path.
												If a directory already exists, nothing will be done.
                                                If something exists with that name that is not a directory, an exception will be thrown.
											</td>
										</tr>
										
										<tr><td>dirs</td>
											<td>A list of child directories keyed by their names.
											</td>
										</tr>
										<tr><td>files</td>
											<td>A list of files in the directory keyed by their names.
                                                This list includes any file-system entity that isn't a directory.
											</td>
										</tr>
										<tr><td>up</td>	
											<td>Returns the parent directory if the directory object isn't the root.
												Returns nil if the directory object is the root.
											</td>
										</tr>
										<tr><td>rm</td>	
											<td>Deletes the current directory and any containing files and folders.
											</td>
										</tr>
										
										<tr><td>str</td>	
											<td>Its to-string method, prints the directory path.
											</td>
										</tr>
										
										<tr><td>filesystem</td>	
											<td><p>Returns an object that has information about the filesystem and
													functions for converting to and from filesystem-specific values.
												</p>
												
												<p>It has the following members:
													<table class="definitionTable innerBorder">
														<tr><td>enc</td>	
															<td>The encoding used by the filesystem (how it stores filenames, etc).
															</td>
														</tr>
													</table> 	
												</p>
												
												<p>It has the following methods:
													<table class="methodDefinitionTable innerBorder">
														<tr><td>toNativePath</td>	
															<td>limaPath</td>	
															<td>Returns a native path for this filesystem from the given system-independent path.
															</td>
														</tr>
														<tr><td>fromNativePath</td>	
															<td>fileSystemPath</td>	
															<td>Returns a system-independent path given the given filesystem path.
															</td>
														</tr>
													</table> 	
												</p>
											</td>
										</tr>
									</table>
									
									<h5>The returned object contains the following methods:</h5>
									<table class="methodDefinitionTable innerBorder">
										<tr><td>move</td>
											<td>stringPath</td>	
											<td>Renames/moves the directory and all of its contents to the new relative or absolute path.
												Will throw an exception if something already exists at that path.
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table> 
						
						Members and unary operators:
						<table class="definitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>	
								<td>Returns a type which constrains an object to only take on a directory.
								</td>
							</tr>
							<tr><td>cwd</td>	
								<td>A <span class=dir></span> object representing the current working directory of the program.
									Modifying this modifies the cwd of the process.
								</td>
							</tr>
							<tr><td>main</td>	
								<td>A <span class=dir></span> object representing the directory the executable lives in.
								</td>
							</tr>
							<tr><td>module</td>	
								<td>Returns a <span class=dir></span> object representing the directory the module lives in.
								</td>
							</tr>
						</table> 
					</td>
				</tr>				
				
				<tr><td class=nearTop>system</td>	
					<td>Methods for making system calls. 
						The encoding used for this is the same as <code>con.enc</code>.
						The behavior of this object can be overridden using the <code>systemObject</code> attribute.
			
						<h5>Members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>name</td>	
								<td>The name of the operating system.
								</td>
							</tr>
							<tr><td>version</td>	
								<td>The release version of the operating system.
								</td>
							</tr>
							<tr><td>machine</td>	
								<td>The machine-name/hosname of the OS.
								</td>
							</tr>
							<tr><td>platform</td>	
								<td>The platform of the OS (ie win32, etc).
								</td>
							</tr>
							<tr><td>arch</td>	
								<td>The architecture of the OS (ie x64, etc).
								</td>
							</tr>
							
							<tr><td>tempdir</td>	
								<td>Returns a <code>dir</code> object representing the system's default directgory for temporary files.
								</td>
							</tr>
							<tr><td>endian</td>	
								<td>The endianness of the cpu. Either "BE" or "LE".
								</td>
							</tr>
							
							<tr><td>uptime</td>	
								<td>Returns a <code>dur</code> object representing the amount of time the system has been on for.
								</td>
							</tr>		
							<tr><td>mem</td>	
								<td>An object containing the following members
                                    <ul><li>free - number of free bytes of memory in the system</li>
                                        <li>total - number of total bytes of memory in the system</li>
                                    </ul>
								</td>
							</tr>
							<tr><td>hosts</td>	
								<td>An object where each key is a hostname defined by the OS (/etc/hosts and the like),
								        and each value is an <code>adr!</code> representing the address given to that hostname.
								</td>
							</tr>
							
							<tr><td>cpus</td>	
								<td>A list of objects with info about each available cpu/core.
								    Each object has the following structure:
                                    <ul><li>model - the name of the cpu</li>
                                        <li>speed - the speed of the core in MHz</li>
                                        <li>times - contains an object of the time in milliseconds the core spent in various categories:
                                            <ul><li>user</li>
                                                <li>nice</li>
                                                <li>idle</li>
                                                <li>irq</li>
                                            </ul>
                                        </li>
                                    </ul>
								</td>
							</tr>
							
							<tr><td>environ</td>	
								<td>Holds a list of the environment variables set for the operating system (or current user).
									When <code>system.osEnviron</code> members are be added or modified, 
										this will make changes to the whole system as well as automatically change the 
										corresponding value in <code>process.environ</code>.
								</td>
							</tr>
							
							<tr><td>processes</td>
								<td>Returns the list of process objects for all the processes the user is allowed to see on the system.
								</td>
							</tr>
						</table>
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>process</td>
								<td><span class=Rvalue>pid</span></td>	
								<td>Returns a process object representing the process with the given pid.
								</td>
							</tr>
							<tr><td>host</td>
								<td>network hostname</td>	
								<td>Returns an <code>adr!</code> object representing the primary address for the hostname.
								    This takes into account the system's defined hostname overrides (in /etc/hosts and the like).
								</td>
							</tr>
						</table>					
					</td>
				</tr>
				
				
				
				<tr><td class=nearTop><span class=word>unixtime</span></td>
					<td>An object that has methods for retriving a unix timestamp.
                    
                        <h5>Pseudo-members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>after: <span class="word">statements</span></td>	
								<td>A custom function that returns an integer unix timestamp representing the time directly after the <code>statements</code> have run.
									<div class="copiedNote unixtimeNotAvailable">
										Timestamps capturing is still allowed on machines that don't have the actual date or time availble to it,
											as long as only time-differences (ie durations of seconds) are used.
									</div>
									<div class="elaboration">
										<span class="copiedNote nowUnixtime">
											In Lima, there is no "now".
											Because statements can be reordered to optimize performance, there would be no 
												way to guarantee that a time is captured both after its preceding statements
												and before its following statements without destroying lima's ability to reorder
												statements optimally.
											So instead, Lima allows you to choose to either bind a time before some given statements
												or before them, but not both. 
											If you need both, you need to create two separate time objects.
											<br>
											
											<div><code>
												;; the following to sets of statements can be run completely in parallel
												;; which means that ta1 may be the exact same time as tb1
												;; and also means that tb2 might even be earlier than ta2 (if 'B.txt' takes less time to download and output)
												
												var ta1 = unixtime.before:
												 var ta2 = unixtime.after:
													var x = downloadFile['A.txt']
													outputFile['some/path/A.txt', x]
												
												wout['File A took: '(ta2-ta1)' seconds to download']
                                                												
												var tb1 = unixtime.before:
												 var tb2 = unixtime.after:
													var y = downloadFile['B.txt']
													outputFile['some/path/b.txt', y]
												
												wout['File A took: '(tb2-tb1)' seconds to download']
												
												;; the following statement guarantees that the time is as close the console output as possible
												var t = unixtime.before:
													wout['The unix time is: 't]
												
												;; the following statement throws an exception because t isn't declared until after the wout statement runs
												var t = unixtime.after:
													wout['The time will be... 't]
											</code></div>
										</span>
									</div>
								</td>
							</tr>
							<tr><td>before: <span class="word">statements</span></td>	
								<td>A custom function that returns an integer unix timestamp representing the time directly before the <code>statements</code> have run.
									<div class="unixtimeNotAvailable"></div>
									<div class="elaboration">
										<span class="nowUnixtime"></span>
									</div>
								</td>
							</tr>
							<tr><td>resolution</td>	
								<td>A duration object representing the smallest amount of time (in seconds) that can be distinguished by the machine 
                                        (often this is related to the time between between "ticks" of the cpu).
								</td>
							</tr>
							<tr><td>accuracy</td>	
								<td>A probability map describing how accurate the clock is likely to be at the moment this member is accessed.
									The object maps the likely difference, in seconds, to its probability (value from 0 to 1).
									<div class=example><code>
										;; if there's at least a 90% likelyhood the absolute deviation is less than half a second
										if time.accuracy[[-.5&lt;k.5]] &lt; .9:   
											resyncClock[]   ;; made up function that might resync the clock from the internet
									</code></div>
								</td>
							</tr>
						</table>
                    </td>
				</tr>
				
				
				
				
				
				<tr><td class="nearTop">adr</td>	
					<td><p>	Handles facilities for IP addresses and ports. Has the following methods.
							<table class="methodDefinitionTable innerBorder">
								<tr><td><span class=bracketOperator></span></td>	
									<td>addressFormat</td>
									<td>Custom operator that creates an address including IP-address, port, and scope. 
										Takes in a few different formats that it detects automatically:
										<ul><li>IPv4 address or IPv6 address.</li>
											<li>Address plus port.</li>
											<li>Address plus port.</li>
											<li>Address, port, and scope id (only for ipv6 addresses, defaults to global scope if not given)</li>
											<li>String of one of the previous three formats</li>
											<li>adr object plus port (errors if adr object already has a port)</li>
											<li>string ip address plus port (errors if adr object already has a port)</li>
											<li>adr object, port, and scope (errors if adr object already has a port or scope)</li>
										</ul>
																				
										<div class=example><code>
											var address = adr[129.34.0.50]
											var fullAddress = adr[53.0.0.40:80]
											var ipv6Address = adr[2001:db8:85a3:8d3:1319:8a2e:370:7348]
											var fullIpv6Address = adr[[2001:db8:85a3:8d3:1319:8a2e:370:7348]:443]
					
											var s1 = "129.34.0.50"		;; ipv4 address
											var s2 = "128.0.0.1:8080"	;; ipv4 address plus port
											var s3 = "2001:db8:85a3:8d3:1319:8a2e:370:7348"		;; ipv6 address
											var s4 = "[2001:db8:85a3:8d3:1319:8a2e:370:7348]"   ;; ipv6 address (with brackets)
											var s5 = "[2001:db8:85a3:8d3:1319:8a2e:370:7348]:443"	;; ipv6 address and port
											var s6 = "[2001:db8:85a3:8d3:1319:8a2e:370:7348%3]:443"	;; ipv6 address, scope, and port
											
											var ipaddress = adr[s1]
											var ipaddressWithPort = adr[s2]
											var ipv6Address = adr[s3]
											var ipv6AddressToo = adr[s4]
											var ipv6AddressWithPort = adr[s5]
											var ipv6AddressWithPort = adr[s6]
											
											var addrAndPort = adr[ipaddress 5000]
											var addrAndPort = adr["129.34.0.50" 5000]
											var addrAndPortAndScope = adr[ipaddress 5001 3]
										</code></div>
										 
									</td>
								</tr>
								<tr><td>adr!</td>	
									<td></td>
									<td>The unary exclamation mark returns a type that can only take on an IP address object.
									</td>
								</tr>
								<tr><td>4</td>	
									<td>number port</td>
									<td>Returns an <code>adr</code> object containing the IPv4 address <code>number</code> represents.
										<div class=example><code>
											var ipv4Addr = adr.4[500049000]
											var ipv4Addr2 = adr.4[500049000 4000]
										</code></div>
									</td>
								</tr>
								<tr><td>6</td>	
									<td>number port scope</td>
									<td>Returns an <code>adr</code> object containing the IPv6 address <code>number</code> represents.
										<div class=example><code>
											var ipv6Addr = adr.6[3000298888837700 6000 3]
										</code></div>
									</td>
								</tr>
							</table> 
							<br>
							
							Also has the following pseudo-member:
							<table class="definitionTable innerBorder">
								<tr><td>own</td>	
									<td>A list of <code>adr!</code> objects each containing the address for a network adapter.
									</td>
								</tr>
								<tr><td>interfaces</td>	
									<td>An object where each key is the name of the network interface/adapter (human readable, not necessarily standard),
                                            and each value is an <code>adr!</code> object representing the address for that named network adapter.
										The values can be compared for equality to the elements in <code>adr.own</code>.
									</td>
								</tr>
							</table>
						</p>
						<p>	The object returned by the bracket-operator has the following members:
							<table class="definitionTable innerBorder">
								<tr><td>type</td>	
									<td>Returns the name of the address family (usually 'ipv4' or 'ipv6').
									</td>
								</tr>	
								<tr><td>str</td>	
									<td>Returns the string form of the address (eg. "128.0.0.1:8080").
									</td>
								</tr>	
								<tr><td>num</td>	
									<td>Returns the address as an integer.
									</td>
								</tr>	
								<tr><td>port</td>	
									<td>The port number (nil if not set).
									</td>
								</tr>	
								<tr><td>scope</td>	
									<td>The scope value.
										Throws an exception if not an ipv6 address.
									</td>
								</tr>	
							</table> 
						</p>
					</td>
				</tr>							
					
				
				<tr><td class="nearTop">udp</td>
					<td><p>	Object for handling UDP packets. 
                            The behavior of this object can be overridden using the <code>udpObject</code> attribute.
                            
                            Has the following methods:
							<table class="methodDefinitionTable innerBorder">  
								<tr><td>make</td>	
									<td>destinationAdr deviceAdr</td>	
									<td>Initializes and returns a UDP packet stream with the given destinationAdr (an <code>adr!</code> object).
										The <code>deviceAdr</code> parameter is an <code>adr</code> representing the IP of the device to send and listen 
											from and is optional (defaulting to adr.own[0]).
										Returns an extended <code>chan</code> object where appending to the <code>out</code> property 
											will send to the (destination) address and port given.
									</td>
								</tr>
								<tr><td>packet</td>	
									<td>sourceAdr destAdr dataByteList</td>	
									<td>Creates a UDP packet.
										This isn't needed for normal UDP handling (as packets are constructed automatically), 
											but it can be useful if creating packets for direct <code>socket</code> use.
									</td>
								</tr>
								<tr><td>packet</td>	
									<td>bitList</td>	
									<td>Unserializes a <code>bits</code> bit-list object into a udp packet.
									</td>
								</tr>
							</table>
						</p>
						
						<h5>UDP sockets</h5>
						
						UDP socket objects are returned by <code>udp</code>'s constructor and inherit from <code>chan</code>. 
						                       						
						UDP sockets have the following additional method:
						<table class="methodDefinitionTable innerBorder">   
							<tr><td>listen</td>	
								<td>port</td>	
								<td>Starts listening on the port passed in the <code>sourceAdr</code> parameter of the constructor, 
										giving the program an exclusive lock on that port. 
									Returns the calling object, for convenience.
								</td>
							</tr>
						</table>
						
						UDP sockets also have the following additional members:
						<table class="definitionTable innerBorder">      
							<tr><td>in</td>	
								<td>Contains a list of all the UDP packets that will arrived on the udp socket from the 
										time <code>listen</code> was called to the time the udp port is closed.
								</td>
							</tr>
							<tr><td>out</td>	
								<td>Appending a packet to this list sends that packet out on the socket.
									Strings, <code>bits</code>, or UDP packets can be appended to <code>out</code>.
									The UDP packet's source and destination will be used, if different from the UDP socket's.
									<span class="outputLists"></span>
								</td>
							</tr>
							<tr><td>source</td>	
								<td>An object containing an <code>adr!</code> object representing the source address
										- the address from which packets will be sent.
									Holds nil if not listening.
								</td>
							</tr>
							<tr><td>dest</td>	
								<td>An object containing a list of <code>adr!</code> objects representing the addresses to which messages will be sent 
										(regardless of which address messages are received from, if the object is listening on a port).
									Holds an empty list if not initialized.
								</td>
							</tr>
							<tr><td>open</td>	
								<td>Contains true if listening, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Pseudo-member that causes the object to stop listening to the port, 
										and returns the lock on that port.
									Note that a properly running Lima runtime will properly close all connections even if the program itself 
										is forced to quit by an unexpected internal failure.
								</td>
							</tr>
						</table>
						
						<p class="copiedNote tcpUdpHttpCopying">
							Note: Copies of udp, tcp, http, and raw socket objects that were listening/connected when copied 
								are also listening/connected.
						</p>
						
						
						<h5>UDP packets</h5>
						
						<p>	The UDP packet objects returned by <code>udp</code>'s constructor and read from the <code>out</code> list of a UDP socket 
								have the following members and methods:
							<table class="definitionTable innerBorder">
								<tr><td>source</td>	
									<td>An object containing an <code>adr!</code> object representing the source address.
									</td>
								</tr>
								<tr><td>dest</td>	
									<td>An object containing an <code>adr!</code> object representing the address the packet was addressed to.
									</td>
								</tr>
								<tr><td>bits</td>	
									<td>Contains the packet's <code>bits</code> serialization.
									</td>
								</tr>
							</table>
						</p>
						
						<div class=example><code>
							var udpSocket = udp[adr[34.8.0.1 8080]].listen[8080]
							var message = udpSocket.in.=rm[0]     ;; gets the first packet
							if message == 'hi':
								udpSocket.out.ins['hi 'message.source]	;; send message back
							 else:
								udpSocket.out.=ins["Outta my way!"]
						</code></div>
					</td>
				</tr>				            		
			
				<tr><td class="nearTop">tcp</td>
					<td><p>	Object for handling TCP connections. 
                            The behavior of this object can be overridden using the <code>tcpObject</code> attribute.
                            
                            Has the following methods:
							<table class="methodDefinitionTable innerBorder">
								<tr><td>listen</td>	
									<td>port encodingName connections deviceAddress</td>	
									<td><p>	Listens for connections on the given <code>code</code>.
											<code>encodingName</code> is required and defines how to decode incoming bytes and encode outgoing bytes. 
											<code>connections</code> is optional. 
											If <code>connections</code> isn't given, <code>listen</code> will
												connect to the first incomming computer and return a single tcp stream object.
											If <code>connections</code> is given, <code>listen</code> connects to that number of connections
												and returns a list of those connections.
											<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										</p>
										<p>	Lazily executes - doesn't block execution.
											Execution won't be blocked until the program needs information it is waiting for.
											Note that this means your program can use and process the first connection, 
												even if <code>listen</code> is still listening for more connections.
										</p>
									</td>
								</tr>
								<tr><td>connect</td>	
									<td>address encodingName sourcePort deviceAddress</td>	
									<td>Attempts to connect to an address from the <code>sourcePort</code>.
										<code>encodingName</code> is required and defines how to decode incoming bytes and encode outgoing bytes. 
										<code>sourcePort</code> is optional and if not given, an arbitrary free port 
											(ephemeral port) will be used - basically a port <code>tcp.ports[arb[0..ports.len]]</code>.
										<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										Returns an open connection.
									</td>
								</tr>
								<tr><td>packet</td>	
									<td>source  dest  seq  data  ackNumber  flags
										windowSize  urgentPointer  options
									</td>	
									<td>Creates a TCP packet.
										This isn't needed for normal TCP handling (as packets are constructed automatically), 
											but it can be useful if creating packets for direct <code>socket</code> use.
									</td>
								</tr>
							</table>
						</p>
						
						
						<h5>TCP sockets</h5>
						
						The objects returned by <code>tcp.listen</code> and <code>tcp.connect</code> have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>in</td>	
								<td>A sequence (or <code>bits</code> object, depending on the encoding) of characters 
										that will arrive on the TCP socket from the time the connection was established to the 
										time it will close.
								</td>
							</tr>
							<tr><td>out</td>	
								<td>Appending strings to this list sends the characters of that string out on the TCP socket.
									Strings or <code>bits</code> can be appended to <code>out</code>.
									<span class="outputLists"></span>
								</td>
							</tr>
							<tr><td>open</td>	
								<td>Contains true if the connection is open, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Psuedo-member that closes the connection.
									Does nothing if connection is already closed.
								</td>
							</tr>
							<tr><td>source</td>	
								<td>An object containing an <code>adr!</code> object representing the source address.
								</td>
							</tr>
							<tr><td>dest</td>	
								<td>An object containing an <code>adr!</code> object representing 
										the destination address.
								</td>
							</tr>
						</table>
						<p class="tcpUdpHttpCopying"></p>
							
						<div class=example><code>
							var connection = tcp.listen[8080]   ;; connects to another computer
							var messages = connection.in.split[''@]     ;; messages delimited by newlines
							if messages[0] == 'hi':
								connection.out.=cat['hi']	;; send a message back
							 else:
								wout[messages[0]]    ;; print message 
						</code></div>
						
					</td>
				</tr>				
				
				
				<tr><td>inputs</td>
					<td><p>	A list of objects representing the state of input devices like keyboards and controllers.
							Each object in the list of inputs will have a number of keys, and each value at a key represents the 
								state of that key at a given time.
							Many keys only have two states, and will then usually be represented as true or false.
							Some other keys represent inputs with multiple states, like dials or scrollers, 
								and will usually have some number representing its state.
						</p>
						<p> Note that the state of inputs are accessible regardless of whether the window is on top or in focus.
						</p>
						
						<p> The behavior of this object can be overridden using the <code>inputsObject</code> attribute.
						</p>
						
						<p> Inputs are intended to be used with event semantics:
							<div class=example><code>
								change[inputs[0].a]:
                                    if inputs[0].a:
                                        ;; keydown
                                     else:
                                        ;; keyup
							</code></div>
						</p>
						<p class="copiedNote inputDevices"> 
							Like any input object, this can have more or less members depending on the device.
							The members representing button states can be written to programatically for any device. 
							This value remains valid until the real device changes to a different state 
								(note that if the real device changes to the state the device was already changed to programatically,
									it is as if the change never happened).
						</p>
					</td>
				</tr>		
								
				<tr><td>keyboard</td>
					<td><p>	An object representing the state of the keyboard. 	
						</p>
						<p>	The members of the object are named after the keys they attach to.
							<div class=example><code>
								if keyboard.f: wout['f is down']
								if keyboard['=']: wout['equals is down'] ;; non-letter keys are accessed as string keys
								if keyboard.f3: wout['f3 is down']
								if keyboard.shift && keyboard.3: wout['shift is down *and* 3 is down, is # down?']
								keyboard['$'] ;; always false for most keyboards, since there is no dedicated $ key (its a different state of the 4 key)
							</code></div>
							
							Keyboards also have a combo sub-object (which is an empty input object if a keyboard doesn't exist).
							These differentiate between keyboard modes that change when certain keys 
								(like shift, fn, caps lock, ctrl, or alt) are activated or held down, 
								if the keyboard has specific meanings for combinations of state.
							<div class=example><code>
								if keyboard.combo['#'] && ! keyboard.combo['3']: wout['# is down, but 3 is not']
								keyboard.combo['#'] && ! keyboard['3']: ;; for most keyboards, this is always false, because 3 and # are the same key
							</code></div>
						</p>
						<p> The keyboard object always has the following member:
							<table class="definitionTable innerBorder">
								<tr><td>active</td>
									<td>This is true if a keyboard exists, false if not. 
										This member is read-only.
									</td>
								</tr>
							</table>
						</p>
						<p class="copiedNote mouseAndKeyboard"> 
							This object always exists, even if there is no mouse or keyboard.
							The <code>touch</code> and <code>keyboard</code> objects are also in the list of <code>inputs</code>, but this is shorthand.
							
							<div>
								Keyboard and touch objects are typed such that all members are allowed to be <code>nil</code>. 
								This way, if an input button doesn't exist, 
									any code can still access the button member and will not throw exceptions - 
									likely simply ignoring the related code since the state will never change.
								This promotes cross-system compatibility and graceful failure.
							</div>
						</p>
						<p class="copiedNote inputDevices"></p>
					</td>
				</tr>		
				<tr><td>touch</td>
					<td><p>	A list object representing the state of the mouse, mice, and/or touch-events 
							- any device that has a position on the screen. 
						</p>
						<p> The list object itself has the following member:
							<table class="definitionTable innerBorder">
								<tr><td>max</td>
									<td>The maximum number of cursors it supports.
										If this number is 0, it means there is no mouse/touch device.
									</td>
								</tr>
							</table>
						</p>
						<p>	The objects the list holds may have the following true/false members:
							<table class="definitionTable innerBorder">
								<tr><td>p</td>
									<td>A shape object containing the point at which the mouse/touch cursor is on the screen.
									</td>
								</tr>
								
								<tr><td>pri</td>
									<td>State of the primary mouse button.
										Usually points to either L or R (usually L), 
											but may also be its own member in touch-screen cases (which don't have L or R).
									</td>
								</tr>
								<tr><td>sec</td>
									<td>State of the secondary mouse button.
										Usually points to either L or R (usually R).
									</td>
								</tr>								
								
								<tr><td>L</td>
									<td>State of the left mouse button.
									</td>
								</tr>
								<tr><td>R</td>
									<td>State of the right mouse button.
									</td>
								</tr>
								<tr><td>M</td>
									<td>State of the middle mouse button.
									</td>
								</tr>
							</table>
							
							The objects the list holds can have the following integer member:
							<table class="methodDefinitionTable innerBorder">
								<tr><td>scroll</td>
									<td>State of the scroller.
									</td>
								</tr>
							</table>
						</p>
						
						<div class=example><code>
							when touch.any.p < p[{0 0}{0 10}{10 0}{10 10}]:
								;; do something when any mouse cursor hovers over the given square area
						</code></div>
						
						<p class="mouseAndKeyboard"></p>
						<p class="inputDevices"></p>
					</td>
				</tr>				
			</table>
		</div>
		
		<div class="subBox1" title="Core Functions">
			<table class="methodDefinitionTable">
				<tr><td>exit</td>
				    <td>code</td>
					<td>A function that exits the program with the passed exit code.
					    This behavior can be overridden using the <code>exitFn</code> attribute.
					</td>
				</tr>
			</table>
		</div>
		
		
		
		<div class=subBox1 title="Core Custom Functions">
			<table class="definitionTable">
				<tr><td>
						<span class=if></span>
						 <span class=condition></span>:
							<span class=statements></span>
						&nbsp;<span class=more>conditions</span>
						&nbsp;<span class=if_else></span>:
							<span class=statements></span>
						
						
						<span class=if></span> [
							<span class=more></span>
						]
					</td>
					<td><p><code>if</code> is lima's if construct. 
					      The conditions to an if statement are defined in a <span class=blockParameter></span> (explained in more detail in the section on functions)
						  Any statement can be executed conditionally using <code>if</code> (including variable declarations). 
						  This is the only function-like construct allowed in a <span class=definitionBlock></span>. 
						</p>
						
						<p class=example>
							<code>
							if x != 'something':
									doSomethingWith[x]				
							
							if [
							 isRed:
								wout['Yes its red']
							 isGreen: 
								wout['Its green instead!']
							 isBlue:
								wout["We've got a blue"]
							 else:
								wout['Its some other hue']
							]
							</code>
						</p>
						<p> <code>if</code> returns the value of the last statment executed, and so can be used like the tertiary operator ?: in C (and other languages):
							<div class=example><code>
								var x = if a>b: 'A is bigger' else: 'B is bigger'	;; x gets a string that says which one is bigger
								var y = 500 + if[one:1 two:2 three:3 else:0] * 20	;; y gets a number
							</code></div>
						</p>
						<p>	Note that, like javascript, if does not define a new scope. 
							So variables can, for example, be conditionally defined.
						</p>
					</td>
				</tr>
							
				<tr><td>
						<span class=while></span> <span class=condition></span> <span class=whileEndStatements></span>:
							<span class=statements></span>
						  <span>else</span>:
						    <span class=statements></span>
					
						<span class=while></span> [
						 <span class=condition></span> <span class=whileEndStatements></span>:
							<span class=more></span>    
						  <span>else</span>:
							<span class=more></span>    
						]
					</td>
					<td><p>	A more general loop construct. 
							First checks the <span class=condition></span>.
							
							If it is true then runs the <span class=statements></span> and <span class=whileEndStatements></span>, then starts over. 
						</p>
						<p>	The <span class=whileEndStatements></span> can be omitted.
							If both <span class=condition></span> and <span class=whileEndStatements></span> are omitted,
								the loop is infinite (it will continue to loop until some code <span class=break></span>s out of it).
							The optional <code>else</code> block runs if the while condition isn't met even once.  
						</p>
						<p>	<span class=break></span> and <span class=continue></span> are available in this form of loop as well.
							<span class=break></span> exits the loop without executing <span class=whileEndStatements></span>.
							<span class=continue></span> runs <span class=whileEndStatements></span> then checks the condition before starting the next iteration.
						</p>
						<p>	<span class=while></span> doesn't create a new scope, so variables declared inside persist after the loop.
						</p>
					</td>
				</tr>
												
				<tr><td>throw object</td>	
					<td><p>	Throws an exception object.
							Throwing an exception will interrupt the execution of any following code - execution will continue from where the exception is caught.
							If the exception is not caught anywhere up the stack, the unhandled-exception handler is called. 
							If there is no unhandled-exception handler, or if an unhandled exception occurs in the unhandled-exception handler,
								the error is considered fatal, and the program prints the exception and immediately exits.
						</p>
						<p>	Upon being thrown, 
							<ul><li>A stack trace will be added to the object as the member <code>trace</code> (overwriting it if it exists)</li>
								<li>The <code>str</code> member of the object will be set to <code>obj.oldStr.cat[@''+obj.trace]</code></li>
								<li>The member <code>causes</code> of an exception is overwritten as an empty object on being thrown.
									<code>causes</code> is used to store a list of related exceptions.
								</li>
							</ul>
						</p>
						<p> Example of an exception:
							<pre>
Error in the hood:
main /moose/whatever.lima:44:10
obj.y /moose/candy.lima:44:10
Caught:
func /moose/modules/x.lima:44:10
doSomething /moose/whatever.lima:44:10
a.b.c /moose/whatever.lima:44:10
Caused by:
0. Uncalled For Exception
   main /moose/whatever.lima:44:10
   obj.y /moose/candy.lima:44:10
   Caught:
   func /moose/modules/x.lima:44:10
   doSomething /moose/whatever.lima:44:10
   a.b.c /moose/whatever.lima:44:10
1. Shouting Failure
   main /moose/whatever.lima:44:10
   obj.y /moose/candy.lima:44:10
   Caught:
   func /moose/modules/x.lima:44:10
   doSomething /moose/whatever.lima:44:10
   a.b.c /moose/whatever.lima:44:10   
   Caused by:
   0. Bug In Your Junk
      main /moose/whatever.lima:44:10
      obj.y /moose/candy.lima:44:10
      Caught:
      func /moose/modules/x.lima:44:10
      doSomething /moose/whatever.lima:44:10
      a.b.c /moose/whatever.lima:44:10
							</pre>
						</p>
					</td>
				</tr>
				
				<tr><td>
						<span class=try></span>:
							<span class=statements>primaryStatements</span>
						 
						 ;; <span class="tryExceptionBlock forceComment"></span>
						 <span class=word>exception</span>:	 	
							<span class=statements>handlingStatements</span>
						
						 ;; <span class="tryFinallyBlock forceComment"></span>
						 finally:
							<span class=statements>finallyStatements</span>
							
							
						<span class=try></span> [
							<span class=more></span>
						]
					</td>
					<td><p> Lima's try-catch mechanism. Catches and handles thrown exceptions.
						</p>
					
						<p>	Runs <code>primaryStatements</code>, and if any exception is <code>throw</code>n in those statements, 
								catches and allows handling of the exception in the <i>try-exception block</i>.
							The <code>handlingStatements</code> in that block are then run (the exception is referenced by the name <span class=word>exception</span>).
							The <span class=tryFinallyBlock></span> always runs after the <code>primaryStatements</code> 
								and <code>handlingStatements</code> are complete, 
								even if the <code>primaryStatements</code> or <code>handlingStatements</code> 
								throw an exception, return from the function, or jump to a continuation.
							In those cases, the value to return, throw, or jump to is computed before the code enters the finally block, 
								and the finally block finishes before the value to return, throw, or jump to is actually returned, thrown or jumped to.
						</p>	
						
						<p>	The <span class=tryExceptionBlock></span> and <span class=tryFinallyBlock></span> are both optional, 
								but either one or the other must exist.
							Note that, like <code>if</code>, the try block doesn't define a new scope, 
								so variables declared inside it persist beyond the try block.
						</p>
						
						<p>	When an exception is thrown from the <i>try-exception block</i> that is different from the one that 
								triggered the <i>try-exception block</i>, 
								the exception that triggered the <i>try-exception block</i> is prepended to the <code>causes</code> list
								of the newly thrown exception.
							Multiple causes can be attached to an exception when a try block nested inside a <i>try-exception block</i> 
								throws an exception, in which case the outermost cause appears first in the list.
						</p>
					</td>
				</tr>
				
				
				<tr><td>
						atry:
							<span class=statements>primaryStatements</span>
						 
						 ;; <span class="tryExceptionBlock forceComment"></span>
						 <span class=word>exception</span>:	 	
							<span class=statements>handlingStatements</span>							
							
						atry [
							<span class=more></span>
						]
					</td>
					<td><p> Asynchrounous try-catch. Catches and handles exceptions thrown from threads (does not catch synchronous exceptions). 
							This is similar to <a href="http://nodejs.org/api/domain.html">domains in node.js</a>.
						</p>					
						<p>	Runs <code>primaryStatements</code>, and if any exception is <code>throw</code>n from threads in those statements, 
								it runs the <span class=statements>handlingStatements</span> (the exception is referenced by the given name 
								<span class=word>exception</span>).
						</p>							
						<p>	This construct uses the <code>uncaughtExceptionHandler</code> attribute, and so has the same familiar nesting 
								behavior as normal <code>try</code>.
							Like <code>try</code>, <code>atry</code>'a main block doesn't define a new scope, so variables declared inside it persist beyond the atry block.
							However, <code>atry</code>'s exception block *does* define a new scope.
						</p>
						
						<p>	When an exception is thrown from an atry block, 
								the exception that triggered the try block is appended to the <code>causes</code> list
								of the newly thrown exception.
						</p>
					</td>
				</tr>
				
												
				<tr><td>
						rawthread:
							<span class=statements></span>
						
						
						rawthread [
							<span class=statements></span>
						]
					</td>
					<td><p>	Just like a thread, but its statements are not executed atomically.
							This allows for greater flexibility in defining what behavior can be concurrent, 
								at the cost of introducing the complexity of truely asynchronous behavior.
							This should only be used when you really know what you're doing.
						</p>
					</td>
				</tr>
				
				<tr><td>
						atomic:
							<span class=lvalue>function</span>
							<span class=more>functions</span>
							
							
							
						atomic[
							<span class=lvalue>function</span>
							<span class=more>functions</span>
						]
					</td>
					<td><p>	Takes any number of <span class=lvalue>function</span>s.
							Calls each function in an atomic way - all activity that happens within each function
								will not be visible to other code until that function is complete.
							The calls are also mutually-atomic - each function will be run on the program state as it was before the atomic block.
							Any <code>thread</code> created inside the atomic block will begin once the atomic block ends.
                            If there is a conflicting change, as soon as the conflict is detected, 
								the function that caused the conflict throws an exception from that point.
						</p>	
						<p>
						    If an exception happens in one of the functions and is not handled in the atomic block,
                                an exception will be thrown out of the atomic block that has an <code>errors</code> property,
                                containing the list of exceptions that happened in that atomic block.
                            Any state changed within it will be kept (ie not rolled back).
						</p>
									
						<h5>The following pseudo-member is available inside an atomic block:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>atomic.rollback</td>	
								<td>Rolls back any changes made in the function it is called in.
								</td>
							</tr>
							<tr><td>atomic.rollbackAll</td>	
								<td>Rolls back any changes made in all functions in the atomic block.
								</td>
							</tr>
						</table>
						
						<p>	Note that in lima, <a href="http://en.wikipedia.org/wiki/Happened-before">happens-before</a> relationships are guaranteed
								for all variables (like volatile variables in Java [but not C]),
								tho that volatility may be optimized away by the compiler if possible.
						</p>
							
						<div class=example>
						
							<code>
								var x = 50
								
								thread: 
									var y = x
									wout['y: 'y]
										
								atomic: fn:
									x -= 1
									wout['x-1: 'x]
									x += 1
							</code>
							
							<p>	In the above code, the atomic block prevents y from ever getting the value 49.
								Of course, this is a contrived example since you could easily just print out x-1 instead
									of decrementing x. 
								There can be more complicated cases where you need a function that mutates shared state,
									but you don't actually want that state to be visible until you fix it somehow.
								You should always avoid mutating shared state into an inconsistent state, 
									and atomic blocks are one method of doing that.
							</p>
							
							<code>
							var x=7
							atomic:
								fn: x += 1
								fn: x += 2
							</code>
							
							<p>	The above code throws an exception.
							</p>
							
							<code>
								var x = 10
								var y = 20
								atomic: 
									fn: x = 15
									fn: y = 25
										atomic.rollback
							</code>
						
							<p>	In the above example, the value of x is changed to 15, but the value of y remains 20.
							</p>
						</div>
					</td>
				</tr>
					
				
				<tr><td>future</td>
					<td>When run on a statement (or set of statements), returns a future object. 
                        Exceptions thrown from the statement will be thrown from accesses to the future's properties rather than from the statement in-line.
                        The returned future object has the properties:
                        <ul><li><code>val</code> - The value returned by the statement. 
                                Throws an exception if the statement throws one.
            
                                Note that this doesn't (by itself) ensure that the statement has completed after that line.
								Like most lima code, it really returns a lazily calculated value 
									- meaning that code will only block when it needs a value inside <code>val</code> to continue.
								This property can only be set once, and throw an exception if set again. 
                            </li>
                            <li><code>wait: statements</code> - A custom function that runs the <code>statements</code> 
									only after all inputs and outputs inside the original statement are complete.									
								Note that the statements inside the <code>wait</code> are *not* asynchronous, 
		                            statements after the <code>wait</code> that rely on values determined inside the wait still implicitly wait
		                            on those values (just like normal lima code).
                                Throws an exception if the statement throws one.
                            </li>
                            <li><code>done</code> - A pseudo-member that resolves the future (indicate that <code>wait</code> statements can now be run).
                                This can only be run for futures created via the copy operator of <code>future</code>.
								Can only be run once.
                            </li>
							<li><code>ret[value]</code> - A convenience method that both sets the <code>val</code> property and calls <code>done</code>.
								Returns the future itself (also for convenience in creating immediately resolved futures).
                            </li>
                        </ul>
						
						The returned future object has the operators:
                        <ul><li><code>!</code> - The interface operator returns a future type (the type returned by <code>future</code>'s copy operator.
                            </li>
							<li><code>[type]</code> - The bracket operator returns a specialized future type that resolves to the passed <code>type</code>. 
                            </li>
                        </ul>
                        
                        <div class=example><code>
                            ;; pretend this is creating a database record and returning its new id
                            ;; and also pretend the id is created on the client (like it usually is with mongo db), 
                                ;; so the id is ready before the document is created
                            var x = future: createNewDocument[]	
							
                            ;; store the id somewhere
                            ;; lima is not obligated to wait until the whole file has loaded
                            ;; so this line can run before the document is finished being created
                            outputId[x.val]
							
                            ;; this might not find the document, since lima isn't waiting for the creation of the document to be complete
                            var document = loadDocument[x.val]
							
                            ;; here, we wait until the document is done being created before trying to load it
                            x.wait:
                                var document = loadDocument[x.val]
						</code></div>
						
						This is used to precisely control the order statements are executed in since, in Lima, out-of-order is the norm.
						
						<p>A future can also be explicitly created and resolved. 
							The copy operator of <code>future</code> returns a new unresolved future.
						</p>
						
                        <div class=example><code>
                            var f = future
                            thread:
                                var x = 0
                                while x<100:
                                    x+=1
                                    if x  == 50:
                                   	    f.val = x
										break
								
                                f.done ;; resolves f (indicating that things waiting on it can now run)
							
                            f.wait:
                                wout["its finally done! f is: "+f.val]
						</code></div>
						
						If the future variable goes out of scope while containing an exception that hasn't been thrown, 
							it will throw the exception (so that the exception isn't lost).
					</td>
				</tr>
						
			
				<tr><td><span class=jump></span></td>
					<td><p>	This is like goto in C. 
							It isn't meant to be practically used in everyday code, 
								but exists for the flexibility to write assembly-like code. 
							Jump really does a computed jump (ie a "computed goto"). 
							<div class=example><code>
								;; the following loops 5 times using jump
							
								int x = 5
								var a = contin
								x -= 1
								if x == 0: 
									jump b
								 else: 
									jump a
									
								var b = contin

							</code></div>
							<div>Note that <code>b</code> can be used (ie jumped to) before that line is hit,
									because the variable is <code>const</code>. 
							</div>
						</p>
						<p>	<span class=jump></span> can also be used like longjmp in C's <code>setjmp.h</code>. 
							If a <span class=contin></span> is set and then used in a directly or indirectly calling function, 
                                it will restore context as well as jumping. 
							<div class=example><code>
								func = fn
								[contin back: 
									jump back	;; will jump to the command "wout 'finally back'"
									wout 'this never prints'
								]
								main = fn
								[	func[Here]
									var Here = contin
									wout 'finally back'
								]
							</code></div>
						</p>
						
						<p>	Note that once the continuation goes out of scope (when the function its in returns),
								it is effectively deleted and attempts to jump to it will cause nil pointer exceptions.
						</p>
						
					</td>
				</tr>
				<tr><td><span class=private></span></td>
					<td>Makes a variable not accessible outside its <span class=module></span>. 
						<p class="privateProtectedNote"></p>
						
						<p><span class=private>Private</span> members of compiled files are not externally available 
							(when statically or dynamically linking to it), while public members are.
						</p>
					</td>
				</tr>
                					
			
				<tr><td>assert[ <span class=lvalue>statement</span> probability=1 ]</td>	
					<td><p>Asserts that the <span class=lvalue>statement</span> is true at a given point in the code with a probability of <code>probability*100</code> percent 
							(<code>probability</code> must be a number in 0 through 1). 
						   It is used to give the compiler the information neccessary for certiain types of optimization. 
						   <code>asert</code> is an alias for <code>assert</code>.
						</p>
						<p>Note that assert does not exit the program (like it does in C) or throw an exception. 
						   Again, assertions are only used to give optimization information to the compiler.
						   If the assertion fails at run-time, the code continues as normal. 
						   This may cause undefined behavior, and so if you want to take some action on incorrect input, 
						      also check it in normal code and throw an exception (or take some other action) in that case.
						</p>
						<div class=example><code>
						;; you might want to assert that the input to your program will be a list of integers from 1 through 10
						main = fn:
							assert[con.in.split[''@].join[1<=v<=10]]
                             
						;; or you might want to assert something about a function's arguments
						;; this kind of thing will be used by the compiler to deduce contraints on the external input to your program
						somefn = fn x y:
							assert[x&lt;y]
						</code></div>
					</td>
				</tr>
				
				
				<tr><td>                                      
						optimize[ metricStatement ]: statements
				
						optimize[cputime memory power: metricStatement ]: statements
                    </td>
					<td>Creates an optimizer custom-function, which will optimize the code its run on such that the value of the 
							passed <code>metricStatement</code> is minimized.
		                The variables <code>cputime</code>, <code>memory</code>, and <code>power</code> are implicitly defined, 
                            but may be renamed by passing names in before a colon (eg <code>optimize[c m: c+4*m+10*power]</code>).
                        If other variables are used in the optimizer, the value they are taken as is the value they will hold at the *end*
                            of the <code>statements</code> the optimizer is run on.
						Any optimizer found inside the statements is ignored (so only the top-most optimizer is used). 
                        
                        <div class=example><code>
							var timeWeight = fn msElapsed: ;; function for determining the weight of running time
								if time &lt; 300:
									2*msElapsed ;; short amount of time is ok
								else:
									600+(msElapsed-600)^1.2 ;; long amount of time isn't - exponentially bad
                                            
							;; cputime is 10 times as important to optimize as memory
							;; and optimize the time it takes to complete it
							optimize[10*cputime + memory + timeWeight[msElapsed]]: 
								var start = time.before:
								 var end = time.after:
									doStuff[]
									
								var msElapsed = start - end
                        </code></div>
					</td>
				</tr>
				
			</table>
		</div>
		
		<div class=subBox1 title="Core Attributes">
			<table class="definitionTable">

				<tr><td><span class=ready></span></td>
					<td>Denotes that external inputs to the program within a statement are ready immediately (ie at compile time),
						and so can be grabbed as soon as the program knows how to grab them.
						Usually this means that if the program knows how to grab the input at compile-time, it'll do it at compile time,
						but if not, it obviously can't grab it until runtime, and the <span class=ready></span> doesn't mean anything
						(ie input is grabbed when convenient - the default).
						However, if the program can determine that some kind of input caching can be done
						(for example, if the inputs are fairly regular, tho not 100% deterministic),
						it may grab the input during runtime once, and then have it stored for later executions,
						essentially making it available at compile-time for those subsequent executions.
						<div class="inputOrder"></div>
					</td>
				</tr>
				<tr><td><code>outReady</code></td>
					<td><div>
							Denotes that external outputs from the program within a statement are ready immediately (ie at compile time).
								(ie that the external entity being outputted to is not mutated in a way this program cares about by that output).
							Labeling something <code>outReady</code> allows the optimizer to run outputs at compile-time if their inputs are also ready.
						</div>
						<div>
							For example, in a CRUD API setup, read calls require the program to send some data to the external API, but those outputs wouldn't normally mutate the external server,
								but only provide the information that external service needs to send the appropriate data to your program.
						</div>
					</td>
				</tr>
				
				<tr><td>uncaughtExceptionHandler[exception]</td>
					<td>A function that is run in cases of uncaught exceptions.
						This attribute is used by <code>atry</code>.
					</td>
				</tr>
				
				<tr><td>infoHandler[obj]</td>
					<td>A function that is run in cases where a function or object wants to pass information to a higher scope.
						The default <code>infoHandler</code> prints the passed object to stdout.
					</td>
				</tr>
				
				<tr><td>collate</td>
					<td>A parameterized attribute that sets the collation (the order of characters).
					
						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>characterList</td>	
								<td>Returns an attribute that uses the <code>characterList</code> as the collation.
									<div class=example><code>
										collate[{'a' 'b' 'c' 'd'}] var w = 'a'..'c'		;; w gets {'a' 'b' 'c'}
										
										collate[{'t' 'r' 'd' 'x'}][
											var x = 'r'..'x'			;; y gets {'r' 'd' 'x'}
											var y = "tea" < "dog"		;; z is set to true (since in this collation, 't' comes before 'd')
											var z = "trd" < "tea"		;; an exception is thrown since the collation doesn't define a relationship between 'r' and 'e'
										]
										
										
									</code></div>
										
									Note that there is no default collation. 
									If a comparison or range depends on a character that isn't included in the active collation,
										or there is no active collation, an exception will be thrown.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td>casemap</td>
					<td>A parameterized attribute that sets the upper-case/lower-case mapping for characters.
					
						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>characterMap</td>	
								<td>Returns an attribute that uses the <code>characterMap</code> to map between lower and upper case.
									The keys represent the lower case letter, and the values represent the upper case letter.
									Any letter that is neither upper case nor lower case should be considered both (and thus be its own key and value).
									<div class=example><code>
										casemap[{'a':'A' 'b':'B'}] var x = 'a'.upper	;; x gets 'A'										
									</code></div>
										
									Note that there is no default casemap. 
									If the <code>upper</code> or <code>lower</code> string methods are used for characters that aren't defined in the active casemap,
										or if there is no active casemap, an exception will be thrown.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td>encodingFail</td>
					<td>An attribute that contains a function that is called when a character encoding can't encode a 
							character in a lima-string.
						<table class="methodDefinitionTable innerBorder">
							<tr><td>encodingFail!</td>
								<td>encoding character</td>	
								<td><span class="copiedNote encodingFail">
										<code>encodingFail!</code> takes the <code>encoding</code> object and the character that couldn't be encoded 
											as parameters, and the character it returns should be encoded in its place.
									</span>
									The default of this attribute is a function that throws an encoding exception.
									Changing the default of this attribute is used to do things like insert default characters into an encoding,
										as a graceful failure mode - for example, displaying a default character (like '?' or '&#9723;' in place of unencodable characters.
								</td>
							</tr>
						</table>
					</td>
				</tr>
							
				
				<tr><td>exitFn[code]</td>
					<td>This attribute contains the function to be run when <code>exit</code> is called, and can be used to override it.
					</td>
				</tr>
				<tr><td>fileObject</td>
					<td>This attribute contains the object accessed via <code>file</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>dirObject</td>
					<td>This attribute contains the object accessed via <code>dir</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>systemObject</td>
					<td>This attribute contains the object accessed via <code>system</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>dnsObject</td>
					<td>This attribute contains the object accessed via <code>dns</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>socketObject</td>
					<td>This attribute contains the object accessed via <code>socket</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>ipv4Object</td>
					<td>This attribute contains the object accessed via <code>ipv4</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>ipv6Object</td>
					<td>This attribute contains the object accessed via <code>ipv6</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>udpObject</td>
					<td>This attribute contains the object accessed via <code>udp</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>tcpObject</td>
					<td>This attribute contains the object accessed via <code>tcp</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>httpObject</td>
					<td>This attribute contains the object accessed via <code>http</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>httpsObject</td>
					<td>This attribute contains the object accessed via <code>https</code>, and can be used to override it.
					</td>
				</tr>
				<tr><td>inputsObject</td>
					<td>This attribute contains the object accessed via <code>inputs</code>, and can be used to override it.
					</td>
				</tr>
				
			</table>
		</div>
		
		
		
		<div class=subBox1 title="Core Character Encodings">
			<table class="definitionTable">
			
				<tr><td>bits</td>
					<td>An "encoding" that represents raw bits - ie no encoding.
					</td>
				</tr>
			
				<tr><td>LimaEncoding-8</td>
					<td><p>	LimaEncoding is a physical (bits) representation of what a string is in Lima. 
							LimaEncoding can represent any string from any encoding,
								encapsulate the encoding within it if necessary.
						</p>
						
						<p>	LimaEncoding is based on Unicode.
							It represents all Unicode characters, with the exception of all the 
								<a href="http://en.wikipedia.org/wiki/Unicode_control_characters">control characters</a>
								other than the newline - 
								the excluded codepoints are <code>U+0000</code> - <code>U+0009</code>, 
								<code>U+000B</code> - <code>U+001F</code>, and <code>U+007F</code> - <code>U+009F</code>.
							LimaEncoding always uses big-endian byte ordering, and thus does not have a byte-order mark.
							The Unicode characters LimaEncoding supports without using the alternate character markers (described below)
								are called LimaEncodings core characters.
							LimaEncoding-8 stores unicode characters in UTF-8 format.
						</p>
							
						<p>	It also adds the following codepoints:
							<table class="innerBorder">
								<tr><th>Codepoint</th> <th>Name</th> <th>Description</th></tr>
								
								<tr><td>U+000B</td> 
									<td>Header Marker</td> 
									<td><p>	Marks the beginning and ending of the LimaEncoding header, which contains the list of alternate encodings contained in the string.
											If this marker isn't the first codepoint of the string, the string has no alternate characters.
											The header is represented as:
											<div><code>{U+000B, </code><code>&lt;encodings></code><code>, U+000B}</code>
											</div>
											where 
											<ul><li><code>&lt;encodings></code> is an ordered list of encodings 
													where each encoding is represnted in the following way:
													<div><code>{</code><code>&lt;length></code><code>, </code>
														<code>&lt;encodingName></code><code>} </code>
													</div>
													where 
													<ul><li><code>&lt;length></code> is a 16-bit length of the number of bytes in <code>&lt;encoding></code> minus 1.
														</li>
														<li><code>&lt;encodingName></code> is the string representation (ie the standard name) of the encoding represented only by core-characters of LimaEncoding-8 (ie. the subset of UTF-8 without control characters).
														</li>
													</ul>
												</li>
											</ul>
										</p>
									</td>
								</tr>
								<tr><td>U+000C</td> 
									<td>Space-extension codepoint</td> 
									<td><p>	Not a character by itself, this codepoint is paired with a second byte indicating the width of the space minus 1.
											For example, a 4-space width space character would be written as 
												<code>{U+000C, 3}</code>.
										</p>
										<p>	This is intended to replace the tab character.
											With extended spaces, you can specify how much space is being created 
												(like a space) while also identifying as a single character (like a tab)
												so that programs can handle selections and backspaces like tabs.
										</p>
										
										<p>	The extended space character has one additional member:	
											<table class="definitionTable innerBorder">
												<tr><td>width</td>
													<td>The width of the extended space. 
														E.g. <code>""%4.width</code> is 4 spaces long.
													</td>
												</tr>
												<tr><td>name</td>
													<td><code>name</code> holds "extendedSpace".
													</td>
												</tr>
											</table>
										</p>
									</td>
								</tr>
								<tr><td>U+000D</td> 
									<td>Alternate character marker 1</td> 
									<td><p>	Also not a character by itself, this codepoint indicates the beginning of a
												character that doesn't have a unicode representation 
												(or is one of the excluded unicode control characters).
											LimaEncoding stores the name of the encoding that character is from
												with an index in a header section of the string format.
										</p>
										<p>	A non-unicode character would be written as:
											<div><code>{U+000D, </code><code>&lt;encodingByte></code><code>, </code>
												<code>&lt;characterLength></code><code>, </code>
												<code>&lt;characterBytes>}</code>
											</div>
											where 
											<ul><li><code>&lt;encodingByte></code> is an 8-bit index of the encoding (in the encoding-list in the header)</li>
												<li><code>&lt;characterLength></code> is an 8-bit length of the number of bytes in <code>&lt;characterBytes></code> minus 1 
													(so a binary value of 3 indicates that <code>&lt;characterBytes></code> is 4 bytes long).
												</li>
												<li><code>&lt;characterBytes></code> is the bytes of the canonical representation of the character 
													in the encoding its from.
												</li>
											</ul>
										</p>										
											
										<p>	This allows any character from any encoding to be stored in a string encoded into LimaEncoding.
											Note that when the excluded Unicode control characters are transcoded to LimaEncoding,
												they are translated using the alternate character marker in the same way as characters from other encodings.
										</p>
									</td>
								</tr>
								<tr><td>U+000E</td> 
									<td>Alternate character marker 2</td> 
									<td><p>	The alternate character marker allows for characters with representations longer than 256 bytes long.
											This is the same as U+000D except the character is represented as:
											<div><code>{U+000E, </code><code>&lt;encodingByte></code><code>, </code>
												<code>&lt;lengthLength></code><code>, </code>
												<code>&lt;characterLength></code><code>, </code>
												<code>&lt;characterBytes>}</code>
											</div>
											where 
											<ul><li><code>&lt;lengthLength></code> is an 8-bit length of the number of bytes in <code>&lt;characterLength></code> minus 1.
												</li>
											</ul>
										</p>
									</td>
								</tr>
							</table>
						</p>						
						
						<p>	Since most characters have a unicode representation, special characters will be very infrequently used.
							So strings encoded in LimaEncoding-8 will usually be identical to its UTF-8 counterpart.
						</p>
				
					</td>
				</tr>
				<tr><td>LimaEncoding-16</td>
					<td>Exactly like LimaEncoding-8 but the representation of the core-characters is UTF-16.
					</td>
				</tr>
				
				<tr><td>UTF-8</td>
					<td>
					</td>
				</tr>
				<tr><td>ASCII</td>
					<td>
					</td>
				</tr>
				
			</table>
			
			<h4>Parameterized Encodings</h4>
			
			<table class="methodDefinitionTable">
				
				<tr><td>UTF-32</td>
					<td><span class=word>tabWidth</span> <span class=word>endianness</span></td>
					<td><p>	UTF-32 with the given endianness.
							<span class=word>endianness</span> can either be 'big' or 'little', defaulting to 'big' if not passed.
							If <span class=word>tabWidth</span> is passed, tabs will be converted to extended-spaces with the 
								width <span class=word>tabWidth</span>.
							If <span class=word>tabWidth</span> is not passed, tabs will not be decodable. 
						</p>
						
						<p>	A note about unicode: Lima leaves any definitions for word/line/sentence separators or
								mid-word hyphening to outside libraries.
						</p>
					</td>
				</tr>
				<tr><td>UTF-16</td>
					<td><span class=word>spacesInATab</span> <span class=word>endianness</span></td>
					<td>UTF-16. The parameters mean the same thing as for UTF-32.
					</td>
				</tr>
				
				<tr><td>dosText</td>
					<td><span class=word>encodingName</span></td>
					<td>This encoding handles windows-specific file encoding.
						When encoding, this first encodes with the encoding named <span class=word>encodingName</span>,
							then converts regular newlines to dos newlines and adds the end-of-file characters (ascii value 26)
							at the end of the file. 
						When decoding, this first converts dos newlines to regular newlines and ends the file at the first end-of-file character,
							then decodes using the encoding named <span class=word>encodingName</span>. 
						This replaces opening files in "text mode" in a language like C. 
					</td>
				</tr>
				<tr><td>url</td>
					<td><span class=word>encodingName</span></td>
					<td>When encoding, this encoding first url-encodes a string, then encodes with the encoding named <span class=word>encodingName</span>.
						When decoding, this first decodes using the encoding named <span class=word>encodingName</span>, then url-decodes the string.
					</td>
				</tr>
			</table>
			
		</div>
	</div>
	
	
	<div class="mainBox mainTitle" title="Standard Library">
	   
	   <div class="subBox1" title="Standard Types">
			<table class="definitionTable">
				<tr><td>Infer</td>
					<td>An inferred type. This is a special type that takes on a type based on the first value the variable is given.
						If the first value the variable is initialized to has a type (ie its a variable or the result of a function with a type definition),
							the variable will get that type.
						If the first value the variable is initialized to does not have a type and is a string or a number,
							the variable will get either the type <code>string</code> or <code>number</code>.
						Otherwise, the variable will get an interface-type based on the value.
						For example:
						<div><code>
							Infer a = 5     ;; a gets the type 'number'
							Infer b = "hi"  ;; b gets the type 'string'
							Infer c = {x:5} ;; c gets the type '{x:5}!'
							Infer d = b     ;; d get the type 'string'
						</code></div>
					</td>
				</tr>
				<tr><td><span class=bool></span></td>
					<td>Boolean values (0 and 1).
					</td>
				</tr>
				<tr><td><span class=int></span></td>	
					<td>Signed integers. 
						Represents all integers from -<span class="infinity"></span> to positive <span class="infinity"></span>. 
						Has the following methods:
							
						<table class="methodDefinitionTable innerBorder">
							<tr><td>parse</td>
								<td>string s</td>
								<td>Attempts to parse the string as an <b>integer</b> and return the value. 
									Throws an error if the value isn't an integer.
								</td>
							</tr>
							<tr><td>roman</td>
								<td>string s</td>
								<td>Attempts to parse the string as a <b>roman numeral</b> and return the value.
									Throws an error if the value isn't a roman numeral.
								</td>
							</tr>
							<tr><td>english</td>
								<td>string s</td>
								<td>Attempts to parse the string as <b>plain english</b> and return the value.
									Recognizes numbers ignoring spaces and dashes between word-parts.
									Throws an error if the value isn't an english number.
								</td>
							</tr>
							<tr><td>engOrdinal</td>
								<td>string s</td>
								<td>Attempts to parse the string as an <b>english ordinal</b> and return the value.
									Throws an error if the value isn't an english ordinal.
								</td>
							</tr>
						</table>
						
						To define an unsigned integer: <code>type.set[0..00] unsignedIntVariable</code>
					</td>
				</tr>
				<tr><td><span class=fra></span></td>	
					<td>Signed fractional number. Represents all rational numbers. 
						Has the following methods:
							
						<table class="methodDefinitionTable innerBorder">
							<tr><td>parse</td>
								<td>string s</td>
								<td>Attempts to parse the string as a <b>real number in decimal format</b> (eg "1.334") or <b>fraction format</b> (eg "3 3/4) and return the value. 
									Throws an error if the value isn't a real number in decimal format.
								</td>
							</tr>
							<tr><td>sci</td>
								<td>string s</td>
								<td>Attempts to parse the string as <b>scientific notation</b> or <b>engineering notation</b> and return the value.
									Throws an error if the value can't be parsed.
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>
		
		<div class=subBox1 title="Standard Objects">		
			<table class="definitionTable">				
				<tr><td><span class=false></span></td>	
					<td>An alias for 0, meant to represent boolean values.
						The only difference between <span class=false></span> and 0 is that 
							<span class=false></span>'s <code>str</code> method returns 'false' instead of '0'.
						<code>0</code> and <span class=false></span> compare as equal with <code>==</code>.
					</td>
				</tr>
				<tr><td><span class=true></span></td>	
					<td>An alias for 1, meant to represent boolean values.
						The only difference between <span class=true></span> and 1 is that 
							<span class=true></span>'s <code>str</code> method returns 'true' instead of '1'.
						<code>1</code> and <span class=true></span> compare as equal with <code>==</code>.
					</td>
				</tr>
				
				<tr><td class=nearTop>shape</td>
					<td>An object that has methods for representing and operating on shapes of any kind 
							including volumes, areas, lines, and points.
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>shape</code> objects.
									<div class=example><code>
										shape! a = shape[3 4]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>coordinate1</span> <span class=word>coordinate2</span> <span class=word>coordinate3</span> <span class=more>coordinates</span></td>	
								<td>Creates a <code>shape</code> object representing a point in n-dimensional space. 
									Any number of coordinates can be used; coordinates default to 0 when unspecified.
									<div class=example><code>
										var a = shape[1 4 0 6] 
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>coordinateList1</span> <span class=word>coordinateList2</span> <span class=more>coordinateLists</span></td>	
								<td>Creates an <code>shape</code> object representing a line-segment, surface, or other n-dimensional shape. 
									Every point on the surface of any line connecting two sets of coordinates is included in the <code>shape</code>, 
										as is any point contained within the closed object created that way.
									<div class=example><code>
										var a = shape[{1 4 0} {1 4 0}]                 ;; a line-segment
										var b = shape[{1 4 0} {1 4 0} {0 4 3}]         ;; a area/surface made from 3 points
										var c = shape[{1 4 0} {1 4 0} {0 4 3} {1 4 3}] ;; a volume made from 4 points
										
										var d = shape[{1 4 0 9} {1 4 0 3}]             ;; 4-dimensional line-segment
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>relation</span></td>	
								<td>Creates an <code>shape</code> object represented by the equation. 
									<div class=example><code>
										var a = shape[relation[x y: x^2=5*y^2]]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>shape1</span> <span class=word>shape2</span></td>	
								<td>Creates an <code>shape</code> object created from two regions where all the space 
										between the regions is filled in, just like in the bracket-operator with coordinate-lists.
									<div class=example><code>
										var a = shape[ shape[{1 4 0 6}]  shape[{1 4 0 9}] ]        ;; a line-segment
										var b = shape[ shape[{0 0} {1 2}]  shape[{3 0} {2 2}] ]    ;; a trapezoid
									</code></div>
								</td>
							</tr>
						</table>
						
						<h5><code>shape</code> objects have the following binary operators:</h5>
						<table class="definitionTable innerBorder">
							
							<tr><td><span class="Rvalue">a</span> & <span class="Rvalue">b</span></td>
								<td>Set intersection (conjunction). 
									Returns a <code>shape</code> that contains the regions that exist in both 
										<span class="Rvalue">a</span> and <span class="Rvalue">b</span>.
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> $ <span class="Rvalue">b</span></td>
								<td>Set union (disjunction). 
									Returns a <code>shape</code> that contains the regions that exist in 
										either <span class="Rvalue">a</span> and <span class="Rvalue">b</span> or both. 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> !$ <span class="Rvalue">b</span></td>
								<td>Set exclusive disjunction. 
									Returns a <code>shape</code> that contains regions that exist in only 
										<span class="Rvalue">a</span> and regions that exist only in <span class="Rvalue">b</span> 
										but not regions that exist in both. 
								</td>
							</tr>
							
							<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
								<td>Equality. 
									Returns true if all the regions contained in <span class="Rvalue">a</span> are also contained in <span class="Rvalue">b</span>.
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> <> <span class="Rvalue">b</span></td>
								<td>Same as <code>==</code>
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> !<> <span class="Rvalue">b</span></td>
								<td>Same thing as <code>!(<span class="Rvalue">a</span> <> <span class="Rvalue">b</span>)</code>
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> < <span class="Rvalue">b</span></td>
								<td>Proper subset of <code>shape</code>s 
										(returns true if <span class="Rvalue">a</span> is a proper subset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> > <span class="Rvalue">b</span></td>
								<td>Proper superset of <code>shape</code>s
										(returns true if <span class="Rvalue">a</span> is a proper superset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> <= <span class="Rvalue">b</span></td>
								<td>Improper subset of <code>shape</code>s 
										(returns true if <span class="Rvalue">a</span> is an improper subset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> >= <span class="Rvalue">b</span></td>
								<td>Improper superset of <code>shape</code>s 
										(returns true if <span class="Rvalue">a</span> is an improper superset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
			
						</table>
						
		
						<h5><code>shape</code> objects have the following methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>dist</td>
								<td><span class="word">otherShape</span></td>	
								<td>Returns a real number distance between the closest points from each shape.
									<div class=example><code>
										fra x = shape[3 1].distance[shape[1 1]]  ;; returns 2
									</code></div>
								</td>
							</tr>
						</table>
						
						<h5><code>shape</code> objects have the following members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>center</td>
								<td>Returns a shape's center point (as a <code>shape</code>).
								</td>
							</tr>
							<tr><td>regions</td>
								<td>Returns a list of regions where each region is continuous.
								</td>
							</tr>
							<tr><td>surface</td>
								<td>Returns a <code>shape</code> that describes only the surface of the object 
										(and gets rid of any region within that surface).
								</td>
							</tr>
						</table>
						
					</td>
				</tr>
				
				<tr><td class=nearTop>zone</td>
					<td>An object that has methods for representing a region of the world. 
						Coordinates used for this are latitude and longitude (latitude has first ordinality) and are expressed in degrees.
						The region is not required to be continuous.
						Inherits from <code>shape</code>.
						
						<h5>Additional members of <code>zone</code></h5>
						<table class="definitionTable innerBorder">
							<tr><td>own</td>	
								<td>Returns the default locale set on the computer, or nil if there is none.
								</td>
							</tr>
						
						
						<h5>Additional methods of <code>zone</code></h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>time</td>
								<td><span class="word">timezoneString</span> <span class="more">timezoneStrings</span></td>	
								<td>Returns a <code>zone</code> representing the region of the timezone named in 
										the parameters, each of which should be in <a href="http://en.wikipedia.org/wiki/Tz_database">Olson timezone format</a>.
									<div class=example><code>
										var z = zone.time["America/Los_Angeles" "America/New_York"]  ;; returns a zone containing both the PST and EST time zones.
									</code></div>
								</td>
							</tr>
							<tr><td>language</td>
								<td><span class="word">languageCode</span> <span class="more">languageCodes</span></td>	
								<td>Returns a <code>zone</code> representing the region where the languages given are official languages.
									The languages should be in <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php">ISO 639-2 format</a>.
									Throws an exception if a language doesn't exist.
									<div class=example><code>
										var z = zone.language["eng" "fre"]	;; the zones where english and french are official languages
									</code></div>
								</td>
							</tr>
							<tr><td>language</td>
								<td><span class="word">timeObject</span> <span class="word">languageCode</span> <span class="more">languageCodes</span></td>	
								<td>Just like the above except it takes into account the time given.
									<div class=example><code>
										var z = zone.language[time[-500-01-01] "eng"]	;; the regions where english was spoken at 500 BCE
									</code></div>
								</td>
							</tr>
							<tr><td>country</td>
								<td><span class="word">countryCode</span> <span class="more">countryCodes</span></td>	
								<td>Returns a <code>zone</code> representing the region where the countries given are (at the time the function is called).
									The countries should be in <a href="http://en.wikipedia.org/wiki/ISO_3166">ISO 3166 format</a>
										(all representations are accepted and case doesn't matter).
									Throws an exception if a country doesn't exist.
									<div class=example><code>
										var z = zone.country["arm" "cn"]	;; a zone containing the regions of China and Armenia
									</code></div>
								</td>
							</tr>
							<tr><td>country</td>
								<td><span class="word">timeObject</span> <span class="word">countryCode</span> <span class="more">countryCodes</span></td>	
								<td>Just like the above, except it takes into account the time given.
									<div class=example><code>
										var z = zone.country[time[-500-01-01] "arm" "cn"]	;; a zone containing the regions of China and Armenia
									</code></div>
								</td>
							</tr>
						</table>
						
						<h5>Additional members of <code>zone!</code> objects</h5>
						<table class="definitionTable innerBorder">
							<tr><td>timezones</td>
								<td>A list of tz database timezones intersecting the zone (in Olson timezone format).
								</td>
							</tr>
						</table>
						
						<h5>Additional methods of <code>zone!</code> objects</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>languages</td>
								<td><span class="word">timeObject</span></td>
								<td>A list of langauges spoken within a zone in order of popularity 
										(how many people speak it) during a given time.
									<span class="copiedNote zoneObjectTime">If the time is omitted, the current time (when the method is called) is assumed.</span>
								</td>
							</tr>
							<tr><td>countries</td>
								<td><span class="word">timeObject</span></td>
								<td>A list of countries within a zone during a given time.
									<span class="zoneObjectTime"></span>
								</td>
							</tr>
							<tr><td>collations</td>
								<td><span class="word">timeObject</span></td>
								<td>A list of collations within a zone during a given time.
									<span class="zoneObjectTime"></span>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td class=nearTop><span class=time></span></td>
					<td>An object that has methods for representing and operating on date and time.
						The internal representation is intended to be continuous and unambiguous 
							(without oddities introduced by time zones, daylight savings time, or leap-seconds).
						The unambiguous internal representation can, of course, be converted to any time format.
					
						<h5>Pseudo-members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>after: <span class="word">statements</span></td>	
								<td>A custom function that returns a time object representing the current time directly after the <code>statements</code> have run.
									<div class="copiedNote timeNotAvailable">
										Time capturing is still allowed on machines that don't have the actual date or time availble to it,
											as long as the times are only used to create durations.
									</div>
									<div class="elaboration">
										<span class="copiedNote nowtime">
											In Lima, there is no "now".
											Because statements can be reordered to optimize performance, there would be no 
												way to guarantee that a time is captured both after its preceding statements
												and before its following statements without destroying lima's ability to reorder
												statements optimally.
											So instead, Lima allows you to choose to either bind a time before some given statements
												or before them, but not both. 
											If you need both, you need to create two separate time objects.
											<br>
											
											<div><code>
												;; the following to sets of statements can be run completely in parallel
												;; which means that ta1 may be the exact same time as tb1
												;; and also means that tb2 might even be earlier than ta2 (if 'B.txt' takes less time to download and output)
												
												var ta1 = time.before:
												 var ta2 = time.after:
													var x = downloadFile['A.txt']
													outputFile['some/path/A.txt', x]
																								
												var tb1 = time.before:
												 var tb2 = time.after:
													var y = downloadFile['B.txt']
													outputFile['some/path/b.txt', y]
												
												;; the following statement guarantees that the time is as close the console output as possible
												var t = time.before:
													wout['The time is: 't]
												
												;; the following statement throws an exception because t isn't declared until after the wout statement
												var t = time.after:
													wout['The time was: 't]
											</code></div>
										</span>
									</div>
								</td>
							</tr>
							<tr><td>before: <span class="word">statements</span></td>	
								<td>A custom function that returns a time object representing the current time directly before the <code>statements</code> have run.
									<div class="timeNotAvailable"></div>
									<div class="elaboration">
										<span class="nowtime"></span>
									</div>
								</td>
							</tr>
							<tr><td>resolution</td>	
								<td>A duration object representing the time between "ticks" 
									(between value changes of the clock - ie values of <code>now</code> and <span class=cpuTime></span>).
								</td>
							</tr>
							<tr><td>accuracy</td>	
								<td>A probability map describing how accurate the clock is likely to be at the moment this member is accessed.
									The object maps the likely difference, in seconds, to its probability (value from 0 to 1).
									<div class=example><code>
										;; if there's at least a 90% likelyhood the absolute deviation is less than half a second
										if time.accuracy[[-.5&lt;k.5]] &lt; .9:   
											resyncClock[]   ;; made up function that might resync the clock from the internet
									</code></div>
								</td>
							</tr>
							
							<tr><td>tai</td>	<td>Same thing as <code>time.ts['tai']</code>.</td></tr>
							<tr><td>utc</td>	<td>Same thing as <code>time.ts['utc']</code>.</td></tr>
							<tr><td>unix</td>	<td>Same thing as <code>time.ts['unix']</code>.</td></tr>
							<tr><td>tdb</td>	<td>Same thing as <code>time.ts['tdb']</code>.</td></tr>
						</table>
					
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>time</code> objects.
									<div class=example><code>
										time! t = time[2012/04/04 3:00']
									</code></div>
								</td>
							</tr>
							<tr><td>ts</td>
								<td><span class=word>timeStandardCodename</span></td>	
								<td>Returns an object with methods for handling dates for a particular <a href="http://en.wikipedia.org/wiki/Time_standard">time standard</a>.
									A list of time-standards is below this section.
									When used with this method, the time standard names are case insensitive.
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td></td>	
								<td>The same bracket operator <code>time.ts['tai']</code> has.
								</td>
							</tr>
							<tr><td>p</td>
								<td><span class=word>pattern</span></td>	
								<td><p>	Custom function that creates a time-pattern that can be used to both parse and format time objects.
										Keywords and strings are concatenated to describe the pattern.
										The <code>$</code> operator can be used to indicate that more than one pattern can be used.
										Parts that are surrounded by parentheses are optional (the whole thing in parens should match, or none of it).
										Expressions with parens are nestable.
										<div class=example><code>
											time.p[M ' - ' d]             ;; parses something like "April - 2"
											time.p[h ':' min (':' s)]     ;; can parse both "8:30" and "8:45:20"
											time.p[h (':') min ((':') s)] ;; can also parse "830", "8:4520", "845:30", and "84520"
											time.p[M '-'$' - ' d]         ;; can parse both "April-2" and "April - 2"
											time.p[h$hp ':' min]          ;; can parse both "8:30" and "08:30"
										</code></div>
									</p>
									<p>	To use the value of an expression inside <code>time.p</code>, 
											prefix the expression with the <code>@</code> sign.
										Time patterns can be used with this method as well as stringable values.
										<div class=example><code>
											var x = ":"
											var timeOfDay = time.p[h @x min @cat["|"x"|"] s]
											time.p[y'.'m'.'d' ' @timeOfDay]	;; matches '2000.04.03 3:05|:|00'
										</code></div>
									</p>
									<p>	Any keyword can also be explitly set with the equals sign.
										If such an assignment is done, that keyword is ignored when parsing
										<div class=example><code>
											time['20:00' time.p[M='April' h min] ]
										</code></div>
									</p>
									<p>	The available keywords and their meanings depend on the particular time-standard being used.
									</p>
								</td>
							</tr>
						</table>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>addSimilar</td>
								<td>originalStandard newStandard convertTo convertFrom</td>	
								<td>Adds a time standard named <code>newStandard</code>based on <code>originalStandard</code>.
									The new time-standard and the result of a <code>timeObject</code>s' <code>ts</code>
										method for the new standard will have all the same members and methods as the <code>originalStandard</code>.
								</td>
							</tr>
							<tr><td>add</td>
								<td>name staticMembers standardObject</td>	
								<td>Adds a time standard from scratch, named <code>name</code>.
									<code>staticMembers</code> should be an object containing the members you'll get when you access
										 <code>time.ts[name]</code>.
									<code>standardObject</code> should be a function that takes a <code>time!</code> object and 
										returns the object you'll get when you access <code>timeObject.ts[name]</code>.
								</td>
							</tr>
						</table>						
						
						<h4>Time objects</h4>
						<p>	Time objects represent a non-ambiguous date and time. 
							Time objects do not carry information about any particular location or zone, 
								they represent the absolute time.
							A time-object can be converted to any representation, even ambiguous representations, for any zone or area.
						</p>
						
						<code>time</code> objects have the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>format</td>
								<td><span class=word>timePattern</span> <span class=word>timeZone</span> <span class=word>translator</span></td>	
								<td>The same format method <code>timeObject.ts['tai']</code> has.
								</td>
							</tr>
							<tr><td>ts</td>
								<td><span class=word>timeStandardCodename</span></td>	
								<td>Returns an object with methods for creating modified time objects from the current one related to the given time-standard. 
								</td>
							</tr>
						</table>	
						
						<code>time</code> objects have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>tai</td>	<td>Same thing as <code>timeObject.ts['tai']</code>.</td></tr>
							<tr><td>utc</td>	<td>Same thing as <code>timeObject.ts['utc']</code>.</td></tr>
							<tr><td>st</td>		<td>Same thing as <code>timeObject.ts['st']</code>.</td></tr>
							<tr><td>unix</td>	<td>Same thing as <code>timeObject.ts['unix']</code>.</td></tr>
							<tr><td>tdb</td>	<td>Same thing as <code>timeObject.ts['tdb']</code>.</td></tr>
						</table>			
						
						<code>time</code> objects have the following binary operators:
						<table class="definitionTable innerBorder">
							<tr><td><span class=word>a</span> - <span class=word>b</span></td>	
								<td>Difference of times and subtractions of durations.
									<div class=example style="display:inline-block;"><code>
										time[2012/04/05 20:00] - time[2012/04/05 17:00] ;; returns an object equal to dur[3:00]
										time[2012/04/05 20:00] - dur[3:00] ;; returns an object equal to time[2012/04/05 17:00]
									</code></div>
								</td>
							</tr>
							
							<tr><td><span class=word>a</span> < <span class=word>b</span></td>	
								<td>Time less than. 
									<div class=example style="display:inline-block;"><code>
										time[2012/04/05] < time[2012/04/01] ;; returns false
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> <= <span class=word>b</span></td>	
								<td>Time less than or equal to.
								</td>
							</tr>
							<tr><td><span class=word>a</span> > <span class=word>b</span></td>	
								<td>Time greater than. 
									<div class=example style="display:inline-block;"><code>
										time[2012/04/05] > time[2012/04/01] ;; returns true
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> >= <span class=word>b</span></td>	
								<td>Time greater than or equal to.
								</td>
							</tr>
							
						</table>
												
						
						<h4>Time standards</h4>
						<p> Time standards in Lima include both a proper time-standard (a definition of a second under various circumstances)
								and a calendar standard.
							A particular time standard will have different but similar methods for parsing dates
							
							Standards should usually have a default pattern so the pattern need not be more fully specified,
								but some standards have the ability to further define a particular date pattern.
							
							<table class="definitionTable innerBorder">
								<tr><td class=nearTop>tai</td>
									<td> International Atomic Time (TAI) is a coordinate time standard. 
										
										<h4>Members available to <code>time.ts['tai']</code></h4>
										<table class="definitionTable innerBorder">	
											<tr><td>years</td>
												<td>A set of dates each representing the beggining of a year in TAI in ascending order.
													
													<div class=example><code>
														wout[time.tai.years[0]]   ;; prints "0001-01-01 00:00:00"
													
														df time.tai.years[[time[1999] < v < time[2020]]] y:
															wout["It was a dark and storymy night, in the year "y.tai.y"...."@]
													</code></div>
												</td>
											</tr>
											<tr><td>months</td>
												<td>A set of dates each representing the beggining of a month in TAI in ascending order.
												</td>
											</tr>
											<tr><td>weeks</td>
												<td>A set of dates each representing the beggining of a week in TAI in ascending order.
													Days of the week start on monday.
													
													<div class=example><code>
														wout["Lets say all the days of the week. Together now:"@]
														var someWeek = time.tai.weeks[0] 
														df (1..7).map[someWeek+ v*dur[/1]] v
															wout[v.tai.format[time.p["DW"]]@]
													</code></div>
												</td>
											</tr>
											<tr><td>days</td>
												<td>A set of dates each representing the beggining of a day in TAI in ascending order.
												</td>
											</tr>
											<tr><td>hours</td>
												<td>A set of dates each representing the beggining of an hour in TAI in ascending order.
												</td>
											</tr>
											<tr><td>minutes</td>
												<td>A set of dates each representing the beggining of a minute in TAI in ascending order.
												</td>
											</tr>
											<tr><td>seconds</td>
												<td>A set of dates each representing the beggining of a second in TAI in ascending order.
												</td>
											</tr>
										</table>
										
										Note: In all the above members (years, months, weeks, days, hours, minutes, and seconds), 
											key 0 maps to the first of that time-unit starting in year 1 CE, and negative keys map to earlier time-units.
										
										<h4>Methods and operators available to <code>time.ts['tai']</code></h4>
										<table class="methodDefinitionTable innerBorder">											
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>dateString</span> <span class=word>timePattern</span> <span class=word>translator</span></td>	
												<td><p>	Returns a time object of the <span class=word>dateString</span> as parsed with <span class=word>timePattern</span>.
														If the string can't be parsed, an exception is thrown.
														If no pattern is passed in, the default pattern is <br>
															<code>time.p[(y('.'m$mp('.'d$dp))) (h$hp':'min(':'sr)) (' 'era)]</code>.
														<span class=word>translator</span> (optional) is a function that takes in one of the english date-words and returns a word from another language.
														<div class=example><code>
															time.ts['TAI']["2012/06/04 15:00"]         ;; June 4th, 2012 at 3:00pm TAI
															time.ts['TAI']["20120604" time.p[ympdp]]   ;; June 4th, 2012 (at 0:00, ie 12:00am) TAI
															
															var translator = fn x:
																if x.lower=='april': ret 'shigatsu'
																else ret x
															time.ts['TAI']["20120403" time.p[ympdp] translator]   ;; shigatsu 4th, 2012 (at 0:00, ie 12:00am) TAI
														</code></div>
														
														Will throw a parse exception if the string can't be parsed properly.
													</p>
													<p> Will throw a contradictory-date exception if the string is parsed properly, 
															but certain redundant information is inconsistent.
														<div class=example><code>
															;; the following throws an exception, since April 3rd 2012 was a Tuesday
															time.ts['TAI']["Saturday, April 3, 2012" time.p[DW', 'M' 'd', 'y]]
														</code></div>
													</p>
													<span class="copiedNote timeStringFormat">
														<span class=word>timePattern</span> should be a value returned from <code>time.p</code>.
													</span>
												</td>
											</tr>
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>dateText</span></td>	
												<td>Like the bracket operator above, but instead of being passed a string, is instead passed literal text.
													Always uses the default for <span class=word>timePattern</span> 
														from the bracket operator with two parameters and doesn't use a translator.
													<div class=example><code>
														time.ts['TAI'][2012.06.04 15:00]     ;; June 4th, 2012 at 3:00pm TAI
													</code></div>
												</td>
											</tr>
										</table>
										
										<h4>Time pattern keywords available to <code>time.ts['tai']</code></h4>											
										<p>	The following keywords can be used in the <span class=word>pattern</span>.
											Keywords are either all uppercase or all lowercase.
											Uppercase keywords always describe a part of time as a word (e.g. 'April' or 'Saturday').
										</p>
										<table class="definitionTable innerBorder">
											<tr><td>era</td>	
												<td>The era (either 'CE' or 'BCE').
												</td>
											</tr>
											<tr><td>cent</td>	
												<td>The century (eg. time['1994'].cent would return 20)</td>
											</tr>
											<tr><td>y</td>	
												<td>The absolute value of the year (for use with era eg. "300 BCE").
												</td>
											</tr>
											<tr><td>yp</td>	
												<td>Shortened year or "year, pivoted" (eg. "96" instead of "1996").
													Must be accompanied by the <code>py</code> keyword.
												</td>
											</tr>
											<tr><td>py</td>	
												<td>Pivot year - two digit years of this number or lower are interpreted as in the current century.
													Two-digit years above this number are interpreted as in the previous century.
													<div class=example><code>
														;; usually, this should be explicitly set rather than matched in a formatted string
														time['04/03/50' time.p[py=50 mp'/'dp'/'yp]]	;; same as time[2050.4.3]
														time['04/03/51' time.p[py=50 mp'/'dp'/'yp]]	;; same as time[1951.4.3]
													</code></div>
												</td>
											</tr>
											<tr><td>dy</td>	
												<td>The numeric day of the year (e.g. 51 for time[1986/02/20])</td>
											</tr>
										</table>
										<br>	
										<table class="definitionTable innerBorder">
											<tr><td>m</td>	
												<td>The numeric month where 1 is Januray and 12 is December.</td>
											</tr>
											<tr><td>mp</td>	
												<td>The numeric month padded with 0 for months less than 10 (eg. 08 instead of 8).</td>
											</tr>
											<tr><td>M</td>	
												<td>The month as a word (eg. February).</td>
											</tr>
											<tr><td>MS</td>	
												<td>The month as an abbreviation (eg. Feb).</td>
											</tr>
											<tr><td>d</td>	
												<td>The numeric day of the month (eg. 20 for time[1993/04/20]).</td>
											</tr>
											<tr><td>dp</td>	
												<td>The numeric day of the month padded with 0 for days less than 10
													 (eg. 08 instead of 8).</td>
											</tr>
										</table>
										<br>
										<table class="definitionTable innerBorder">
											<tr><td>dw</td>	
												<td>The numeric day of the week where 1 is Monday and 7 is Sunday</td>
											</tr>
											<tr><td>DW</td>	
												<td>The day of the week as a word (eg. 'Tuesday')</td>
											</tr>
											<tr><td>DWS</td>	
												<td>The day of the week as a short word (eg. 'Tue')</td>
											</tr>
											
											<tr><td>h</td>	
												<td>Hour in 24-hour time (eg. 15 for 3:00 pm)</td>
											</tr>
											<tr><td>hp</td>	
												<td>Hour in 24-hour time padded with 0 for hours less than 10 (eg. 08 instead of 8).</td>
											</tr>
											<tr><td>hh</td>	
												<td>Hour in 12-hour time (eg. 3 for 3:00 pm)</td>
											</tr>
											<tr><td>hhp</td>	
												<td>Hour in 12-hour time padded with 0 for hours less than 10 (eg. 08 instead of 8).</td>
											</tr>
											<tr><td>MER</td>	
												<td>Meridian indicator (eg. "am").</td>
											</tr>
											<tr><td>min</td>	
												<td>Minute.</td>
											</tr>
											<tr><td>s</td>	
												<td>Integer second.</td>
											</tr>
											<tr><td>sr</td>	
												<td>Real number second, includes fractional seconds in the decimal of the number 
													(eg. "8:01:23.54").
												</td>
											</tr>
										</table>
										
										<h4>TAI members of time-objects: <code>timeObject.ts['tai']</code></h4>											
										
										<p>	Have the following members:
											
											<table class="definitionTable innerBorder">
												<tr>  <td>era</td> <td>The era as a string.</td>  </tr>
												<tr>  <td>y</td> <td>The number of years.</td>  </tr>
												<tr>  <td>m</td> <td>The number of months.</td>  </tr>
												<tr>  <td>d</td> <td>The number of days.</td>  </tr>
												<tr>  <td>h</td> <td>The number of hours.</td>  </tr>
												<tr>  <td>min</td> <td>The number of minutes.</td>  </tr>
												<tr>  <td>s</td> <td>The number of seconds, possibly fractional.</td>  </tr>
												
												<tr>  <td>time</td> <td>Returns a time object representing the (now possibly modified) tai time.</td>  </tr>
											</table>	
											
											The members <code>era</code>, <code>y</code>, <code>m</code>, <code>d</code>, <code>h</code>, 
												<code>min</code>, <code>s</code> can be modified, and modifying them mutates the tai object.
											Also, for the numeric members (all except <code>era</code>), 
												setting the member to a negative number will roll back that many extra time-units before the next highest time-unit, 
												and setting the member to a number greater than is allowed inside the next highest time-unit adds that many extra time-units.
											
											<div class=example><code>
												var x = time[2008/04/03 2:30:00].tai
												x.s -= 40    ;; x now represents time[2008/04/03 14:29:20]
												x.min += 100 ;; x now represents time[2008/04/03 15:09:20]
												x.y -=1      ;; x now represents time[2007/04/03 15:09:20]
												
												x.time		 ;; returns time[2007/04/03 15:09:20]
												
												;; note that subtracting a year as a duration is different from subtracting it as a part of a TAI time
												;; since things like leap years need to be taken into account
												var y = time[2008/04/03 3:09:20] - dur[1/] ;; time[2007/04/04 9:09:20]
											</code></div>
												
										</p>
										<p>	Has the following methods:
											
											<table class="methodDefinitionTable innerBorder">
												<tr><td>format</td>
													<td><span class=word>timePattern</span> <span class=word>translator</span></td>	
													<td>Returns a string representation of the time according to the <span class=word>stringFormat</span>.
														If no pattern is passed in, the default is <code>time.p[y'/'m'/'d' 'h':'min':'s' 'tz]</code>.
														<span class=word>translator</span> should be able to translate from the english forms of each non-numeric keyword
															(era M MS DW DWS MER).
														<div class="timeStringFormat"></div>
													</td>
												</tr>
											</table>
										</p>
									</td>
								</tr>
								<tr><td class=nearTop>st</td>
									<td>Standard Time. A locality specific time-standard.
										Has all the members and time-pattern keywords that time.ts['tai'] has, as well as the following additional ones: 
										
										<h4>Members available to <code>time.ts['st']</code></h4>
										<table class="definitionTable innerBorder">	
											<tr><td>jumps</td>
												<td>A list of <code>time</code> objects each representing the time after a non-linear time jump (usually daylight-savings time jumps).
													The list is sorted by increasing time.
													<div class='example'><code>
														var now = time.before:
															var nextTimeJump = time.st.jumps[[v>now]][0]
														
														var timeOneSecondBeforeJump = nextTimeJump
														timeOneSecondBeforeJump.st.s -= 1														
													</code></div>
												</td>
											</tr>
										</table>
									
										<h4>Methods and operators available to <code>time.ts['st']</code></h4>
										<table class="methodDefinitionTable innerBorder">											
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>dateString</span> <span class=word>timePattern</span> <span class=word>translator</span></td>	
												<td>Exactly like the bracket operator(s) of time.ts['tai'], except supports time-zones.
													If no time zone keyword is used to parse the string (tz, TZN, tzo, or tzom), UTC is assumed.
													If no pattern is passed in, the default pattern is <br>
														<code>time.p[(y('/'m$mp('/'d$dp))) (h$hp':'min(':'sr)(' 'tz))]</code>.
													
													<div class=example><code>
														time.ts['st']["2012/06/04 15:00"]            ;; June 4th, 2012 at 3:00pm UTC
														time.ts['st']["2012/06/04 15:00 America/Los_Angeles"]     ;; June 4th, 2012 at 3:00pm PST
														time.ts['st']["20120604" time.p[ympdp]]        ;; June 4th, 2012 (at 0:00, ie 12:00am) UTC 
														
														time.ts['st'][2012/06/04 15:00]     ;; June 4th, 2012 at 3:00pm UTC
														time.ts['st'][3:00]                 ;; 3 hours in to the common era (usually the meaning is as a duration of 3 hours)
													</code></div>
												</td>
											</tr>
										</table>
										
										<h4>Time pattern keywords available to <code>time.ts['st']</code></h4>	
										
										Has all the time-pattern keywords that <code>time.ts['tai']</code> has, with the following additions: 
										<table class="definitionTable innerBorder">
											<tr><td>tz</td>	
												<td>Time zone as a local time-zone id (eg. "America/Los_Angeles").</td>
											</tr>
											<tr><td>TZN</td>	
												<td>Time zone as a name (e.g. "Pacific Standard Time").</td>
											</tr>
											<tr><td>tzo</td>	
												<td>Time zone offset - whole number of hours offset from UTC, including sign (e.g. "-3" in "April 3 2401 8:00 Z-3:30").</td>
											</tr>
											<tr><td>tzop</td>	
												<td>Time zone offset, padded. (e.g. "-03" in "April 3 2401 8:00 Z-03:30").</td>
											</tr>
											<tr><td>tzom</td>	
												<td>Time zone offset minutes - whole number absolute value of minutes offset from UTC (e.g. "30" in "April 3 2401 8:00 Z-3:30").</td>
											</tr>
										</table>
										
										Note about time zones: time-zone abbreviations are non-standard and in some cases ambiguous, so Lima doesn't support them.
										
										<h4>UTC members of time-objects: <code>timeObject.ts['st']</code></h4>	
										
										Has all the members <code>timeObject.ts['tai']</code> has with the following addition:										
										<table class="definitionTable innerBorder">
											<tr>  <td>TZN</td> <td>Time zone as a name.</td>  </tr>
										</table>
										
										<p> Has all the methods <code>timeObject.ts['tai']</code> has. 
											Note that any translater used should also be able to translate time zone names and abbreviations.
										</p>
										
										
										<p>	Has the following methods:
											
											<table class="methodDefinitionTable innerBorder">
												<tr><td>format</td>
													<td><span class=word>timePattern</span> <span class=word>timezone</span> <span class=word>translator</span></td>	
													<td>Just like the <code>format</code> methods for tai time-objects (<code>timeObject.tai</code>),
														except a timezone can be passed.
														If no <span class=word>timeZone</span> is passed in, the default is UTC. 
													</td>
												</tr>
											</table>
										</p>
										
									</td>
								</tr>
								<tr><td>utc
										ut0
										ut1
										ut1r
										ut2
										ut2r
									</td>
									<td>Versions of Universal Time.
										These have all the same methods, operators, and time-pattern keywords time.ts['tai'] has.
									</td>
								</tr>
								<tr><td>GPS</td>
									<td>Global Positioning System Time
									</td>
								</tr>
								<tr><td>TT</td>
									<td>Terrestrial Time
									</td>
								</tr>
								<tr><td>TDB</td>
									<td>Barycentric Dynamical Time - a relativistic dynamical time.
									</td>
								</tr>
								<tr><td>UNIX</td>
									<td>Unix timestamp, the number of TAI seconds since Jan 1, 1970 00:00 UTC.
									
										<h4>Methods and operators available to <code>time.ts['unix']</code></h4>
										<table class="methodDefinitionTable innerBorder">											
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>unixTimestamp</span></td>	
												<td>Returns a time object representing the time indicated by <span class=word>unixTimestamp</span>.
													<span class=word>unixTimestamp</span> must be a number (can be fractional).
													<div class=example><code>
														var x = int.parse[915148801.25]
														time.ts['unix'][x]               ;; 1999/01/01 00:00:33.25 TAI
														time.ts['unix'][1095379200]     ;; 2004/09/17 00:00:32 TAI
													</code></div>
												</td>
											</tr>
										</table>
									
										<h4>Members available to <code>timeObject.ts['unix']</code> for a given time-object</h4>
										<table class="definitionTable innerBorder">											
											<tr><td>stamp</td>	
												<td>Returns the unix timestamp as a number.
													<div class=example><code>
														var t = time.ts['unix'][1095379200.54]     ;; 2004/09/17 00:00:32.54 TAI
														t.ts['unix'].stamp	;; returns 1095379200.54
													</code></div>
												</td>
											</tr>										
											<tr><td>s</td>	
												<td>The integer timestamp rounded to the nearest second (standard unix timestamp).
													<div class=example><code>
														var t = time.ts['unix'][1095379200.54]     ;; 2004/09/17 00:00:32.54 TAI
														t.unix.s	;; returns 1095379200
													</code></div>
												</td>
											</tr>										
											<tr><td>ms</td>	
												<td>The integer timestamp rounded to the nearest millisecond.
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
							
							Note that when dealing with a date format with ambiguous dates for a particular time-standard, 
								the earliest possible time is assumed to be the one meant.
						</p>
					</td>
				</tr>
				
				<tr><td class=nearTop>dur</td>
					<td>An object that has methods for representing and operating on durations.
						Uses a constant definition for date parts:
						<ul><li>y: year = 365.25 days (A <a href="http://en.wikipedia.org/wiki/Julian_year_(astronomy)">Julian Year</a>) or 12 months</li>
							<li>m: month = 30.4375 days (Based on the Julian Year)</li>
							<li>week = 7 days (168 hours)</li>
							<li>d: day = 24 hours (86,400 seconds)</li>
							<li>h: hour = 60 minutes</li>
							<li>min: minute = 60 seconds</li>
							<li>s: second = an SI second</li>
						</ul>
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>dur</code> objects.
									<div class=example><code>
										dur! t = dur[3:00]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>duractionText</span></td>	
								<td>Returns a <code>dur</code> object of the <span class=word>duractionText</span> parsed as a duration.
									The pattern it parses off of is <br>
										<code>time.p[(y'/')$((y)'/'m('/'d))$('/'d) s$((h)':'min':'(s))$(h':'(min))]</code>.
									<div class=example><code>
										dur[15]        ;; 15 seconds
										dur[15.45]     ;; 15.45 seconds
										dur[150]       ;; 150 seconds
										dur[:15:0]     ;; 15 minutes
										dur[:15:]      ;; 15 minutes
										dur[15:0]      ;; 15 hours
										
										dur[-7:00]     ;; negative 7 hours
										dur[0:30.5]    ;; 30 minutes and a half (30 minutes and 30 seconds)
										dur[:30:29.56] ;; 30 minutes, 29 seconds, and 560 milliseconds
										
										dur[/5/1]      ;; 5 months and 1 day
										dur[23/9]      ;; 23 years and 9 months
										dur[10/]       ;; 10 years
										dur[-23/10/1]  ;; negative 23 years, 10 months, and 1 day	
										
										dur[5/1]       ;; 5 years and 1 month
										dur[2/8/23 3:00:00.05]      ;; 2 years, 8 months, 23 days, 3 hours, and 50 milliseconds
									</code></div>
									
									<p> dur["00"] is a special case indicating an infinite amount of time.
										Note that <code>dur[00].time == time[00]</code>.
									</p>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>duractionString</span></td>	
								<td>Like the bracket operator above, but instead of writing literal <span class=word>duractionText</span>, 
										a string is passed instead.
									Uses the same pattern from the bracket operator with the <span class=word>duractionText</span> parameter.
									If the string can't be parsed, an exception is thrown.
									<div class=example><code>
										dur["15:00"]
										dur[":30:29.56"]
										dur["-23/10/1"] ;; same as dur[-23/10/1]
									</code></div>
								</td>
							</tr>
						</table>
						
						
						
						<h4>Duration objects</h4>
						<p>	Duration objects represent a length of time.
						</p>
						
						<code>dur</code> objects have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>str</td>
								<td>The to-string member.
									The pattern output is: <code>time.p[y'/'m'/'d' 'h':'min':'sr]</code>
								</td>
							</tr>
						</table>
						
						<code>dur</code> objects have the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>timePatternKeywords</span></td>	
								<td>Returns an object that counts the time only in terms of the parts given in the <span class=word>timePatternKeywords</span>.
									<span class=word>timePatternKeywords</span> are similar to the input into <code>time.p</code>.
									The resulting object will have members (of the same name as the time pattern part) 
										representing the amount of time where, all added up, they equal the original duration.
									The smallest time unit can have a fractional value, all others will be integers.
									
									<div class=example><code>
										dur[15:00][d h s]	       ;; returns {d=0 h=15 s=0}
										dur[34 4:34:23.4][h min] ;; returns {h=820 min=34.39}
										
										var pattern = time.p[y'-'m'-'d]
										dur[3/4/20][@pattern]    ;; you can use time.p objects like that: returns {y=3 m=4 d=20}
									</code></div>
									
									<table class="definitionTable innerBorder">
										<tr>  <td>y</td> <td>The number of years.</td>  </tr>
										<tr>  <td>m</td> <td>The number of months.</td> </tr>
										<tr>  <td>w</td> <td>The number of weeks.</td>  </tr>
										<tr>  <td>d</td> <td>The number of days.</td>  </tr>
										
										<tr>  <td>h</td> <td>The number of hours.</td>  </tr>
										<tr>  <td>min</td> <td>The number of minutes.</td>  </tr>
										<tr>  <td>s</td> <td>The number of seconds.</td>  </tr>
									</table>
								</td>
							</tr>
						</table>				
						
						<code>dur</code> objects have the following binary operators:
						<table class="definitionTable innerBorder">
							<tr><td><span class=word>a</span> + <span class=word>b</span></td>	
								<td>Addition of durations, or addition of a time and a duration.
									<div class=example><code>
										time[2012.04.05 20:00] + dur[3:00]  ;; returns an object equal to time[2012/04/05 23:00]
										dur[3:00] + dur[..24]               ;; returns a dur object representing 24 days and 3 hours
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> - <span class=word>b</span></td>	
								<td>Subtraction of a duration.
									<div class=example><code>
										time[2012.04.05 20:00] - dur[3:00] ;; returns an object equal to time[2012/04/05 17:00]
										dur[..24] - dur[3:00]              ;; returns a dur object representing 23 days and 21 hours
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> * <span class=word>b</span></td>	
								<td>Duration multiplication. Multiplies a duration.
									One of the operands must be a <code>dur</code> object, and the other must be a number.
									<div class=example><code>
										3*dur[2:20]   ;; returns an object equal to dur[7:00]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> / <span class=word>b</span></td>	
								<td>Duration division. Divides a duration.
									The first operand must be a <code>dur</code> object and the second must be a number.
									<div class=example><code>
										dur[1:00]/4   ;; returns an object equal to time[0:25]
									</code></div>
								</td>
							</tr>
							
							<tr><td><span class=word>a</span> < <span class=word>b</span></td>	
								<td>Less than comparison between durations. 
									<div class=example><code>
										dur[1:00] < dur[4:00] ;; returns true
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> <= <span class=word>b</span></td>	
								<td>Less than or equal to comparison between durations.
								</td>
							</tr>
							<tr><td><span class=word>a</span> > <span class=word>b</span></td>	
								<td>Greater than comparison between durations. 
									<div class=example><code>
										dur[1:00] > dur[4:00] ;; returns false
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> >= <span class=word>b</span></td>	
								<td>Greater than or equal to comparison between durations.
								</td>
							</tr>
							
							
						</table>
						
						<code>time</code> objects have the following unary operators:
						<table class="definitionTable innerBorder">
							<tr><td> -<span class=word>a</span></td>	
								<td>Negative. Returns the negative of the duration.
									<div class=example><code>
										-dur[1:00]          ;; returns negative 1 hour
										var x = dur[-2:00]  ;; negative 2 hours
										-x                  ;; 2 hours
									</code></div>
								</td>
							</tr>
						</table>
						
					</td>
				</tr>
				
					
				<tr><td>dns</td>
					<td>Object containing methods for dns address lookup. 
                        Note that this ignores any system-defined names (/etc/hosts and the like), so if you want those to be included, 
                            use <code>system.host</code>.
					    The behavior of this object can be overridden using the <code>dnsObject</code> attribute.
                    
                        Has the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>[]</td>	
								<td><span class=word>name</span>  type  class 
                                    <span class=word>edns</span>=false  deviceAddress=adr.own[0]</td>	
								<td><p> Returns the dns answer to the query.
                                        <span class=word>name</span> is the name of the resource you want to query about (usually either a hostname or an ip address).
                                        <code>type</code> is the the dns rrtype ('A', 'AAAA', 'MX', 'TXT', 'SRV', 'PTR', 'NS', 'CNAME', 'SOA', 'NAPTR', etc).
                                        <code>class</code> is the numerical representation of the class of service (usually 1 for internet).
    									<code>deviceAddress</code> (optional) is the address of the device to query from.
									</p>
									
									<p>The answer is an object that looks like:
                                        <div><code>
                                        { header= {
                                            qr=&lt;query response>  
                                            opcode=___
                                            aa=&lt;authoratative answer>  
                                            tc=&lt;truncation bit>  
                                            rd=&lt;recursion desired>
                                            ra=&lt;recursion available>
                                            rcode=&lt;response code>
                                          }
                                          answer=___  
                                          authority=___  
                                          additional=___  
                                        }
                                        </code></div>
                                        
                                        where <code>answer</code>, <code>authority</code>, and <code>additional</code> are lists of resource record objects that look like this:
                                            
                                        <div><code>
                                        { type=&lt;dns rrtype>
                                          ttl=___  
                                          ... ;; additional fields 
                                        }
                                        </code></div>
                                        
                                        The additional fields in resource record objects are the following (by type)
                                        <table class="definitionTable innerBorder">
							                <tr> <th>type</th>	
							                     <th>properties</th>	
                							</tr>
                                            <tr> <td>SOA</td>	
							                     <td><ul><li>primary</li>
							                             <li>admin</li>
							                             <li>serial</li>
							                             <li>refresh</li>
							                             <li>retry</li>
							                             <li>expiration</li>
							                             <li>minimum</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>A and AAAA</td>	
							                     <td><ul><li>address - an address (<code>adr!</code> objects) for the host <span class=word>hostString</span>.</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>MX</td>	
							                     <td><ul><li>priority</li>
							                             <li>exchange - the hostname of the mail exchange</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>TXT</td>	
							                     <td><ul><li>data - the string text record</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>SRV</td>
							                     <td><ul><li>priority</li>
							                             <li>weight</li>
							                             <li>port</li>
							                             <li>target</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>NS</td>	
							                     <td><ul><li>data - a name server hostname</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>CNAME</td>	
							                     <td><ul><li>data - a canonical name record</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>PTR</td>	
							                     <td><ul><li>data</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                                            <tr> <td>NAPTR</td>	
							                     <td><ul><li>order</li>
							                             <li>preference</li>
							                             <li>flags</li>
							                             <li>service</li>
							                             <li>regexp</li>
							                             <li>replacement</li>
                                                    </ul>
                                                 </td>	
                							</tr>
                						</table>
									
									</p>
								</td>
							</tr>
							<tr><td>ips</td>	
								<td>string <span class=word>hostString</span>  adr! deviceAddress</td>	
								</td>	 
								<td>Resolves a domain name to a list of IP addresses.
                                    Returns a list of <code>adr!</code> objects with the addresses.
									<code>deviceAddress</code> (optional) is the interface do request from.
									This is the same thing as:
                                    <div><code>
                                        dns[hostString 'A' 1 deviceAddress].map[v.answer] & dns[hostString 'AAAA' 1 deviceAddress].map[v.answer]
                                    </code></div>
								</td>
							</tr>
							<tr><td>hosts</td>	
								<td>adr! <span class=word>address</span>  adr! deviceAddress
								</td>	 
								<td>Reverse resolves an ip address to a list of domain names.
                                    Returns a list of hostnames corresponding to that address.
									<code>deviceAddress</code> is optional.
									This is the same thing as:
                                    <div><code>
                                        dns[address.str 'PTR' 1].map[v.answer]
                                    </code></div>
								</td>
							</tr>
							<tr><td>alternate</td>	
								<td>adr! <span class=word>address</span>  string <span class=word>type</span>
								</td>	 
								<td>Returns an object that also has the <code>ips</code> and <code>hosts</code>, and can also be called as a function,
								        but calls the dns server specified by <span class=word>address</span> with the protocol specified by <span class=word>type</span> ('udp' or 'tcp'),
                                        rather than your router's default dns server.
								</td>
							</tr>
							<tr><td>servers</td>	
								<td>
								</td>	 
								<td>A member that returns the list of DNS servers the operating system uses.
								</td>
							</tr>
						</table>
					</td>
				</tr>	
							
				<tr><td class="nearTop">socket</td>
					<td>Object for handling raw internet packets. 
					    The behavior of this object can be overridden using the <code>socketObject</code> attribute.
                    
                        Has the following method:
						<table class="methodDefinitionTable innerBorder">
							<tr><tr><td>make</td>	
								<td>deviceAddress</td>	
								<td><p>	Initializes and returns a raw packet stream with the given destination.
										Returns a <code>chan</code> object that receives IP packets of any version.
										<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										
										Outputting on <code>out</code> sends a packet, and new packets will come in on <code>in</code> (if its listening). 
										The <code>in</code> property always has the encoding <code>"bits"</code>.
										On call of <code>close</code> the socket will be closed.    
									</p>
								</td>
							</tr>
						</table>
						
                        Objects returned by <code>socket</code>'s constructor have the following method:
						<table class="methodDefinitionTable innerBorder">
							<td>listen</td>	
								<td></td>	
								<td><p>	A pseudo-method that starts listening to the socket. 
										Can restart listening on a socket that was previously closed. 
										Returns the calling object (for chaining).
									</p>
										
									<p><div class=example><code>
										;; processes all the packets that come through (infinite loop)
										var server = socket[].listen
										df server.in packet:
											if packet.version == 4: ;; ipv4
												var p = ipv4[packet.data]
											
												var ipv4Packet = ipv4[
													ttl = 30
													protocol = 17
													destination = p.source
													data = udp[dest=8000 data="hi"].serialize
												]
												server.out.=ins[ipv4Packet]	;; sends the IPv4 packet with a UDP message
										</code></div>
									</p>
								</td>
							</tr>			
						</table>
						
						<p class="tcpUdpHttpCopying"></p>
												
					</td>
				</tr>
				
				<tr><td class="nearTop">ipv4</td>
					<td>IPv4 packet object. 
                        The behavior of this object can be overridden using the <code>ipv4Object</code> attribute.
                        
                        Has the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>make</td>	
								<td>ttl protocol destination data</td>	
								<td><p>	Creates an ipv4 packet.
									</p>
											
								</td>
							</tr>
							<tr><td>make</td>	
								<td>bitList</td>	
								<td><p>	Creates an ipv4 packet from bits.
									</p>
								</td>
							</tr>								
						</table>
						
						<p>	And has the following members:
							<table class="definitionTable innerBorder">
								<tr><td>version</td>	
									<td>The IP protocol version (4 for this).
									</td>
								</tr>
								<tr><td>ttl</td>	
									<td>Time to live.
									</td>
								</tr>
								<tr><td>protocol</td>	
									<td>Transport layer protocol number.
									</td>
								</tr>
								<tr><td>destination</td>	
									<td>An object containing an <code>adr!</code> object representing the address the packet was addressed to.
									</td>
								</tr>
								<tr><td>bits</td>	
									<td>Contains the packet's <code>bits</code> serialization.
									</td>
								</tr>
							</table>
						</p>	
					</td>
				</tr>
				
				<tr><td class="nearTop">ipv6</td>
					<td>Just like IPv4 except with IPv6 members instead.
					    The behavior of this object can be overridden using the <code>ipv6Object</code> attribute.
					</td>
				</tr>
				
						
				<tr><td class="nearTop">url</td>
					<td><p>An object for parsing, creating, and handling URLs.
						   Quick reference: protocol:[//[user:pass@]host[:port]][/]path[?query.str][#frag]
						</p>
						         						
						<p><code>url</code> has the following methods:</p>
						<table class="methodDefinitionTable innerBorder">   
							<tr><td>make</td>	
								<td>urlString</td>	
								<td>This constructor parses the <code>urlString</code> and returns a <code>url</code> object that represents it. 
								</td>
							</tr>
							<tr><td>make</td>	
								<td>options</td>	
								<td>Returns a <code>url</code> object that has the passed properties. 
									The properties can be any of 
									<code>protocol</code>, <code>host</code>, <code>port</code>, <code>path</code>,  
									<code>query</code>, <code>frag</code>, <code>fullHost</code>, or <code>fullPath</code>
									(host and port are mutually exlucive with fullHost, and path and query are mutually exclusive with fullPath).	
								</td>
							</tr>          
							<tr><td>encode</td>	
								<td>string</td>	
								<td>URL-encode a string.
								</td>
							</tr>
							<tr><td>decode</td>	
								<td>string</td>	
								<td>URL-decode a string.
								</td>
							</tr>
							<tr><td>queryStr</td>	
								<td>objectMap</td>	
								<td>Returns a URL encoded query string that represents the object map. 
									Throws an exception if the object can't be represented by a query string. 
								</td>
							</tr>
						</table>
						         
						<p><code>url</code> has the following member:</p>
						<table class="definitionTable innerBorder">      
							<tr><td>defaults</td>	
								<td>An object containing info on what port is default for a protocol. 
									Each key is a protocol, and each value is a port number.
								</td>
							</tr>
						</table>
						
						<h5><code>url</code> objects</h5>
						    			
						<p><code>url</code> objects have the following members:</p>
						<table class="definitionTable innerBorder">      
							<tr><td>protocol</td>	
								<td>
								</td>
							</tr>
							<tr><td>user</td>	
								<td>The username part of the URL.
								</td>
							</tr>
							<tr><td>pass</td>	
								<td>
								</td>
							</tr>
							<tr><td>host</td>	
								<td>
								</td>
							</tr>
							<tr><td>port</td>	
								<td>
								</td>
							</tr>
							<tr><td>path</td>	
								<td>
								</td>
							</tr>
							<tr><td>query</td>	
								<td>An object where each key is a url query property, and each value is its 
										value (either a string or a list of strings).
																						
									<p>Also has the member:</p>
									<table class="definitionTable innerBorder">      
										<tr><td>str</td>	
											<td>Returns the url encoded query string. 
												Setting this variable changes the properties set in the urlObject.query object to match.
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr><td>frag</td>	
								<td>Fragment identifier (the part after the # hash mark). 
								</td>
							</tr>                                                  
							<tr><td>fullhost</td>	
								<td><code>host</code>.cat[':'<code>port</code>] 
								</td>
							</tr>
							<tr><td>fullPath</td>	
								<td><code>path</code>.cat[':'<code>query.str</code>]
								</td>
							</tr>
							<tr><td>str</td>	
								<td>Returns the url as a string.
									If the port is originally specified but is known to be the default (it checks <code>url.defaults</code> 
										for this),  the port is known to be default for that protocol, 
										this omits the port in the string even if the port was originally specified.
									Protocol and host is always converted to lower case.
								</td>
							</tr>
						</table>
						
						The members <code>protocol</code>, <code>host</code>, <code>port</code>, <code>path</code>, <code>query</code>, 
							<code>frag</code>, <code>fullHost</code>, or <code>fullPath</code> are all mutable so you can change the URL at will.
					</td>
				</tr>
			
				<tr><td class="nearTop">http</td>
					<td><p>	Object for handling HTTP requests. 
                            The behavior of this object can be overridden using the <code>httpObject</code> attribute.
                            
                            Has the following methods:
							<table class="methodDefinitionTable innerBorder">
								<tr><td>listen</td>	
									<td>port encodingName deviceAddress</td>	
									<td><p>Listens for incomming http requests.
											<code>encodingName</code> is optional, and defines how to decode the HTTP request and encode the response.
											If <code>encodingName</code> is not defined, Lima will attempt to get the encoding from the request's "Content-Type" header,
												using "bits" if none is found.
											<code>deviceAddress</code> is optional.
											Returns a list containing all the HTTP requests that will arrive on the HTTP socket 
												from the time <code>listen</code> was called to when the socket is closed.
										</p>
										<p>Note that if you stop processing a request or close its connection before reading the entire 
												body or before reading request headers (etc), Lima should optimize that such that the connection
												will be dropped or closed as soon as possible (potentially without loading anything but the status code).
										</p>
										<p class="tcpUdpHttpCopying"></p>
									</td>
								</tr>
								<tr><td>make</td>	
									<td>host method resource query 
                                        headers body deviceAddress
									</td>	
									<td>Creates an http request object.
										<code>deviceAddress</code> is optional.
										<code>query</code> should be an object that will be built into a query string.
									</td>
								</tr>
			
								<tr><td>cookie</td>	
									<td><span class=word>name</span> <span class=word>value</span> <span class=word>expire</span>
									</td>	
									<td>Creates a cookie.
										The following members can also be explicitly set: domain, maxAge, path, secure, httponly.
										Note that maxAge will delete the 'expire' member if set (and vice versa).
									</td>
								</tr>
							</table>
							
							<div class=example><code>
								var listener = http.listen[8080]           ;; connects to another computer
								
								df listener.in request:
									request.respond[503 nil "we're not on speaking terms"]
								
								var messages = connection.split[''@]     ;; messages delimited by newlines
								if messages[0] == 'hi':
									connection.cat['hi']	;; send message back
								 else:
									wout[messages[0]]    ;; print message 
							</code></div>
						</p>
												
						<h5>HTTP request objects</h5>
						
						The objects returned by <code>http</code>'s constructor and <code>http.listen</code>
							have the following members:
						<table class="definitionTable innerBorder">
							
							<tr><td>method</td>	
								<td>The http method.
								</td>
							</tr>
							<tr><td>resource</td>	
								<td>The requested resource.
								</td>
							</tr>
							<tr><td>version</td>	
								<td>The http version (eg. 1.1)
								</td>
							</tr>
							
							<tr><td>source</td>	
								<td>An object containing an <code>adr!</code> object representing the source address.
									This is only populated on the computer receiving the request.
								</td>
							</tr>
							<tr><td>open</td>	
								<td>Contains true if the connection is open, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Psuedo-member that closes the connection.
									Does nothing if connection is already closed.
								</td>
							</tr>
							
							<tr><td>query</td>	
								<td>The query string. Also has the member:
									<table class="definitionTable innerBorder">
										<tr><td>map</td>	
											<td>The query parameter map (from parsing the query string).
												Throws an exception if not able to parse the query string.
												<div class=example><code>
												httpRequest.query.map.userId[0]	;; get the first userid parameter in the query string
												</code></div>
												<span class="urlEncodeDecode"></span>
											</td>
										</tr>
									</table>
								</td>
							</tr>								
							
							<tr><td>headers</td>	
								<td>A list of header values keyed by their name.
								</td>
							</tr>
							<tr><td>body</td>	
								<td>The http body (as a string). 
									Also has the following members:
									<table class="definitionTable innerBorder">
										<tr><td>map</td>	
											<td>The http body parsed as a parameter map ("post parameters"). 
												Attempting to access <code>map</code> throws an exception if 
													the body is not able to parsed as a query string.
											</td>
										</tr>
									</table>
								</td>
							</tr>
							
							<tr><td>str</td>	
								<td>Returns the request as a string.
									This can be used to send the packet out through a TCP socket.
								</td>
							</tr>
						</table>
						
						<p>	HTTP request objects also have the following methods:
							
							<table class="definitionTable innerBorder">
								<tr><td>respond</td>	
									<td><span class=word>status</span> <span class=word>headers</span> <span class=word>response</span> <span class=word>keepalive</span></td>	
									<td>Responds to the request.
										Closes the connection after the request is sent unless <span class=word>keepalive</span> is passed in as <code>true</code>.
										Note that <span class=word>keepalive</span> will keep the connection open forever until explicitly closed by one side or the other.
									</td>
								</tr>
								
								<tr><td>send</td>	
									<td>address sourcePort deviceAddress</td>	
									<td>Sends the HTTP request to the given address and returns an HTTP response.
										<code>address</code> can either be an <code>adr!</code> object, 
											or it can be a string host.
										If <code>address</code> is a string, the host header will automatically be set
											if it hasn't been already.
									</td>
								</tr>
							</table>
						</p>
						
						
						<h5>HTTP response objects</h5>
						
						HTTP response object have the following members:
						<table class="definitionTable innerBorder">
							
							<tr><td>status</td>	
								<td>The http method.
								</td>
							</tr>
							<tr><td>version</td>	
								<td>The http version (eg. 1.1)
								</td>
							</tr>
							
							<tr><td>open</td>	
								<td>Contains true if the connection is open, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Psuedo-member that closes the connection.
									Does nothing if connection is already closed.
								</td>
							</tr>								
							
							<tr><td>headers</td>	
								<td>A list of header values keyed by their name.
								</td>
							</tr>
							<tr><td>body</td>	
								<td>The http body (as a string). 
									Also has the following members:
									<table class="definitionTable innerBorder">
										<tr><td>map</td>	
											<td>The http body parsed as a parameter map ("post parameters"). 
												Attempting to access <code>map</code> throws an exception if 
													the body is not able to parsed as a query string.
											</td>
										</tr>
									</table>
								</td>
							</tr>
							
							<tr><td>str</td>	
								<td>Returns the response as a string.
									This can be used to send the packet out through a TCP socket.
								</td>
							</tr>
						</table>
						
					</td>
					
				</tr>
				
				<tr><td>https</td>
					<td><p>Object for handling HTTPS requests. Has the same interface as <code>http</code>. 
					       The behavior of this object can be overridden using the <code>httpsObject</code> attribute.
					
					       HTTPS request objects also have the following member:
							
							<table class="definitionTable innerBorder">
								<tr><td>auth</td>		
									<td>Returns the auth scheme used.
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
								
			</table>
	   </div>
	   
	   <div class="subBox1" title="Standard Functions">
			<table class="methodDefinitionTable">
				
				<tr><td>round</td>
					<td>value valueSet towardValue</td>
					<td>Returns the <code>value</code> rounded toward <code>towardValue</code> in the set <code>valueSet</code>.
						<span class="copiedNote roundParameters">
							<code>valueSet</code> is optional (defaulted to the set of integers - since numbers are what are usually rounded).
							<code>towardValue</code> is optional, without it rounds to the nearest value in <code>valueSet</code>, 
								with it rounds toward that <code>towardValue</code>.
							Throws an exception if the <code>value</code> is not comparable with items in <code>valueSet</code>.
						</span>
						<p class=example><code>
							;; all of these are true:
						
								;; numbers
								
							round[34.245] == 34
							round[34.5] == 35
							
							round[34.8 int.set.map[v*.5]] == 35
							round[34.7 int.set.map[v*.5]] == 34.5
							
							round[34.7 int.set 0] == 34
							round[34.7 int.set.map[[v*5]] 0] == 30
							round[-34.7 int.set 0] == -34
							round[34.7 int.set 0] == 34
							round[34.7 int.set 00] == 35
							round[34.7 int.set.map[[v*6]] 00] == 36	;; 6*6 == 36 and 6*5 == 30 (so 36 is closer)
							round[-34.7 int.set -00] == -35
							
							round[19.8 int.set 15] == 19
							round[14.8 int.set 15] == 15]
							
								;; time
							
							var t = time[2012-04-03 12:00]
								
							;; rounds to the nearest week (weeks here defined as starting on monday)
							round[t time.tai.weeks] == time[2012-04-02]                
							;; rounds to the nearest wednesday
							round[t time.tai.weeks.map[v+dur[/0/2]]] == time[2012-04-04] 
							
							t.tai.round[t time.utc.years] == time[2012-01-01]
							;; midday counts as nearest to the next day (like .5 being rounded as closest to 1)
							t.tai.round[t time.utc.days] == time[2012-04-04]      
							
							;; rounds to the nearest day that is the 9th of a month
							t.tai.round[t time.utc.months.map[v+dur[/0/9]]] == time[2012-04-09]         
							;; rounds to the nearest 1/3 of a day (again rounding up in this case)
							t.tai.round[t time.utc.days.map[v - dur[/1]/3]] == time[2012-04-05 16:00] 
							
							;; rounds toward time 0 - in other words time[1/] or time[0001/01/01 00:00:00]
							t.tai.round[t time.months dur.0.time] == time[2012-04-01]	  
							;; rounds toward time infinity (rounds up) 
							t.tai.round[t time.months dur.00.time] == time[2012-05-01]    

						</code></p>
					</td>
				</tr>
				
				<tr><td>mag</td>
					<td>value</td>
					<td>Returns the magnitude of a value. 
						The value can be any number (int, flo, fra, complex, etc), or vector of numbers. 
						It should be noted that this function is equivalent to the absolute value when used on non-vector numbers.
					</td>
				</tr>
				<tr><td>sir</td>
					<td>radians</td>
					<td>Sine for radians
					</td>
				</tr>
				<tr><td>cor</td>
					<td>radians</td>
					<td>Cosine for radians
					</td>
				</tr>
				
				<tr><td>deg</td>
					<td></td>
					<td>Converts degrees to radians.
						For example, <code><span class=deg></span>[90]</code> would be <span class=pi></span>/2 (radians).
					</td>
				</tr>
				<tr><td><span class=sign></span></td>
					<td></td>
					<td>Gets the sign of a non-complex number. Returns either 1 or -1.
					</td>
				</tr>
				<tr><td><span class=log></span>.<span class=integer>base</span></td>
					<td>value</td>
					<td> Gets the logarithm base `base` of the passed value.
					</td>
				</tr>

				<tr><td><span class=word>cat</span></td>
					<td>value1 value2 ...</td>
					<td>Shorthand for <code>value1.cat[value2 value3 ...]</code>
					</td>
				</tr>
									
				<tr><td>access</td>
					<td>get set</td>
					<td><p>	Returns an accessor object.
							The parameter <code>get</code> is the getter function for the value, 
								and <code>set</code> is the setter function.
							All other operations on the object are performed on the result of
								the getter function.
						</p>
						<div class=elaboration> 
							This is useful for defining getters and setters for an object.
							<div><code>
								var o = {
									internalX = 5
									x = access[
										get=fn: return internalX
										set=fn v: internalX = v
									]
								}
							</code></div>
						</div>
						
					</td>
				</tr>
							
				<tr><td>load</td>
					<td><span class=word>module</span> <span class=word>type</span></td>
					<td><p>	Loads a resource from a library. Usually this is loading a module (as a static or dynamic library).
							<span class=word>module</span> can either be a module-path (explained below) to the file containing the module-file.
                            <span class=word>type</span> is optional (default='module') and describes whether to load the resource as a 'file'
                                or as a 'module'.
                            If <span class=word>type</span> is <code>"file"</code>, it will return a <code>file!</code> object containing the file.
                            Otherwise, <code>load</code> will return an object representing the module in the file.
						</p>
                        <p>	A module-path is similar to how node.js <code>require</code> takes paths.
                                    Module resolution is done as follows:
                                
                                <ol type="A">
									<li>If the path starts with "./" or "../", the file is looked for at the given path relative to the loading module</li>
									<li>If the path starts with "/", the file is looked for at the given absolute path</li>
                                    <li>Otherwise, a "modules" folder is looked for in the directory containing the loading module, and
                                        <ol><li>If found, the file is looked for at the path relative to that "modules" folder.</li>
                                            <li>If not found, step B is repeated for the parent directory</li>
                                            <li>If still not found, step C is repeated until there are no more accessible parent directories</li>
											<li>If it still isn't found, the first part of the path is looked for in the "dependencies" list in the "package.lima" file,
													and searched for in the user's lima module installation directory.
											<ol>
												<li>If found and the module-path is just the module's name, the file at the path listed
													in the property "main" in that module's "package.lima" file, is loaded
												</li>
												<li>If found and the module-path is more than just the module's name,
														the file at that path relative to that module's folder, is loaded
												</li>
												<li>If not found in the user's module installation directory, the program attempts to download the module
														and install it and its dependencies in the user's module installation directory.
												</li>
											</ol>
											</li>
											<li>If the module isn't found in any of the above ways, <code>load</code> throws an exception</li>
                                        </ol>
                                    </li>
                                </ol>
						</p>
						<div class=example><code>
							private mix[load['./crypto-v1.0.0.lib']] ;; loads crypto methods in the current scope
							
							md5['something'] ;; hypothetically in the crypto library
							customLibraryFunction[45 'do something!'] ;; hypothetically from the customLibrary module
							
							;; you can also use it as a standalone object
							var websocket = load['websocket']
							websocket.connect['ws://localhost'] ;; calls the connect function from that library
						</code></div>
							
						<p>	Examples of types of packages you would use with this: lima source files (uncompiled libraries),
								compiled static libraries, shared libraries (DLLs, so files), executables (loads it like a shared library).
							If one of the filenames a string ending in ".lima", ".o", ".dll", ".so", etc, 
								it loads the code at the given path and uses the entire file as an object.
						</p>
						
                        <p>	"package.lima" is a file, much like node.js's "package.json", containing information about the current package,
                                and the dependencies of that package. It can have the following properties (unless marked, a property is optional)
                                
                            <ul><li>name - (required) Must be a valid variable name</li>
								<li>version - (required)</li>
								<li>main - (required) The path to the main module file for this package.</li>
                                <li>description</li>
                                <li>keywords</li>
                                <li>recommended - a list of optimization packages that will likely work well with the module.</li>
                                <li>homepage</li>
                                <li>bugs</li>
                                <li>repository</li>
                                <li>license</li>
                                <li>author</li>
                                <li>contributors</li>
                                <li>ignore - files and folder to ignore when publishing the package</li>
                                <li>dependencies - a list/object of modules a package depends on. 
                                    Each item in the list/object is one of the following:
                                    <ul><li><code>&lt;name>@&lt;version></code> - downloads the specified &lt;version> of the package &lt;name> from lime (lima's package manager -  like gems for ruby, cpan for perl, or npm for node.js). 
                                                                    &lt;version> should be of the form <code>N.N.N</code> where each <code>N</code> is an integer. 
                                        </li>
                                        <li><code>&lt;name>: &lt;url></code> - downloads the package &lt;name> from the given url. It expects the downloaded file to be an archived tarball.</li>
                                        <li><code>&lt;name></code> - Downloads the latest version of the package <code>&lt;name></code> from lime. 
                                            After downloading, the package.lima file will be updated with the specific version downloaded 
                                            (turning it into the <code>&lt;name>@&lt;version></code> format).
                                        </li>
                                    </ul>
                                </li>
                                <li>private</li>
                                <li>postinstall - a list of dependencies, how to check if they're installed, and how to install them if they're not.
                                    <p>	Each item in the list should have the following format:
            							<div><code>
            							{   name = <span class=word>name</span>             ;; name of the dependency
            							    check = <span class=word>checkFunction</span>   ;; returns true if the dependencies it is responsible for are met
            							    build = <span class=word>buildFunction</span>   ;; builds a dependency
            							}
            							</code></div>
            							
            							If a <code>build</code> member isn't given for a particular dependency,
            								it indicates that the dependency can't be met automatically.
            							If a dependency isn't met and can't be met automatically,
            								an exception will be thrown containing a list of the names of the dependencies
            								that can't be fulfilled.
            						</p>
                                </li>
                                <li>location - a path to where external modules should be installed to. 
                                        Defaults to a standardized location depending on the operating system the program is running on.
                                </li>
                            </ul>
						</p>
							
						<p>	Since "package.lima" is a full-fledge lima program, you can programatically define any of the above fields.
						</p>
						
					</td>
				</tr>
				
				<tr><td>dif</td>
				    <td>originalObject newObject</td>
					<td>A function that compares the non-privileged members of two objects and returns the difference between them.
					    The return value is an object where each key is a property-path and each value describes the change.
						The property-path is a list where <code>[]</code> indicates the object itself, <code>['a']</code> indicates
							<code>object.a</code>, etc.
						Each value has one of the following forms:
						<table class="definitionTable">							
							<tr><td>{type='set' 
									&nbsp;val=<span class=word>value</span>
									}
								</td>
								<td>This indicates that the property was set to a new value. 
								</td>
							</tr>
							<tr><td>{type='move' 
									&nbsp;from=<span class=word>originalIndex</span> 
									&nbsp;to=<span class=word>newIndex</span>
									&nbsp;val=<span class=word>value</span>
									}
									
								</td>
								<td>This indicates that an element in the list was moved from one starting index to another.
								</td>
							</tr>
							<tr><td>{type='add' 
									&nbsp;index=<span class=word>index</span>
									&nbsp;val=<span class=word>value</span>
									}
								</td>
								<td>This indicates that elements in the list were inserted at the given index.
								</td>
							</tr>
							<tr><td>{type='remove' 
									&nbsp;index=<span class=word>index</span>
									&nbsp;val=<span class=word>value</span>
									}
								</td>
								<td>This indicates that an element in the list was removed at the given index.
								</td>
							</tr>
						</table>     
			
						<p class=example>
							<code>
							var a = {x={r=3}}
							var b = {x={r=4}}
							
							dif[a b] ;; returns {['x','r']: {type='set' val=4}}
							</code>
						</p>
						
						Note that iterating through this object will return changes in such a way that if they're applied one at a time 
							to the old object, you'll get the new object (with respect to non-privileged members of course). 
					</td>
				</tr>
				
				<tr><td>exit</td>
				    <td>code</td>
					<td>A function that exits the program with the passed exit code.
					    This behavior can be overridden using the <code>exitFn</code> attribute.
					</td>
				</tr>
			</table>
		</div>
	   
		<div class=subBox1 title="Standard Custom Functions">
			<table class="definitionTable">

				<tr><td><span class=wout></span></td>
					<td>Function that writes some information (by default to stdout).
						<code>wout[x]</code> is short for <code>infoHandler[x]</code>.
						Can also print one argument without brackets, e.g. <code>wout "hello"</code>
					</td>
				</tr>
				
				
				<tr><td>				       				
						<span class=cond></span> <span class=word>testFunction</span>
						  <span class=condition>conditionParameters</span>:
							<span class=statements></span>
						  <span class=more>conditionParameters</span>
						  <span class=if_else></span>:
							<span class=statements></span>
							
						<span class=cond></span> <span class=more></span> [
							<span class=more></span>
						]
					</td>
					<td><p><span class=cond></span> is useful for making switch-statement-like constructs and more powerful templatized conditionals.
						</p>
						
						<p>Each set of <span class=condition>conditionParameters</span> are passed to the <span class=cond></span>'s <span class=word>testFunction</span>.
						   If the <span class=word>testFunction</span> returns true, the <span class=statements></span> are executed and the <span class=cond></span> is complete.
                           If not, the next set of <span class=condition>conditionParameters</span> are tested.
                           If there is an <span class=if_else></span>, the <span class=statements></span> under it are executed if none of the <span class=condition>conditionParameters</span> 
                              yield a <code>true</code> result from the <span class=word>testFunction</span>.
                              
						   <div class=example><code>
							cond fn[x: ret 50&lt;x.height[]]
							 personA:  wout["The first"]
							 personB:  wout["The second"]
							 else:     wout["Nobody"]
					           
							;; you can use else to attach fallback testFunctions
							cond fn[x: ret 50&lt;x]
							 34:  doSomething[]
							 12:  doSomethingElse[]
							 else: cond fn[x: ret x%10 > 5]
							  4:  doSomething[]
							 else: doSomethingElse[]
						    </code></div>
						</p>
						<p>	See also: "<i>Emulating switch statement fallthrough in Lima</i>" under <i>Concepts</i>.
						</p>
					</td>
				</tr>
				
				<tr><td>
						<span class=df></span> <span class=Rvalue>object</span> <span class=word>value</span> <span class=word>key</span> <span class=word>count</span> :
							<span class=statements></span>
						
						<span class=df></span> <span class=more></span> [
							<span class=more></span>
						]
					</td>
					<td><p>	Lima's main loop construct (stands for "do for"). 
							Iterates through each item <span class=Rvalue>object</span> returned by <span class=Rvalue>object</span>'s IterList method.
							<span class=word>value</span>, <span class=word>key</span>, and <span class=word>count</span> will be automatically declared as var variables.
							On each iteration, <span class=word>value</span> contains the value of the next member in <span class=Rvalue>object</span>,
								<span class=word>key</span> contains the key for that value, and 
								<span class=word>count</span> contains a count of the members that have already been looped over. 
						</p>
						<p> Note that when using the default object iterator, the loop gets a reference-copy of the object 
								(a list of references to the object's members - like a list-slice)
								that has references to the original object's members. 
							This means that removing, adding, or rearranging any elements in the original object 
								won't affect the progression or number of iterations of the loop. 
						</p>
						<p>	<span class=word>count</span> is optional, and <span class=word>key</span> is optional if there is no <span class=word>count</span>.
							<code>df</code> called with no parameters (<span class=Rvalue>object</span>, <span class=word>value</span>, <span class=word>key</span>, or <span class=word>count</span>)
								is an infinite loop.
						</p>
						<p>	<span class=df></span> doesn't create a new scope, so variables declared inside persist after the loop.
						</p>
						<p>	<table class="definitionTable">
								<tr><td><span class=break></span></td>
									<td><p>	Custom function that jumps straight out of the loop, skipping any lines of code in the current loop's block.
											If referenced from a pointer, <code>break</code> will jump to the break location for where it was referenced from:
											<div><code>
												df:	;; infinite loop
													var outerBreak = break~
													var n=0
													while true n+=1 :
														if n > 5: outerBreak  ;; when n is 6 it will jump to after the infinite loop
											</code></div>
										</p>
										<p>	<code>break</code> has one member:
											<table class="definitionTable">
												<tr><td>contin</td>
													<td>The continuation <code>break</code> will break to - ie the line right after the loop.
														Just like <code>break</code>, if referenced from a pointer, <code>continue</code> will jump to the continue location for where it was referenced from.
													</td>
												</tr>
											</table>
										</p>
									</td>
								</tr>
								<tr><td><span class=continue></span></td>
									<td><p>	Custom function that skips the rest of the loop and continues with the next iteration of the loop.
											
										</p>
										<p>	<code>continue</code> has one member:
											<table class="definitionTable">
												<tr><td>contin</td>
													<td>The continuation <code>continue</code> will continue at 
														- ie getting the next value, key, and count of the object 
														before executing the <code>statements</code> again from the top.
													</td>
												</tr>
											</table>
										</p>
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
												
				<tr><td>
						<span class=thread></span>:
							<span class=statements></span>
						
						
						
						<span class=thread></span> [
							<span class=statements></span>
						]
					</td>
					<td><p>	A thread. Runs the <span class=statements></span> asynchronously.
                            This is a similar concept to threads in a language like C or Java, or <code>setTimeout</code> in a language like Javascript.
                            
							Although a thread can't take parameters, it acts similar to a function in that it can <code>ret</code>urn a return-value 
								(accessible via the <code>wait</code>).
						</p>
						<div class=elaboration>	
							<code>thread</code>s are primarily used to indicate outputs that can be reordered.
							Normally, variable writes (including outputs) are treated as order-matters by default, 
								meaning that no reordering of variable writes can be done to optimize the program unless some of 
								those writes are in a different thread.
							If order doesn't matter, threads should be used to indicate that.
							
							<p>	Most of the time, threads should be very short, and executes some code that outputs something.
							</p>
							
							<div><code>
								wout['hi'@]         ;; always written first
								var data = getData[]
								thread: wout[data]  ;; might be written second or third
								wout['hello'@]      ;; also might be written second or third
							</code></div>
						</div>
						<p>	<span class=thread></span> creates a new scope. <span class="newScope"></span>
						</p>
						<p>	A thread returns a <code>future</code> object (with properties <code>wait</code> and <code>val</code>)
                                that is resolved when the thread completes.
                            The object has an additional pseudo-method:
				
							<table class="definitionTable">
								<tr><td>weak[boolean]</td>
									<td><p> Makes the thread weak, meaning it isn't counted in the number of running threads. 
											<code>boolean</code> defaults to false, but if true sets a thread to be non-weak 
											(adding it back to the thread count if it isn't counted already).
										</p>
									</td>
								</tr>
							</table>
							
							The returned future also has a destructor that, when run, instructs any exceptions thrown from 
								the thread to be passed to the <code>uncaughtExceptionHandler</code> only if <code>val</code> or 
								<code>wait</code> have not been called.
							This means that the <code>uncaughtExceptionHandler</code> will only be called for exceptions
								that have no chance of being thrown elsewhere. 
						</p>
						<p> The statements that run in a thread are all run atomically, meaning that conceptually, 
								once the thread starts running, nothing else is run concurrently.
							This allows programs to have much more deterministic robust behavior, 
								avoiding an infinity of race conditions that can occur in true concurrent code.
							As long as two threads don't have conflicting code (eg writes to share variables), the
								compiler may optimize the code to run truely concurrently.
							Note that the main thread is *not* run atomically, and so if a thread may modify a variable
								while it is in an inconsistent state in the main thread, an atomic block should be used 
								in the main thread.
						</p>
						
						<p>	<table class="definitionTable">
								<tr><td>thread.count</td>
									<td>The number of non-weak threads that are currently running.
										This number goes to 0 when the main thread is complete and the program should exit soon.
										This can be used to do things like exit a thread early 
											(like <code>setTimeout.unref</code> in node.js).
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
				
				<tr><td class='nearTop'>
                        change[<span class=word>testStatement</span><span class=optional>:<span class=word>oldValue</span></span> <span class=more>changeStatments</span>]:
							<span class=word>statements</span>
					</td>
					<td><p>	On-change event statement.
							The <span class=word>statements</span> are run when one of the given <span class=word>testStatement</span>s changes value. 
							For each <span class=word>testStatement</span>, <span class=word>oldValue</span> (and the preceding colon) is optional, 
                                but if declared, the name given for <span class=word>oldValue</span> can be 
                                used to access the previous value of the <span class=word>testStatement</span>.
						</p>
						
						<p> Returns an object with the following pseudo-methods 
                        
                            <ul><li><code>stop</code> - stops the listener (the event-handler won't 
                                        be run for subsequent changes to the <span class=word>testStatement</span>).
                                </li>
                            </ul>
						</p>
						
						<p> The event-handler is triggered synchronously on change of whatever variable caused the <span class=word>testStatement</span>
						      to change.
						    After any triggered event-handlers run, the code that triggered the change is continued from.
                            Any event-handler triggered simultaneously in a <code>change</code> event are executed in parallel <code>atomic</code> blocks.
						</p>
						
						<div class=elaboration>	
							<div><code>
                                var x = 5
                                change[x]:
                                    wout['x changed to 'x]
                                    
                                x = 6
                                ;; the event handler prints to the console before the following statement
                                wout['hi']
                                
                                ;; keep track of the change in value
                                var delta = 0
                                change[x<5:lastValue]:
                                    delta = lastValue - x
                                    
                                ;; maintain a = 2*b+c^2
                                var a = 2*b+c^2
                                change[c b]:
                                    a = 2*b+c^2
							</code></div>
						
                            <p> Note that you have full control over the number of times the statements are executed
								    because one event is handled fully before the next event can be handled.
							    Even though an event is fully handled before the next one is handled, 
								    all events are guaranteed to be caught, even if one happens while another one is being handled.
							</p>
						</div>
					</td>
				</tr>
				
				<tr><td>
						<span class=make></span>
						 <span class=parameters></span>:
							<span class=statements></span>
						&nbsp;<span class=more>parameters</span>
						 <span class=word>unmake</span>:
							<span class=statements></span>
						
						<span class=make></span>
						[<span class=parameters></span>:
							<span class=statements></span>
						&nbsp;<span class=more>parameters</span>						
						 <span class=word>unmake</span>:
							<span class=statements></span>
						]
					</td>	
					<td><p>	Object constructor. 
							Implicitly creates a copy of the <code>this</code>, runs the statements in make for that new object,
								and also returns it implicitly.
							<div class=example><code>
								var x = { 
									var[a b]
									make self.a x:
										b = 5*x										
								}
								x[1 2] ;; returns a copy of x that looks like {a=1 b=10 fn! make}
							</code></div>
							
							The method, however, may explictly return, in which case it returns that alternate object instead 
								(and the implicitly created object is discarded - or really [under the hood] is never created in the first place).
							<div class=example><code>
								var x = { 
									make a x:
										ret {a=a x=x}
								}
								x[1 2] ;; returns {a=1 b=2}
							</code></div>
						</p>
						<p>	<code>make</code> overrides the bracket operator for the object it is written, 
                                but any object created via the constructor retains whatever other bracket operator may be defined and does 
                                *not* have the constructor.
                            <div class=example><code>
								var x = { 
								    operator[ [ ] = fn val:
								        ret val+1
                                
								    make:
								    	ret {a=3 b=5}
								}
								
								var newX = x[1 2] ;; returns {a=3 b=5}
								newX[99]          ;; returns 100
								
							</code></div>
						</p>
						
						<p> The statements under the <code>unmake</code> section describe the destructor/finalizer.
						    This is code that run when one of the following happens:
							<ul><li>the is explicitly deleted (by setting the variable holding it to nil)
								</li>
								<li>the object goes out of scope and it has no strong-references pointed to it
									(note that closures may implicitly have strong-references to the object)
								</li>
							</ul>
						</p>						
						<p> The <code>unmake</code> of the object returned from <code>make</code> is guaranteed to be run (unlike in languages like python) 
								as long as the program isn't forcibly killed.
							Destructors are called top-down if possible, meaning that objects that no other non-destructed 
                                object is pointing to will be destructed one by one until none are left.
                            In the case of circular references, destructors are called in the order the objects were created.
                            To control the order of destruction, an object can explicitly be destructed by setting it to <code>nil</code>.
							An exception is thrown if the object is resurrected and any new strong-reference to the object is set to <code>nil</code>.
							After unmake runs, any weak-references will be pointing to <code>nil</code>.
						</p>						
						<p>	By default, if the environment compiled to supports garbage collection, 
                                the unmake block will be run some time after the object becomes inaccessible (and before the end of the program).
                            If you want to change that behavior, use an assert to specify tighter constraints, for example:
                            <div class=example><code>
								var x = {
								    make:
								    	this.connection = getConnection[]
								     unmake: 
                                        var t = unixtime.after:
                                         this.connection.close[]
                                        assert(meta[this].detachmentTime-t < 5) ;; the destructor must be called within 5 seconds of the object becomming inaccessible
								}
								
								var newX = x[1 2] ;; returns {a=3 b=5}
								newX[99]          ;; returns 100
								
							</code></div>                                
							
							Constraining the time the destructor is called can prevent some potential garbage collection optimization, but can 
                                guarantee more deterministic behavior.
						</p>
						
					</td>
				</tr>
				
				<tr><td>
						<span class=compare></span>
						[<span class=parameters></span>:
							<span class=statements></span>
						&nbsp;<span class=more>parameters</span>
						]
					</td>	
					<td><p>	Overloads operators ==, !=, <, >, <=, and >= all at the same time.
							The <span class=parameters></span> should only have one parameter (the parameter to compare the object to).
							Should return true if the value is greater than the object, and false otherwise. 
							It will infer everything else from this return value.
						</p>
						<p>	Note that this implicitly creates overloaded operators in the same scope as the object the <span class=compare></span> is defined in, 
								and Lima will complain if the <span class=compare></span> creates a overloaded operator whos parameters conflict with an existing operator.
						</p>
					</td>
				</tr>


				<tr><td><span class=const></span></td>
					<td><p>Makes a variable unchangable.
						   If the object has any ref variables, the objects they reference can be changed as normal,
						     but they can't be pointed to different objects.
						</p>
						<p> Note that <span class=const></span> variables are hoisted - they can be accessed before they are defined as soon as the value
							  the variable is set to resolves to the value it will be when it gets to that line.
						    Functions that use non-constant upvalues cause an exception to be thrown if they are called before all their
                                upvalues are declared.
						</p>
						<div class=example><code>
							main = fn:
								wout[f[]] ;; prints 19
								try:
									wout[x]
								 e: ;; an expcetion is thrown because x can't yet be resolved
									someHandling[e]

								y = 5
								wout[x] ;; prints 5

								const var x = y
								const fn! f = fn: ret 42
						</code></div>
					</td>
				</tr>
				<tr><td><span class=final></span></td>
					<td>Used on functions, causes the closure (the function) to immediately bind its upvalues
							(the variables outside that function's immediate inner scope),
							so that changes to the upvalues aren't visible to the function itself.
						This does something similar to what a do-statement does in coffeescript.
						Note that it is possible to finalize <span class=this></span> and variables accessed via <span class=self></span>.
						<div class=example><code>
							;; how a normal closure operates
							var a = 'hi'
							var f = fn:
								wout[a]
							a = 'no'
							f[]		;; prints 'no'

							;; how final changes things:
							var b = 'hi'
							var f2 = final fn:
								wout[b]
							b = 'no'
							f[]		;; prints 'hi'

							;; that last final function is equaivalent to this:
							var b = 'hi'
							const var constB = b	;; copy b to another variable
							var f2 = final fn:
								wout[constB]		;; use that copy instead
							b = 'no'				;; changing the original obviously doesn't affect the copy
							f[]		;; prints 'hi'
						</code></div>

						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>variableName <span class=more>variableNames</span></td>
								<td>Returns an attribute like basic <span class=final></span> that binds only the variables whos names are given in the parameter list.
									<div class=example><code>
										var[a=5 b=6]
										var f = final[a] fn:
											wout[a' and 'b]
										a = 10
										b = 11
										f[]		;; prints '5 and 11' because a is bound early, but b is left as a free variable
									</code></div>

									Note that since the bracket operator is defined for <span class=final></span>,
										brackets cannot be used to set this attribute over multiple statements (and so must be written individually).
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td class=nearTop>
					<span class=mix></span>[
						;; object-inheritance statement
						<span class=object></span> :[
							;; member statement
							<span class=word>memberName</span> : <span class=word>memberAlias</span>
							<span class=more>member statements</span>
						]
						
						;; object-inheritance statement
						<span class=object>object2</span> :[! 
							<span class=word>memberName</span>  : <span class=word>memberAlias</span>
							<span class=more>memberNames</span>
						]
						
						<span class=more>object-inheritance statements</span>
					]
					
					
					
					<span class=mix></span>:
						<span class=object></span> :
							<span class=word>memberName</span> : <span class=word>memberAlias</span>
							<span class=more>member statements</span>
						
						<span class=object>object2</span> :! 
							<span class=word>memberName</span>  : <span class=word>memberAlias</span>
							<span class=more>memberNames</span>
						
						<span class=more>object-inheritance statements</span>
					</td>	
					<td><p>	Makes the privileged members of a previously defined object (or <span class=module></span>) available for 
								use in the object (or <span class=module></span>) being defined.
							It has mixin-like semantics: the object gets a copy of the private and public 
								privileged functions and variables of each object passed in the parameters.  
							An object with multiple inheritance involving name collisions must explicitly 
								declare which object it will get its member from. 
							
							<ul><li><span class=object></span> should be a lima expression that returns an object to inherit from.</li>
								<li>Everything inside the normal colon section (<code><span class=object></span> :[ ]</code> or just <code>v:</code>), 
										including the colon-bracket, is optional.
									Indicates that only the listed members will be inherited from the <span class=object></span>.
								</li>
								<li>Everything inside the not-colon section (<code><span class=object></span> :[! ]</code> or just <code>v:!</code>), 
										including the not-colon-bracket, is optional.
									Indicates that all members of the <span class=object></span> will be inherited, 
										except for the ones listed without a memberAlias.
									Any member *with* a memberAlias will be included as that alias.
								</li>
								<li>For a given object-inheritance statement, there may be up to one colon-bracket operator 
										(either the normal colon-bracket, the non-colon-bracket operator, or neither).
								</li>
								<li><span class=word>memberName</span> is the name of the member to inherit 
										(or not inherit in the case of the not-colon-bracket operator).
									<span class='copiedNote useNamesAndAliases'>
										This can use the special <code>operator</code> construct (<code>operator</code>[<span class=word>op</span>])
											to indicate the symbols for an operator 
											(whether refering to the original symbol, or aliasing an operator with a different symbol).
									</span>
								</li>
								<li><span class=word>memberAlias</span> is a name in which the calling object will inherit
										the member given by <span class=word>memberName</span>.
									These are optional, defaulting to calling the member by its original name.
									With the colon-not operator, any members that are aliased are *included* with that alias (not excluded).
									<span class ='useNamesAndAliases'></span>
								</li>
								<li><span class=word>memberName</span> and <span class=word>memberAlias</span> can use dot syntax to describe 
										how sub-members should be inherited.
									<div class=example><code>
										mix:
											someObject:  a.x       ;; inherits someObject.a.x (but not any of a's other members)
										mix:
											someObject:! b.x       ;; inherits all of someObject, including b, except b.x
										mix:
											someObject:! c.x : c.theXX   ;; inherits all of someObject except c.x, including c,
											                             ;; and then aliases c.x as c.theXX
									</code></div>
								</li>
							</ul>
							
							Note that colon and colon-bracket syntax can be mixed and matched.
						</p>
						
						<p>	You can use the result of an expression for <code>memberAlias</code> in this custom function by
								prefixing the expression with the <code>@</code> sign.
						</p>
						<p>	
							<div class=example><code>							
							
							mix[
							   redrobin      ;; all members of redrobin are inherited                                                
							   
							   someObj2:[! drogon puff.p ]    ;; all members are inherited except drogon and puff.p
							   someObj3:[! dang yucky ]       ;; all members are inherited except dang and yucky
								
								someObj4:	                  ;; members inherited under aliases
									a : memberA
									b : @"memberB"			  ;; using the result of a string as the alias name
									d.x : f.z                 ;; aliasing a submember onto another member entirely (f)
									e.x : @"e.xx"          ;; string member names for submembers use dot syntax
								
								someObj5:! 
									operator[<]		     ;; inherits all members except the < operator
									garth : garthAgain	 ;; and someObj5.garth is inherited under the alias garthAgain
								
								someObj5: 
									operator[<] : operator[<<<]	;; inherits an operator as a different operator symbol
								
								;; inherit members of other modules
								load["/C/src/lib/aFile2.lima"]         ;; absolute path
								load["../lib/aFile.o"]	               ;; path relative to the current file
								load["../lib/aFile3.lima"]:[specialMethod fancyMethod]
							]
							</code></div>
							
							Aliasing and selective inheritance is used to make inheritance and
								<span class=module>module</span> inclusions completely unambiguous. 
						</p>
						
						<p>	Since <span class=module>modules</span> are themselves objects, 
								<span class=mix></span> (in conjunction with <code>lib</code>) is used like
								<code>#include</code> / <code>import</code> in C/Java respectively, <code>extends</code> in java, and 
								for linking to static libraries.
							<span class=mix></span> does not paste in files verbatim like C includes
								- only taking code that you need and does not use the rest (preventing program bloat).
							Also, because of this mechanism, modules that are used in multiple parts of the same program
								are independantly inherited.
						</p>
						<p>	For example, if both modules "A.lima" and "B.lima" use "C.lima", and module "main.lima" uses
								both "A.lima" and "b.lima", "A.lima" can modify the module variables of "C.lima" 
								as much as it wants, and "b.lima" won't see those changes - it will see the original values
								or values it has changed them to itself. 
							In addition, "main.lima" won't see any of the module variables of "C.lima" if it didn't use it.
							In this way, dependencies can be fully separated, and while you can use module variables similarly to 
								global variables, it doesn't pollute the namespace of other modules.
							Note that if the inherited object/module contains <code>ref</code> references,
								the values pointed to by those references can still be modified in a way that's visible across modules.
						</p>

						<p><span class=mix></span> nests.
							This means that if you <span class=mix></span> objectA in objectB, and <span class=mix></span> objectB in objectC,
								it will be available in objectC.
							When you want to allow objectB to use objectA's members without those members also ending up in objectC
								(for example when <code>mix</code>ing a module as a dependency),
								simply use <code>private</code>:

							<div class=example><code>
								private mix:
									load["dependency1.lima"]
							</code></div>
						</p>
					</td>
				</tr>

				<tr><td>include[<span class=word>packagePath</span> <span class=word>packagePath2</span> ...]</td>
					<td>A convenience function that allows dry module loading.
						Each <span class=word>packagePath</span> is a string containing the path to a module package to load.
						Each included module will automatically set a variable with the same name (<code>meta[object].name</code>)
							as the value passed in.
						The following are equivalent:
						<div><code>
							include['x' '../y/someModule']

							var[ x=load['x.lima'] someModule=load['../y/someModule.lima'] ]
						</code></div>
					</td>
				</tr>
			</table>
		</div>
	   
	</div>
		
	<div class="mainBox mainTitle" title="Concepts">
		<ol>		
			
			<li title="How to access elements from the end of a list">
				In some languages, you have special syntax for accessing items from the end of an array like this: <code>someList[-4]</code>.
				This would access the 4th to last element of the array.
				Lima doesn't have that syntax (since any value is already a valid key to use in an object), 
					but you can do the same thing in one of two ways:
				<div><code>
				{1 2 3 4 5}.sort[-v][3]	;; sort the list in revrse, then select the the 4th element (the 4th to last element of the original list - 2)
				
				x = {1 2 3 4 5}			;; ..
				x[x.len-4]				;; another way to access the 4th to last element
				</code></div>
				Because lima should optimize this, using sort should be just as good as using the length.
			</li>
			
			
			<li title="Default function parameters defined recursively">
				<code>
					fn functionName
					 int[a b]: 
					      ret a+b
					 int a: 
					      ret fn.this[a 1] ;;[ here, if the function is called with only one argument, 
					                            then b defaults to 1 ;;]
				</code>
			</li>
			
			<li title="How to access shadowed variable names using self.">
				<code>
					var x = 5      ;; x1
					var y = {      ;; y1
					  x= 10         ;; x2
					  y= fn a:      ;; y2 (naming the parameter x instead of a is illegal here)
					     var x1~>self.x~
					     var y = {   ;; y3
					     	x2~>self.x~
					        x=10      ;; x3
					        y=fn b:   ;; y4 (naming the parameter x instead of b is illegal here)
					           self.x ;; references x3
					           x1     ;; references x1
					    	   ;; trying to access 'x' here is illegal
					     }
					}
				</code>
			</li>			
			
			<li title="How to get all the unique values in a list">
				<code>x.group[v][0]</code>
			</li>
			
			<li title="How to strip whitespace (or other things)">
				<code>
					;; right stripping spaces and extended spaces
					var rstrip = fn aString:
						var str = aString
						df str v k: if v == ' ' $ v.name == 'extendedSpace': str.=rm[k] else: break
						ret str
					
					;; left strip
					var rstrip = fn aString:
						ret rstrip[aString.sort[-k]]	;; right strip the reversed string
				</code>
				
				This pattern can be used to strip any type of characters.
			</li>			
		
			
			<li title="How to emulate the do-while loop from C">
				To emulate a do-while, you can have an infinite loop that has a break condition at the end of it:
				<div><code>
				while 1: 	;; the 'do' of C's do-while
					wout "I'm finally in the loop!"@
					;; ....
					if someCondition: break		;; the 'while' of the do while
				</code></div>
			</li>
			
			<li title="How to reverse a list and how to do a descending sort">
				<code>
					var x = {1 2 3}
					x.sort[-k] ;; sort by the negative of the index (key)
					;; returns {3 2 1}
					
					var y = {1 5 2 5 93 0 -4}
					y.sort[-v] ;; sorts on the negative of the value
					;; returns {93 5 5 2 1 0 -4}
					
					y.sort[[ !(v&lt;v2) ]] ;; the complement of any expression in sort[[ ]] is a reverse sort
					;; also returns {93 5 5 2 1 0 -4}
				</code>
			</li>
			
			<li title="How to find a minimum or maximum">
				Because lima will optimize away most unneccessary processing, finding a minimum can use the first value returned from a sort.
				It might seem nice to have a <code>minimum</code> function, but what happens when you need to find the 4th lowest value in a list? 
				Or if you need all 4 lowest values? 
				Using sort gives a good generalized way of finding this type of thing: 
				<div><code>
					var x = {5 2 87 9 6 8 4}
					x.sort[v][0]	;; sort by value and get the first element - the minimum
					
					x.sort[v][3]	;; find the fourth lowest value
					
					x.sort[v][0..3]]	;; get the 4 lowest values
					
					x.sort[-v][0]	;; find the maximum
				</code></div>
			</li>

			<li title="How to create a static class member">
				Lima doesn't have a `static` keyword like C++ does, but it can still do the same thing.
				You just need to use a reference:
				<div><code>
					var class = {
					 	ref myStaticProperty ~> 0
						make:
							myStaticProperty += 1
					}


					var newInstance1 = class[]
					wout[class.myStaticProperty] ;; prints 1
					wout[newInstance1.myStaticProperty] ;; prints 1

					var newInstance2 = class[]
					wout[class.myStaticProperty] ;; prints 2
					wout[newInstance1.myStaticProperty] ;; prints 2
					wout[newInstance2.myStaticProperty] ;; prints 2

					class.myStaticProperty = 3
					wout[class.myStaticProperty] ;; prints 3
					wout[newInstance1.myStaticProperty] ;; prints 3
					wout[newInstance2.myStaticProperty] ;; prints 3

					newInstance1.myStaticProperty = 4
					wout[class.myStaticProperty] ;; prints 4
					wout[newInstance1.myStaticProperty] ;; prints 4
					wout[newInstance2.myStaticProperty] ;; prints 4
				</code></div>

				In the above case, its pointing to an immediate value, so changing it isn't a problem.
				But if you want to create a static variable initialized to a copy of a variable rather than referencing that variable,
					like static members in C++, just create a copy first:
				<div><code>
					var x = 5

					var class = {
						static: var internalX = x
					 	ref myStaticProperty ~> internalX
						make input:
							myStaticProperty += 11
					}

					var newInstance1 = class[]
					wout[class.myStaticProperty] 		;; prints 16
					wout[newInstance1.myStaticProperty] ;; prints 16
					wout[x] 							;; prints 5


				</code></div>

				Note that there's no equivalent of a static function varibale.
				This differs from many languages that allow static function variables.
				In Lima, you just need to use a variable in a higher scope.
			</li>
			
			<li title="How to re-key an array">
				If you select a slice of a list or something, the keys are preserved. 
				In such cases, you might want to rekey the array, so that all its members are elements.
				<code>
					"hello"[[k>2]]			;; returns the object {3:'l' 4:'o'}
					"hello"[[k>2]].sort[k]	;; returns the object {0:'l' 2:'o'}, or equivalently "lo"
				</code>
			</li>
			
			<li title="How to do something only between items? Is there a 'join'/'implode' method?">				
				You can emulate classical string join (implode in php) using the psuedo-method ins and the join method:
				<code>
					var L2 = {1 2 3 4 5}.ins[[', ']]	;; this returns the list {1 ', ' 2 ', ' 3 ', ' 4 ', ' 5}
					wout L2.join[a.cat[b]] 		;; this will print the list with commas
				</code>
			</li>
			
			<li title="Accessing object memebers shadowed by nested objects">
				The trick is to make a reference to the object itself
				<code>
				x = 
				{	mythis ~> this	;; mythis points to this
					myself ~> self	;; myself points to self
					a=5
					b=23
					c=89
					obj=
					{	a = 'hi'
						b = a	;; b gets the value 'hi'
						func = fn
						[	var b=34	;; errors, becuase b is already declared in the current object
							var c="nope";; errors, because c is already declared in a containing object 
						
							wout a		;; errors, because a is an ambiguous name
							wout self.a ;; prints "hi"
							wout self.b	;; prints "hi" again
							
							wout mythis.a 	;; prints 5
							wout c			;; prints 89
							wout mythis.c	;; also prints 89
							wout myself.c	;; prints 89 again
						]
					}
				}
				</code>
			</li>
			
			
			<li title="Translators in lima">	
				<p>In Lima, internationalization is done using the concept of translators.
					A translator is a function that takes one input - a value, to translate - 
						and returns a value in another language.
					The value would be in some standard format, say a string in english or an integer.
					The translator function itself could be as simple as a map that can only translate specific phrases
						(similar to localized property files in Java),
						or can be as complex as a full langauge translator able to translate arbitrary structures.
					
					<div class=example><code>
						dateTranslator.from['en'].to['en'].translate['monday']
						dateTranslator.from['en'].to['en'].translate['am']
					
						var spanishTranslator = translatorFactory.from['en'].to['es']
						spanishTranslator.translate['one'] ;; would return 'uno'
					
						var romanjiTranslator = translatorFactory.from['en'].to['ja' 'romanji']
						romanjiTranslator.translate['one'] ;; would return 'ichi'
						
						var smartTranslator = englishTranslatorFactory.context['businessMumboJumbo']
						smartTranslator.translate["Let's discuss that later"] ;; might return "Let's table that for now" or "Lets put a pin in that"
						smartTranslator.translate["What is your request?"]     ;; might return "Whats the ask?"
					</code></div>
				</p>
				<p> They don't have to neccessarily be just for words, 
						you could use them for time formats or other locale-specific formats for things.
					<div class=example><code>
						translator.translate[5] 		             ;; could return "five"
						translator.translate[{animal="dog" feet=4}]  ;; could return "perro tiene cuatro patas"
						
						currencyTranslator.lang['en' 'US'].translate[400345000.045]	;; would return "400,345,000.45"
						currencyTranslator.lang['en' 'CA'].translate[400345000.045]	;; would return "400,345,000.45"
						currencyTranslator.lang['no'].translate[400345000.045]	    ;; would return "4.294.967.295,000" 
						
						moneyTranslator.lang['en'].currency['eur'].translate[500.34]     ;; would return "�500.34"
						moneyTranslator.lang['lt'].currency['eur'].translate[500.34]     ;; would return "500,34 �"
					</code></div>
				</p>					
			</li>
			
			<li title="How to describe a hardware bus in Lima">
			</li>
			
			<li title="Accessing overridden methods">
				<code>
				x = 
				{	a = 5
					t = fn
					[	ret 'x'
					]
				}
				y = 
				{	private mix x![t] 		;; using all x's members except t
				
					t = fn 	  ;; override the old t
					[	ret privateOldt[].cat['y']
					]
					oldt = fn
					[	ret privateOldt[]
						;;[ of course we could have just inherited x's t member 
							as a public member and wouldn't have had to
							write this method ;;]
					]

					private mix x[t : privateOldt] ;; using x's t member aliased as private member oldt
				}
				
				y.t ;; returns 'xy'
				y.oldt[] ;; returns 'x'
				</code>						
			</li>
			
			<li title="Generics using <code>type</code> variables">
		      Lima doesn't quite have the same kind of generics that a language like Java has, 
                because values in Lima don't have a "type" (instead a  given type-set can either include a value or not). 
              However, you can still do most of the things you would want generics for using variables containing types:
			  <code>
				var Statistics = fn type T:
                    ret { 
                      list[T] percentiles ;; 0, 20, 40, 60, 80, 100
                      T mean
                      T median
                    }
                    
                var x = Statistics[int] ;; returns a statistics object where the type T is 'int'
			  </code>
			</li>
			
			<li title="Creating generators, custom iterators, and coroutine-like semantics in lima">
				<p> Generators and custom iterators aren't neccessary in lima, because optimizations like lazy list building (infinite or finite lists) 
						and futures/promises, take the burden off the programmer, and puts it on the compiler/interpreter. 
					Things done with coroutines should be done using normal list semantics (which makes code more consistent and allows the list results from these to be operated on by any function that operates on a list).
					Generators, custom iterators, and corountines can all be implemented either using function immediates, list semantics, or threads.
					
					For example, a custom iterator:
					<div><code>
						var threeTimes = fn f:
							df 1<span class=rangeOperator></span>3:
								f[]
						
						threeTimes[fn:
							wout 'cry'@
						]
					</code></div>
					
					or a generator:
					<div><code>
						createInfiniteList = fn:
							var theList = {}
							var next = 1;
							while 1:
								infiniteList.=ins[next]
								next++
							ret theList
						
						infiniteList = infiniteList[]
						wout[infiniteList[3]] 	;; prints 4
					</code></div>
					
				</p>
				<p> Lima doesn't need semantics like yield to impliment coroutines.
					In ECMAScript 4:
					<div><code>	
						function fringe (tree) {
							if (tree is like {left:*, right:*}) {
								for (let leaf.in fringe(tree.left))
									yield leaf
								for (let leaf.in fringe(tree.right))
									yield leaf
							} else {
								yield tree
							}
						}
						
						/&#173;/;; tree
						var tree = { left: { left: 37, right: 42 }, right: "foo" }
						
						for ( let x.in fringe(tree) ) {	/&#173;/;; Iterate over the tree
						  trace(x); /&#173;/;; 37, 42, "foo"
						}
					</code></div>
					<p>The same can be done much more simply in lima like this:<p>
					<div><code>
						fringe = fn	tree:	;; returns a (possibly lazily constructed) list 
							if like[tree {var[left right]}]:
								ret fringe[tree.left].cat[fringe[tree.right]]
							 else:
								ret {tree}
						
						var tree = {left = {left=37 right=42} right='foo'}
						df fringe[tree] : x :
							wout x
					</code></div>
			</li>
			<li title="Creating tuples using an array of types">
				<code>
					chooseset[int string fn!]	;; maybe this is wrong?
				</code>
			</li>
			
			<li title="Reversing a linked list in Lima">
				Tho there would probably be no reason to ever create a linked list in Lima,
					it's informative to show how one of the most common interview questions is done:
				<code>
					// head node of a linked list
					node = { 
					    ref? next 
					}
					
					reverse = fn node! head:
					  ref? previous ~> nil
					  while head !~> nil:
					     {head.next previous head} ~> {previous head head.next}
					  head = previous
					
					main: 
					  var head = {"A" next~>{"B" next~>{"C" next~>{"D"}}}}
					  reverse[head]	
				</code>
			</li>
	
									
			<li title="Creating C unions using class and set syntax">
				<code>
					aUnion = 
					{   chooseset[fra int string] value       ;; using a set of types as a tuple type
						acc f               ;; fra accessor
						[  ret ref[value]
						]
						acc i
						[	ret self.f      ;; int accessor
						]
						acc s
						[	ret self.f		;; string accessor
						]
					}
				</code>
			</li>
			
			
			<li title="Using don't cares in logic">
				You can use <code>arb</code> to implement don't cares in an if statment:
				<code>
					if: a==5 $ arb[{true false}]
						;; do something
				</code>
				
				This means that it will always <code>;; do something</code> if a equals 5, but if a does not equal 5, 
					then the compiler can choose whether or not to execute that code (if it somehow simplifies the logic of the program)
			</li>
			
			
			<li title="Using an object as a set">
			</li>
			
			<li title="Doing SQL-like selects from objects">
				In SQL:
				<div><code>
					select productid, sum(unitprice * quantity) as total
					from o in db.orders
					inner join rd in db.orderdetails
					on o.orderid == rd.orderid
					where o.zipcode == 94503
					group by rd.productid
				</code></div>

                <br>
				and in Lima:
				<div><code>
					db.orders.map[ {mix[ v db.orderdetails[[o: o.orderid == v.orderid]][0] ]} ] ;; join
						[[ v.zipcode == 94503 ]]											;; where
						.map[ {productId=v.productId  price=v.unitprice*v.quantity][0].rd 	;; 
						.group[v.productId].map[{ v[0].productId  v.join[a.price+b.price] }]
				</code></div>
			</li>
			<li title="Doing XQuery/XPath-like selects from objects">
				In XQuery:
				<div><code>
					for $b in $bs/book
					return
					 &lt;result>
					   {$b/title}
					   {$b/author}
					 &lt;/result>
				</code></div>
				
				And in Lima:
				<div><code>
					bs.book[[ v[{'title' 'author'}.has[k]] ]]			;; one way
					bs.book[[ {title=v.title  author=v.author} ]]	;; another way
				</code>
			</li>
			
			
			<li title="Function references used with dynamically created anonymous functions">
				<code>
				ref.fn theFunc
				anonFuncCreator = fn list[string string] characters:	;; takes in a mapping from character to character
					theFunc ~> fn string a:	;; create anonymous function
						var charactersCopy = characters
						ref.(list[string string]) map ~> charactersCopy
						
						if {a} < map.keys:	;; if map has the key a 						 
							ret map[a]
						 else:
							ret a	;; returns input character if there is no mapping
				</code>
			</li>
			
			
			
			<li title="Using functions like a wires in Verilog and other hardware description languages">
				In hardware design, a wire is what connects an input of a device to the output of another device. 
				In Lima, one can describe the same functionality as a wire using functions:
				<code>
				main = fn:
					int[ a=2 b=5 c=13]
					fn! aWire = fn[ ret c+b*a ]	;; acts like a wire
					wout aWire[]   ;; will print '23' (13+5*2)
					a+=4
					wout aWire[]   ;; will print '43' (13+5*6) 			
				</code>
			</li>
			
			<li title="Event handling in Lima">
				There are two ways to do event-driven-like programming:
                <ul><li>list iteration and slicing</li>
					<li>variable observation</li>
				</ul>
                
                <p>In traditional programming langauges, programming with events is done by setting up callback handlers that 
                are called when an event happens, for example in javascript:
				</p>
                <div><code>    
                emitter.on('someEvent', function(eventData) {
                   doSomethingWith(eventData)
                })
                
                ...
                
                emtter.emit('someEvent', {your:'data'})
                </code></div>
                
                <p> But in Lima, we can do this kind of thing with standard lists and the tslice function:
                    <code>
                    var events  = []
                    
                    ;; this event isn't printed because it happens before tslice was called
                    events.=cat['1'] 
                    
                    var stop = future
                    var relevantEvents = events.tslice[stop]
                    
                    events.=cat['2']
                    df relevantEvents event: ;; this loop prints '23'
                        wout[event]
                        
                    events.=cat['3']
                    stop.done
                    
                    ;; this event isn't printed because it happens after the 'stop' future is resolved
                    events.=cat['4']
                    </code>
                </p>
                
                <p> Another way to do event handling is by doing variable observation using the 'change' function:
                    <div><code>
                    var events  = []
                    
                    ;; this event isn't printed because it happens before the change handler is set up
                    events.=cat['1'] 
                    
                    var c = change[events:oldEvents]:
                        var d = dif[oldEvents events]
                        df d.elements.add event: ;; assume all changes are appends
                            wout[event]   ;; this loop prints '2'
                    
                    events.=cat['2']
                    
                    c.stop
                    
                    ;; this event isn't printed because it happens after the 'change' handler is stopped
                    events.=cat['3']
                    </code></div>
                </p>
    				
				</code>
			</li>				
				
			
			<li title="Circular Dependencies in Lima">					
				In Lima, circular dependencies can not only happen for module dependency loading, but can also happen because 
                    of dependencies between variables in the code. 
                For example:
				
                <div><code>
                 var x = 5
                 var a = {1 2 3}
                 var slice = v.tslice[process.end]
                 
                 df slice v:
                        if v == 4: 
                            x = 10
                            
                 if x > 6:      
                        a.=cat[4]
				</code></div>
				
				The above code can never finish because the if statement doesn't know the value of x.
				The loop is also waiting to see if <code>a</code> will have a 4 appended to it, 
				    which it might if x becomes more than 6 because of the loop.  
				This behavior should throw an exception if detected.
			</li>	
			
			<li title="Using 'change' to emulate 'posEdge' and 'negEdge' like in Verilog and other hardware description languages">					
				<code>
				change[a:oldValue]:  
					if oldValue == 0 && a==1: ;; reacts to a positive edge: 0 to 1
						;; do something
					 oldValue == 1 && a==0: ;; reacts to a negative edge: 1 to 0
						;; do something
				</code>
			</li>				
				
			<li title="How to check if an object 'has' a member">
				<code>
				var o = {1 3 9 12 15}
				var o2 = {var[x=90]}
				o.keys >= {2}	;; true (has the value 9 at index 2)
				o.keys >= {12}	;; false
				o2.keys >= 'x'	;; true since o2 has a defined member x
				</code>
			</li>		
			
			<li title="Testing for set relationships and value containment">					
				Testing set comparisons between two lists can be done in multiple ways. 
				For consistency, only one of those ways is preferred and the compiler will correct code that uses the un-preferred comparisons.
				
				<ol type="a">
					<li><h4>How to test if an item is contained in an object/list</h4>
						<ul><li><span style="color:red;">Preferred</span>: 
								<code>{theItem} < theList</code> asks "Is the object consisting only of theItem a subset of theList?"
								
								<div><code>
								var o = {1 3 9 12 15}
								var o2 = {'H'}
								{3} <= o ;; true
								{2} <= o ;; false
								{"H"} <= o2 ;; true
								{"H"} < o2 ;; false because {"H"} is not a proper subset of itself
								</code></div>
							</li>
							<li><code>theList[[{v}==theItem]].join[a$b]</code> asks "Does any member in theList equal theItem". 
							</li>
						</ul>
					</li>
					<li><h4>How to test if a list is an improper subset of another</h4>
						<ul><li><span style="color:red;">Preferred</span>: 
								<code>list1 <= list2</code> asks "Is list1 a subset of list2 or equals list2?".
							</li>
							<li><code>list1[[ list2[[v2:v == v2]].join[a$b] ]].join[a&b]</code>  asks "Does every member in list1 equal some item in list2?" 
							</li>
						</ul>
					</li>
					<li><h4>How to test if a list is a proper subset of another</h4>
						<ul><li><span style="color:red;">Preferred</span>: 
								<code>list1 < list2</code> asks "Is list1 a proper subset of list2".
							</li>
							<li><code>list1[[ list2[[v2: v==v2]].join[a$b] ]].join[a&b] & list2[[list1[[v1: v!=v1]].join[a$b] ]].join[a&b] == no</code> asks "Does every member in list1 equal some item in list2? And is there some item in list2 that doesn't equal any item in list1?" 
							</li>
							<li><code>list1[[ list2[[v2: v==v2]].join[a$b] ]].join[a&b] & list1!<>list2</code> asks "Does every member in list1 equal some item in list2? And does list1 not contain all the members that list2 contains?"
							</li>
						</ul>
					</li>
				</ol>						
			</li>
			
			<li title="Cutting values from an object/list or file">					
				<ul><li><span style="color:red;">Preferred</span>: 
						<p> <code>
						        var conditions = fn k: (200<span class=rangeOperator></span>285).has[k]
                                var charactersToCut = aList[[conditions[k]]]
                                aList.rm[[conditions[k]]]
                            </code>
						</p>
						<p>	After this code is run, <code>aList</code>'s <span class=element>elements</span> with keys larger than 285 are shifted "left" 
								so that an <span class=element></span> originally having the key 286 will now have the key 200, etc.
							This method works on members that are not <span class=element>elements</span>, but no shifting happens.
						</p>
					</li>
					<li><div><code>
						var charactersToCut = aList[[(200<span class=rangeOperator></span>285).has[k]]]
						aList = aList[ !({k} < charactersToCut.keys) ].sort[k]	;; get the list without the cut characters and rekey them (via sort)
						</code></div>
					</li>
					<li><div><code>
						var charactersToCut = aList[[(200<span class=rangeOperator></span>285).has[k]]]
						df charactersToCut v k: aList[k] = nil	;; delete all the members that were cut
						</code></div>
					</li>
				</ul>
			</li>
			
			<li title="Where is text-mode for opening files?">					
				Files are always opened as binary in Lima.
				Text-mode, in a language like C, encodes newlines in a platform specific on certain platforms.
				In reality, this is just another encoding, and Lima treats it that way.
				If you need to handle operating-system specific newlines, you should open a file with the appropriate 
					decoder that handles those OS-specific newlines (e.g. <code>dosText</code>).
			</li> 
			
			<li title="Difference between <code>list[[ list2[[v2:v==v2]].join[a$b] ]].join[a&b]</code> and <code>list2[[ list[[v1: v==v1]].join[a&b] ]].join[a$b]</code>">					
				The first means "Does every member in list equal some member of list2?", 
					while the second means "Does any member in list2 equal every member of list2?". 
				Example, 
				<code>
				{1 2 3}[[ {4 5 6}[[v2: v == v2]][<b>$</b>] ]][<u>&</u>] ;; is the same as:
				{4 5 6}[[v2: 1 == v2]][<b>$</b>] <u>&</u> {4 5 6}[[v2: 2 == v2]][<b>$</b>] <u>&</u> {4 5 6}[[v2: 3 == v2]][<b>$</b>] ;; which is the same as:
				(1==4 <b>$</b> 1==5 <b>$</b> 1==6) <u>&</u> (2==4 <b>$</b> 2==5 <b>$</b> 2==6) <u>&</u> (3==4 <b>$</b> 3==5 <b>$</b> 3==6)
				;;while
				
				{4 5 6}[[ {1 2 3}[[v2: v == v2]][<u>&</u>] ]][<b>$</b>] ;; is the same as:
				{1 2 3}[[v2: 1 == v2]][<u>&</u>] <b>$</b> {1 2 3}[[v2: 2 == v2]][<u>&</u>] <b>$</b> {1 2 3}[[v2: 3 == v2]][<u>&</u>] ;; which is the same as:
				(4==1 <u>&</u> 4==2 <u>&</u> 4==3) <b>$</b> (5==1 <u>&</u> 5==2 <u>&</u> 5==3) <b>$</b> (6==1 <u>&</u> 6==2 <u>&</u> 6==3)
				</code>
			</li>	

			<li title="Creating a singleton with a reference">
			
			</li>	
			<li title="Counting items in a list">
				<code>list[[v==value]].len</code> counts the number of members that equal <code>value</code>
			</li>	
			<li title="Finding the index of an item">
				<code>list[[v==value]].keys[0]</code> finds the index of the first member of the list that equals <code>value</code>
			</li>	
			<li title="How to floor and ceiling a number">
				<code>
				var x = 5.23456
				var floor = x//1		;; exactly like floor
				var ceiling = x//1+1	;; exactly like ceiling
				</code>
			</li>	
			<li title="List comprehension using conditional array accessing">
				The Haskal list comprehension syntax:
				<div><code>s = [ 2*x | x <- [0<span class=rangeOperator></span>100], x^2 > 3 ]</code></div>
				and the equivalent python list comprehension syntax:
				<div><code>s = [2*x for x.in range(100) if x**2 > 3]</code></div>
				can be done in Lima by doing:
				<div><code>s = (0..100)[0 100][v^2 > 3][[v*2]]</code></div>
			</li>		
			<li title="Doing <code>filter</code> using the list[  ] syntax">
				The filter function in python and other languages creates a new list of items from the items in a list that cause some function to return true. 
				For example, "filter(list, GT4)" might return a list of elements that are greater than 4. 
				In lima this can be done like this: <code>list[[v>4]]</code>
			</li>
			
				
			<li title="How to select a column from a row-first matrix (or a row from a column-first matrix)">
				To select a list of second-dimension items from a multi-dimensional list, you'd use the map method. E.g.:					
				<div><code>
					var rowFirstMatrix = {
						{1 2 3}
						{4 5 6}
						{7 8 9}	
					}
					
					rowFirstMatrix[2]	;; selects the second row: {4 5 6}
					
					rowFirstMatrix.map[v[2]] ;; selects the second column: {2 5 8}
				</code></div>
			</li>
			
			<li title="Where are my enums?">
				Lima doesn't have an enum construct, but you can still do enums using a pattern some lazy programers already use: returning strings.
				In most languages, the IDE and compiler don't have any insight into the values a function can return, but in Lima they do.
				Using simple strings as enums gives the benefits of not having to explicitly enumerate all possible values 
					(duplicating the values you would already be using).
				<div><code>
					var colors = fn int x:
						if x == ?0::
						 1:	ret 'blue'
						 2: ret 'green'
						 3: ret 'purple'
					
					var color = colors[1];
					if 
					 color == 'green':	
						wout['GREEN!']
					 color == 'purpel':		
						wout['PURPLE!']	;; IDE/compiler/interpreter should tell you this code path can never happen because the function will never return that misspelling 'purpel'
						
				</code></div>
			</li>
			
				
			<li title="When to declare uninitialized">
				Lima will attempt to find any variables that are un-initialized upon first read access. 
				When a variable has a particular spot in your program that it is set, it is best to let it be set there, rather than setting it in both there and at the declaration. 
				The reason for this is that you can find problems earlier if you don't build redundancies into your program. 
				A redundancy can make your program work the first iteration of a process, but then it will fail the second time (or later) - which is a much more mysterious problem to debug.
			</li>	
			<li title="Inheritance in Lima">	
				<p>	Lima doesn't have traditional inheritance.
					Lima instead takes the approach of languages like lua, lisp, and Ruby in providing "mixins" or "traits" rather than parent-child inheritance. 
					Lima's form of inheritance is what's formally referred to as 'traits' (tho unlike tranditional traits, 
						objects can inherit state) and are similar to mixins.
					Members from one object can be <code>mix</code>ed into another,
						but there is no sub-class/super-class relationship, and no "is-a".
				</p>	
				<p>	Any conflicting members must be explicitly disambiguated (by renaming one or both members, or excluding one or both members).
					A consequence of this is that there is no automatic solution to the <a href="http://en.wikipedia.org/wiki/Diamond_problem">diamond problem</a>, and solving any diamond problem is left to the programmer 
						(tho the compiler or interpreter will not fail silently but will force a solution to be made).
					Lima opts to not have inheritance for the same reason Go opts not to (http://golang.org/doc/go_faq.html#inheritance),
						inheritance is too complicated and can cause insidious bugs. 
					However, Lima's trait-like system gives the programmer the flexibility of multiple inheritance, with the safety of single.
				</p>	
			</li>
			
			<li title="atexit - a function that runs when the program exits">
				Lima doesn't offer an atexit function. 
				This is because atexit functions are prone to cause scattered code. 
				Instead, if you want to do something like this, create a function that does exit code. 
				Whenever you need to For example:
				<div><code>
				fn exitFunc
				[   5+4
					doSomeFunction[ ]
					obj.save[ ]
					;; etc
					exit
				]
				</code></div>
				
				Also, object desctructors could cover the use cases you would use atexit for.
				Or possibly you could use a try-finally block for this as well.
			</li>	
			<li title="Does Lima do proper tail calls?">
				Lima was built with the intention of being fully automatically opimized, 
					and therefore doesn't have any specification of concepts like tail-calls that affect the speed of a program, but not the output.
				In short, any reasonable Lima implementation should implement proper tail calls, but it isn't part of the language.
			</li>			
				
			<li title="How do to short-circuit evaluation?">
				<p>	Lima doesn't do short circuit evaluation by default 
						(tho it may optimize certain boolean operations such that they do short-circuit evaluation under the hood).
					So how do you do it when you want it?
					<div><code>
						;;In java, you might want to do things like this every once in a while:
						if(	y != 0 && 5/y > 1 
							|| x.equals("yes") && testFunctionWithSideEffects()
							|| z != null && z.isTrue
							|| w != null && w.method()
						) {
							doSomething();	
						}
						
						;; In lima:
						if 	if[y!=0: 5/y>1 else: false]		;; use if's return value
							$ if[x=='yes': testFunctionWithSideEffects[] else: false]
							$ z?.isTrue[] == true			;; use the safe-navigation operator
							$ z?.method?[] == true			;; have to check if its true because it could be nil
					</code></div>
				</p>
			</li>
			
			<li title="String interpolation is evil">
				String interpolation is really just another way to concatenate variables with strings
				On the surface, string interpolation seems like a nice feature that makes strings more concise.
				The downsides, however, far outweigh that small benefit. 
				I'm lumping using special characters (like "/n" and "/t" etc) under the umbrella of string interpolation.
				
				<ul><li><p>	Increase cognitive load. 
							Really interpolation is its own little mini language that does the exact same thing as the main language.
							Just using concatenation doesn't require extra knowlege.
							Writing <code>cat["x is "x", f(x) is "f[x]]</code> in perl is <code>"x is $x, f(x) is @{[&f(x)]}"</code> - yuck.
						</p>
						<p>	And it is not only one-time knowlege, it requires constant vigilence.
							If you want to type literal strings, you need to make sure you escape anything used as special 
								characters or interpreted in any way other than literally.
						</p>
					</li>
					<li>Its not that much shorter than lima:
						<div><code>
							;; ruby
							"the meaning of life is #{11+31}!"
							"#{a} and #{b} and #{c} and #{d}"
					
							;; lima
							"the meaning of life is ",(11+31),"!"
							cat["the meaning of life is "11+31"!"]
							cat[a" and "b" and "c" and "d] ;; oops this is actually shorter in lima!
							
							;; perl - perl's a little shorter tho
							"$a and $b and $c and $d"
							
						</code></div>
					</li>
					<li>Complicates escaping in pasted text and generated code. 
						Lima's strings can contain any pasted text as long as quotes are escaped.
						Contrast that with ruby where not only do you have to escape any instance of "${" and "\"
							as well.
					</li>
					<li>Many implementations of string interpolation are templates that are then filled in by values.
						An example of this is printr in C.
						The problem with this implementation is it visually separates the variables from the string, 
							making it harder to read.
						Some may argue this separates presentation from data, but thats not correct. 
						It only separates related code, which isn't good.
						
						<div><code>
							;; for example
							templateA = fn int[a b]:
								ret ''.cat[a" and "b]
							
							;; the following is much harder to read
							templateB = fn int[a b]:
								ret "%s and %s".interpolate[a b] ;; hypothetical interpolation
						</code></div>
					</li>
				</ul>
				
				Embedding code in strings solves a non-existant problem.
				If you want to embed expressions inside strings, ask yourself, why you aren't using variables?
			</li>
			
		
			<li title="Observing objects and the observer pattern">
				Lima's <code>change</code> and <code>dif</code> functions allows you to easily observe objects in an event-driven way
				
				<div><code>
				    var x = 3
				    change[x]:
                        wout['x changed to:'x]
                        
                    x = 4 ;; 'x changed to : 4' is printed
                    
                    var y = {1 2 3}
                    change[y:oldy]:
                        var d = dif[oldy y]
                        if d.set != nil:
                            wout['y was set to a different object']
                        df d.elements v:
                            if v.type == 'add':
                                wout['y got a new element: 'v.val]
                             v.type === 'move':
                                wout['y got shuffled around']
                             v.type === 'remove':
                                wout['y lost an element to the war :(']
				</code></div>
			</li>
			
			<li title="How to force a statement's inputs to be lazily evaluated?">
				<p>	The attributes <span class=future></span> and <span class=ready></span> allow a programmer to specify how 
						external output may be grabbed before it's used. 
					But for statements without this attributes, the optimizer can choose whether to grab a file lazily or not
						(it might not if it thinks starting loading some output will lower latency later) and
						there is no attribute to specify explicitly lazy data grabbing.
					So while often things are lazily loaded by default, if you want to ensure something is lazily loaded,
						you should include optimizers (or write your own) that make that determination.
				</p>
			</li>
			
			<li title="Using a custom function to modify code">
				<p>	A useful use of custom functionality is to modify normal syntax to mean something not-so-normal.
					For example, a custom function could be defined such that this:
					<div><code>
						atomicAssignment [
							a = getFromServer['a']
							b = getFromServer['b']
							c = getFromServer['c']
							d = getFromServer['d']
							e = getFromServer['e']
						]
					</code></div>
					
					is transformed into:
					
					<div><code>
						var temp_a = getFromServer['a']
						var temp_b = getFromServer['b']
						var temp_c = getFromServer['c']
						var temp_d = getFromServer['d']
						var temp_e = getFromServer['e']
						
						atomic [
							a = temp_a
							b = temp_b
							c = temp_c
							d = temp_d
							e = temp_e
						]
					</code></div>
					
					This would have the benefit of being much easier to write, while also allowing all those variables to be swiched at exactly the same time.
					This could be useful, for example, for programming a caching mechanism that refreshes periodically.
						
				</p>
				
			</li>
			
			<li title="C pointers vs Lima pointers">
				The placement of the * and & symbols in C are not very intuitive, 
					and force the reader to mentally parse a group of very similar looking syntax into very different semantics
					(values vs addresses). 
				Lima's pointer syntax aims to reduce this cognitive load.
				As an (imperfect) quantatitive measure, we can count the number of "weird" symbols in this set of statements:
				<div><code>	
					;;   C         	Lima
					int a=5			int a = 5
					int *p, *p2    	ref.int[p p2]
					int** p3, **p4 	ref.ref.int[p3 p4]
					p = &a 			p ~> a
					p2 = p			p2 ~> p
					p3 = &p			p3 ~> p~
					*p = a			p = a
					*p = *p2		p = p2
					*p = **p3		p = p3
					p = *p3			p ~> p3
					a = **p3		a = p3
					p4 = p3			p4~ = p3~
					*p4 = *p3		p4 ~> p3~~
					**p4 = **p3		p4 = p3
				</code></div>
				
				C has a count of 22 "weird" symbols (consisting of the structures: '*' and '&'),
					whereas Lima has a count of 13 weird symbols (consisting of the structures: 'ref', '~', and '~>').
				This significantly lower number indicates that the reader doesn't have to do as much mental work to understand 
					the statements.
				Lima's reference syntax is easier than C's when pointers are being pointed to normal values 
					or are being used as the values they reference, but is harder when pointers are being pointed at other
					pointers, especially for higher level pointers (a pointer to a pointer to a pointer... etc).
				The argument here is that pointers are more often pointed at normal values and being used as those normal values,
					than being pointed at eachother.
				And higher level pointers are very rare.
			</li>
			
			<li title="Creating a sparse matrix">
				<p>	<code>
					var sparseMatrix = {
						private var internal = {}
						
						access 
						 get else index:
							ret interal[index] | 0
						 set else index value:
							internal[index] = value 						
					}
					</code>
				</p>
				
			</li>
			
			<li title="How do you control aspect ratio?">
				Warp the objects in your scene if you want to change the aspect ratio of the whole scene.
			</li>
			
			
			<li title="Emulating switch statement fallthrough in Lima">
				<p>	In languages like C, a switch statement allows what's known as "fallthrough" where the statements under a 'case' continue onto 
						the statements in the next 'case' unless you 'break' out of that case. 
					Here's an example in C:
					<div><code>
					switch( someValue ) {
					 case 1: printf("One");
					 		 break;
					 //....
					   
					 case 20: printf("Twenty");
					 
					 case 21:
					 case 22:
					 case 23: printf("Twenty-three");	
					}
					</code></div>
					
					If <code>someValue</code> is 1, "One" will be printed, since it <code>break</code>s out of that case. 
					If <code>someValue</code> is 23, "Twenty-three" will be printed, because there are no cases after it. 
					If <code>someValue</code> is 21 or 22, "Twenty-three" will still be printed, because they simply fall through to case 23's statments.
					If <code>someValue</code> is 20, "TwentyTwenty-three" will be printed, because case 20 has its own statement 
						but still continues on to the statements in the next case (cases 21, 22, and 23).
					That last sequence of events for case 20 is generally considered pretty evil, because it's hard to read and it's easy to make mistakes that way.
				</p>
				<p>	Lima doesn't have fallthrough, but there are a couple ways to write the same behavior in more readible ways.
					This Lima code does the same thing as the C code above, use the <span class=cond></span> statement:
					
					<div><code>
					cond fn[x: ret someValue==x]
					  1:	wout['One']
					 
					  ;;....
					 
					  else: cond fn[x: ret x.has[someValue]]
					   {20 21 22 23}: 
                        if someValue == 20: wout['Twenty']	;; only print 'Twenty' if the value is 20
						wout['Twenty-three']				;; print 'Twenty-three' for all four values			
					</code></div>
				</p>
			</li>
			
			<li title="How to use 'future', 'ready', and 'thread'">
			
				Here are four very similar examples that show how using threads and the attributes 
					<span class=future></span> and <span class=ready></span> affect program flow.
				
				<div><code>
					;; the order of grabbing those files is potentially asynchronous (order doesn't matter), 
						;; so they can all potentially be grabbed at once	
					;; however output is assumed to be sequential (order matters) so this will always output 
						;; the length of A.txt first, B.pdf second, and C.html third
					;; example output if 
						;; A.txt is 100kb and takes 1 second to download, 
						;; B.pdf is 10 bytes and takes 1 ms to download, 
						;; C.html is 1000 bytes and  10 milliseconds to download, and
						;; we're ignoring the trivial amount of time the rest of the code takes:
					;;[	
						A.txt: 100000 - at 1 seconds
						B.pdf: 10 - at 1 seconds
						C.html: 1000 - at 1 seconds
					;;]
					
					getLength = fn host file:
						tcp.connect[adr[host 80] 'httpText["utf-8"]'].send['GET 'file' HTTP/1.0'@ @].len	
						
					main:
						fra startTime = time[]	;; time in seconds
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							wout[file': 'length' - at: 'time[]-startTime' seconds'@]
				</code></div>
				<br><br><br>
				<div><code>				
					;; input is asynchronous here again, the default		
					;; since output is also asynchronous between threads (obviously), its sequential per thread, 
						;;  the lengths will be printed as those files come in
					;; As far as speed, this program won't complete any faster than the previous example, but the first file printed may happen faster
						;; since A.txt might not be the first file to download, a file that took less time to download will be printed first
					;; example output with same conditions:
					;;[	
						B.pdf: 10 - at 0.001 seconds
						C.html: 1000 - at 0.010 seconds
						A.txt: 100000 - at 1 seconds
					;;]	
					getLength = fn host file:
						tcp.connect[adr[host 80] 'httpText["utf-8"]'].send['GET 'file' HTTP/1.0'@ @].len
						
					main:
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							thread: wout[file': 'length' - at: 'time[]-startTime' seconds'@]
				</code></div>
				<br><br><br>
				<div><code>	
					;; input now waits on the last input to complete, meaning that those files are pulled in synchronous order
					;; even tho output is running in separate threads, the output is forced to be sequential (A.txt first, B.pdf second, and C.html third)
					;; This way will definitely be slower since the files can't download in parallel
					;; example output with same conditions:
					;;[	
						A.txt: 100000 - at 1.011 seconds
						B.pdf: 10 - at 1.011 seconds
						C.html: 1000 - at 1.011 seconds	
					;;]				
					getLength = fn host file:
						tcp.connect[adr[host 80] 'httpText["utf-8"]'].send['GET 'file' HTTP/1.0'@ @].len
						
					main:
						var lengths = {}
						var nextFuture = future[nil] ;; an immediately resolved future
						df {"A.txt" "B.pdf" "C.html"} file:
							nextFuture.wait:
                                nextFuture = future lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							thread: wout[file': 'length@]
				</code></div>
				<br><br><br>	
				<div><code>	
					;; the input is now marked 'ready' and so is ready whenever the system wants to get it - at best (and in this case) 
						;; that means compile-time
					;; the output is still asynchronous, but it wouldn't matter if it wasn't - the running time and output would be the same
					;; This way is the fastest since you don't have to do as much work at runtime (in this case its pretty much instant)
						;; The output may still be sequential (as shown), but that isn't required
					;; example output with same conditions:
					;;[	
						A.txt: 100000 - at 0 seconds
						B.pdf: 10 - at 0 seconds
						C.html: 1000 - at 0 seconds	
					;;]	
					getLength = fn host file:
						tcp.connect[adr[host 80] 'httpText["utf-8"]'].send['GET 'file' HTTP/1.0'@ @].len
						
					main:
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							ready lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							thread: wout[file': 'length@]
				</code></div>
				
			</li>
			
			
			
			<li title="Why Lima doesn't need devDependencies and optionalDependencies">
			    <p> In node.js, npm's package.json has devDependencies and optionalDependencies. 
			        In lime (lima's package manger), devDependencies aren't needed because those can simply be put in the "ignore" list
                        so as to not be published at all.   
                    They can be accessed via the package's development repository if wanted.
                </p>
                <p> Optional dependencies aren't needed because Lima installs dependencies on run of a program that wants to load it, 
                        rather than having a separate install command needed.
                    If a dependency fails to be loaded, the lima program trying to load it will see an exception and can deal with it appropriately if it wants to.
                </p>
			</li>
			
			<li title="Why doesn't Lima have an 'exit' function?">
			    <p> Lima doesn't have any functions that exit the program because program exit should always be 
                        under the full control of the top-level module. 
                    Dependencies of a module shouldn't be allowed to hijack the program by killing it without going through
                        proper error handling channels first.
                </p>
			</li>
			
			<li title="Covariance and Contravariance">
			    <p> Languages like Java disallow certain types of equivalencies with generics.
			        For example, 			        
			        <code>
			            List&lt;Number> a = [];
                        List&lt;Integer> b = a;  // fails because a Number might not always be an Integer
			        </code>
                </p>
			    <p> In Lima, this isn't a problem. 
                    An exception would be thrown only if an incorrect value actually gets set on the list:
			        <code>
			            list[real] w = {1 2 3}
			            list[int] x = w        ;; this is totally fine
			            
                        list[real] y = {1.2 3.4}
			            list[int] z = y        ;; this throws an exception because y does not only contain ints
			        </code>
                </p>
			</li>
			
			
			
		Think about the "variance" concept (described here http://haxe.org/manual/variance ) where 
			
			
			<li title="Demonstrating the power of lima's map, group, and slice operators">
				<p>	Tho some of these things would be better to be done in more than one line, 
						this demonstrates how Lima uses some basic constructs to describle an infinity of possibilities.
					Going through the equivalents for <a href="http://php.net/manual/en/ref.array.php">PHP's associative array functions</a>:
				</p>
				<div><code>
					;; array_change_key_case(input, CASE_UPPER)
					input.map[k.upper v]
					
					;; array_chunk(input, size)
					input.group[k/&#173;/size]	;; keys preserve, so if you don't want that then do input.group[k/&#173;/size].map[v.sort[k2:k2]]
					
					;; array_combine(keys, values)
					keys[[ values[c] v]]	;; values must be a list of elements
					
					;; array_count_values(input)
					input.group[v].map[v[0] v.len]
					
					;; array_diff_assoc(array1, array2, ....)
					array1[[ !({k:v} <<= array2 $ {k:v} <<= array3 $ ....) ]]
					
					;; array_diff_key(array1, array2, array3)
					array1[[ ! ((array2.keys & array3.keys).has[k]) ]]
					
					;; array_diff_uassoc(array1, array2, keyCompareFunc)
					array1[[ !(array2{[v2 k2: keyCompareFunc[k v k2 v2]]}.join[a$b]) ]] 	
					
					;; array_diff_ukey(array1, array2, keyCompareFunc)
					array1[[ !(array2{[v2 k2: keyCompareFunc[k k2]]}.join[a$b]) ]] 	
					
					;; array_diff(array1, array2)
					array1[[ !array2.has[v] ]]
					
					;; array_fill_keys(keys, value)
					keys[[k: value k]]
					
					;; array_fill(5, 10, value)
					(5<span class=rangeOperator></span>14){[v:value]}
					
					;; array_filter(input, callback)
					input[[ callback[v] ]]
					
					;; array_flip(trans)
					trans[[v k]]
					
					;; array_intersect_assoc(array1, array2, ....)
					array1[[{k:v} << array2.cat[....]]]
					
					;; array_intersect_key(array1, array2, ....)
					 array1[[array2.cat[....].keys.has[k]]]
					
					;; array_intersect_uassoc(array1, array2, ...., compareFunc)
					array1[[ array2.cat[....].map[] ]]
					
					;; array_intersect_ukey($array1, $array2, ...., $compareFunc)
					array1[[ {k:v} << array2 $ {k:v} << array3 $ .... ]]
					
					;; array_intersect($array1, $array2, $array3, ....)
					array1[[ (array2 & array3 & .....).has[v] ]]
					
					;; array_key_exists($key, $array)
					array[key] != nil
					;; or
					array.keys.has[key]
					
					;; array_keys($array, $value, true)
					array[[v==value]].keys
					
					;; array_map($callback, $array)
					array[[ callback[v] ]]
					
					;; array_merge_recursive($array1, $array2, ....)	
					;; There is no simple equivalent to this difficult-to-understand php function - and there shouldn't be.
					
					;; array_merge($array1, $array2, ....)
					;; Like array_merge_recursive, this method doens't make any damn sense, but here it is:
					fn[x arrs...:	
						var result = x
						df arrs arr:
							df arr v k:
								if IsValidIndex[k]:
									result.=ins[v]
								 else:
									if result[k] == nil: 
										result[k] = v
									 else:
										result[k] = {k: {result[k] v}
																		
						IsValidIndex = fn x:
							ret x.in 0..00
					][array1 array2 ....]
					
					
					;; array_multisort($array1, $array2) // heres another poorly designed php function
					array1.sort[]
					array2.sort[] ;; why do you need to sort them in one function? Cause you're function names are so verbose?
					
					;; array_pad($input, $padSize, $padValue)
					df 0..padSize v: 
						if input[v] == nil: input[v]=padValue	;; that wasn't so hard was it?
						
					;; array_pop($array)
					var result = array[array.len-1]
                    array.rm[array.len-1]
                    result
					
					;; array_product($array)
					array.join[a*b]
					
					;; array_push($array, $val1, $val2, ....)
					array.=cat[ {val1 val2 ....}]
					
					;;array_rand($input)
					input[rand]
					
					;; array_rand($input, $num)
					0..num[[ input[rand] ]]
					
					;; array_reduce($array, $function, $initial) 
					array.join[initial function[a b]]
					
					;; array_replace_recursive($array, $array1, ....)
					fn[x arrs...:	
						var result = x	;; create copy
						df arrs arr:
							df arr v k:
								if IsList[result[k]] & IsList[v]: ;; if both valures are lists
									result[k] = fn.this[result[k] v]
								 else:
									result[k] = v
									
						var IsList = fn x:
							ret x?.IterList != nil
					][array array1 ....]
					
					;; array_replace($array, $array1, ....)
					fn[x arrs...:	
						var result = x
						df arrs arr:
							df arr v k:
								result[k] = v
					][array array1 ....]
					
					;; array_reverse($array)			;; don't preserve keys
					array.keys.sort[-k]	;; reverse keys
					array.sort[k]		;; then rekey
					
					;; array_reverse($array, true)		;; preserve keys
					array.sort[-k]		;; assuming keys are currently in order
					array.keys.sort[-k]	;; no assumptions
					
					;; array_search($needle, $haystack, true)
					haystack[[v == needle]].keys[0]
					
					;; array_shift($array)
					var result = array[0]
					array.rm[0]
					result
					
					;; array_slice(array, offset, length, false)	;; don't preserve keys
					array[[(offset..(length-1)).has[k]]].sort[k]
					
					;; array_slice(array, offset, length, true)		;; preserve keys
					array[[(offset..(length-1)).has[k]]]
					
					;; array_splice($array, $offset, $length)
					var condition = fn k: (offset..(length-1)).has[k]
					var result = array[[condition]]
					array.rm[[condition]]
					
					;; array_splice($array, $positiveOffset, $positiveLength, $replacements)
					df array[[(positiveOffset..(positiveLength-1)).has[k]]] v k c: v = replacements[c]
					
					;; array_splice($array, $negativeOffset, $negativeEnd, $replacements)
					df array[[((array.len-negativeOffset)..(array.len-negativeEnd)).has[k]]] v k c: v = replacements[c]
					
					;; array_sum
					array[v+v2]
					
					;; array_udiff_assoc($array1, $array2, ...., $compare)
					array1[[ !( array2[[k2 v2: k==k2 & compare[v v2] ]].join[a&b] $ ....) ]]
					
					;; array_udiff_uassoc($array1, $array2, ...., $dataCompare, $keyCompare)
					array1[[ !( array2[[k2 v2: keyCompare[k k2] & dataCompare[v v2] ]].join[a&b] $ ....) ]]	
					
					;; array_udiff($array1, $array2, ...., $compare)
					array1[[ !(array2[[v2: compare[v v2] ]].join[a&b] & ....) ]]
					
					;; array_uintersect_assoc($array1, $array2, ...., $compare)
					array1[[ array2[[v2 k2: k==k2 & compare[v v2] ]].join[a&b] & .... ]] 
					
					;; array_uintersect_uassoc($array1, $array2, ...., $dataCompare, $keyCompare)
					array1[[ array2[[v2 k2: dataCompare[k k2] & keyCompare[v v2] ]].join[a&b] & .... ]] 
					
					;; array_intersect($array1, $array2, ...., $dataCompare)
					array1[[ array2[[v2: dataCompare[v v2] ]].join[a&b] &  ..... ]]
					
					
					;; array_unique(array)
					array.sort[v][[!({v}&lt;s)]]
					
					;; array_unshift(array, var1, var2, ....)
					array.=ins[0 {var1 var2}]
					
					;; array_values(array)
					array.map[v c]
					
					;; array_walk_recursive
					var array_walk_recursive = fn inputs func userData:
						var walk = fn value:
							if value.len == nil:
								func[v k userData]
							 else: df aList v k:
								func[v k userData]
						walk[inputs]
						
					
					;; array_walk(array, callback, other)
					array.=map[callback[v k other] k]
					
					;; array(....)
					{....}
					
					;; arsort(array)
					array.keys.sort[-array[v]] ;; integers
					array.keys.sort[array[v]].sort[-k] ;; anything
					
					;; asort(array)
					array.keys.sort[array[v]]
					
					;; compact(varname, ...)
					fn.this[[{varname ....}.has[k]]]
					
					;; count(array)
					array.len
					
					;; extract(var_array)
					private mix varArray
					
					;; in_array(needle, haystack)
					{needle} < haystack
					
					;; krsort(array)
					array.keys.sort[v].sort[-k]
					
					;; ksort(array)
					array.keys.sort[v]
					
					;; list(a, b, c) = array('a','b','c')
					{a b c} = {'a' 'b' 'c'}
					
					;; natcasesort(array)
					array.map[v.lower].fsort[v.natcmp[v2]<0]
					
					;; natsort(array)
					array.fsort[v.natcmp[v2]<0]
										
					;; range(low, high, step)
					(low/step...high/step){[v*step]} 
					
					
					
					;; prev, pos, current, next, reset
					;;[
					function testArrayIteratorfunctions() {
						$array = array('step one', 'step two', 'step three', 'step four');
						
						// by default, the pointer is on the first element
						echo current($array) . "<br />\n"; // "step one"						
						
						next($array);	// skip two elements
						next($array);
						echo current($array) . "<br />\n"; // "step three"
						
						prev($array);	// rewind one
						echo current($array) . "<br />\n"; // "step three"
						
						// reset pointer, start again on step one
						reset($array);
						echo current($array) . "<br />\n"; // "step one"
					}
					;;]
					
					testArrayIteratorfunctions = fn:
						var cur=0
						var array = {'step one' 'step two' 'step three' 'step four'}
						var i = array.iterList	;; grab array's iterList, to iterate in the same order df would
						
						;; echo first element
						wout[array[i[cur]] '<br />'@]
						
						cur+=2	;; skip two elements
						wout[array[i[cur]] '<br />'@]
						
						cur--	;; rewind one
						wout[array[i[cur]] '<br />'@]
						
						cur = 0	;; reset index, start again on 'step one'
						wout[array[i[cur]] '<br />'@]
					
					
					;; rsort(array)
					array.sort[-v] ;; numbers
					array.fsort[!fn[ret v < v2][v v2]] ;; strings
					
					;; shuffle(array)
					array.sort[rand[]]
					
					;; sizeof(array)
					array.len
					
					;; sort(array)
					array.sort[v]
					
					;; uasort(array, cmp_function)
					array.keys.fsort[cmpFunction[array[v] array[v2]]]
					
					;; uksort(array, cmp_function)
					array.fsort[cmpFunction[k k2]]
					
					;; usort(array, cmp_function)
					array.fsort[cmpFunction[v v2]]
					
				</code></div>
			</li>
			
			<li title="Lima vs Haskell">
				<div><code>
					;; intersperse '.' "MONKEY" 
					;; intersperse 0 [1,2,3,4,5,6]  
					"MONKEY".join[a.cat['.' b]] 
					{1 2 3 4 5 6}.join[{} a.cat[{0 b}]]

					;; intercalate " " ["heyyy","youuu","guyyyyyys"]  
					;; intercalate [0,0,0] [[1,2,3],[4,5,6],[7,8,9]] 
					{"heyyy" "youuu" "guyyyyyys"}.join[a.cat[" " b]] ;; notice that this is the same form as is used for string intersperse
					{{1 2 3} {4 5 6} {7 8 9}}.join[{} a.cat[{0 0 0 b}]] 

					;; transpose [[1,2,3],[4,5,6],[7,8,9]]  
					{0..00}.map[k: {{1 2 3} {4 5 6} {7 8 9}}.map[v[k]] ]
										
					;; fold (+) [1,2,3,4,5]
					{1 2 3 4 5}.join[a+b]
					
					;; concat ["foo","bar","car"] 
					;; concat [[3,4,5],[2,3,4],[2,1,1]]  
					{"foo" "bar" "car"}.join[a.cat[b]]
					{{3 4 5}{2 3 4}{2 1 1}}.join[a.cat[b]
					
					;; concatMap function aList
					aList.map[function[v]].join[a.cat[b]]
					
					;; and [True, False]
					{true false}.join[a&b]
					
					;; or [True, False]
					{true false}.join[a$b]
					
					;; any (==4) [2,3,5,6,1,4]  
					{2 3 5 6 1 4}.any[v==4]
					
					;; all (>4) [6,9,10]  
					{6 9 10}.all[v>4]
					
					;; iterate (*2) 2
					{1..00}.map[v*2]
					
					;; splitAt 3 "heyman" 
					var x = "heyman"
					{x[[k<3]] x[[k>3]]}
					
					;; takeWhile (>3) [6,5,4,3,2,1,2,3,4,5,4,3,2,1]  
					;; takeWhile (/=' ') "This is a sentence"  
					{6 5 4 3 2 1 2 3 4 5 4 3 2 1}.split[{3}][0]
					"This is a sentence".split[" "][0]
					
					;; dropWhile (/=' ') "This is a sentence"
					" ".cat["This is a sentence".split[" "][[k>0]].join[a.cat[" " b]]]
					
					;; span (/=' ') "This is a sentence"
					var x = "This is a sentence"
					{x.split[" "][0] " ".cat[x.split[" "][[k>0]].join[[a.cat[" " b]]]]}
					
					;; sort [8,5,3,2,1,6,4,2]  
					{8 5 3 2 1 6 4 2}.sort[v]
					
					;; group [1,1,1,1,2,2,2,2,3,3,2,2,2,5,6,7]  
					var newList = {}
					df {1 1 1 1 2 2 2 2 3 3 2 2 2 5 6 7} x:
						if x!=newList.sort[k][0][0]: newList.ins[{}]
						newList[newList.len-1].ins[x]
					newList
						
					;; map (\l@(x:xs) -> (x,length l)) . group . sort $ [1,1,1,1,2,2,2,2,3,3,2,2,2,5,6,7]
					{1 1 1 1 2 2 2 2 3 3 2 2 2 5 6 7}.group[v].map[{v[0] v.len}]
					
					;; inits "w00t" 
					var result = {""}
					df "w00t" x:
						result.ins[result.sort[-k][0],x]
					result
					
					;; tails "w00t" 
					var result = {"w00t"}
					var last = fn: return result.sort[-k][0]
					while last[].len > 0:
						var next = last[]
						next.rm[0]
						result.ins[next]
					result
					
					;; "cat" `isInfixOf` "im a cat burglar"  
					"im a cat burglar".find["cat"].len > 0
					
					;; "hey" `isPrefixOf` "hey there!"  
					"hey there!".find["hey"].any[v.keys.has[0]]
					
					;; "there!" `isSuffixOf` 
					var x = "oh hey there!"
					x.find["there!"].any[v.keys.has[(x.len-1)]]
					
					;; partition (`elem` ['A'..'Z']) "BOBsidneyMORGANeddy"  
					var result = "BOBsidneyMORGANeddy".group[('A'..'Z').has[v]]
					{result.true result.false}
					
					;; find (>4) [1,2,3,4,5,6]  
					{1 2 3 4 5 6}[[v>4]][0]
					
					;; 4 `elemIndex` [1,2,3,4,5,6] 
					{1 2 3 4 5 6}[[v==4]].k[0]
					
					;; ' ' `elemIndices` "Where are the spaces?" 
					"Where are the spaces?"[[v==' ']].keys
					
					;; findIndex (==4) [5,3,2,1,6,4]  
					{5 3 2 1 6 4}[[v==4]][0].keys[0]
					
					;; lines "first line\nsecond line\nthird line"  
					"first line"@,"second line"@,"third line".split[""@]
					
					;; unlines ["first line", "second line", "third line"]  
					{"first line" "second line" "third line"}.join[a,@b]
					
					;; words "hey these are the words in this sentence"  
					"hey these are the words in this sentence".split[" "]
					
					;; unwords ["hey","there","mate"]  
					{"first line" "second line" "third line"}.join[a," ",b]
					
					;; delete 'h' "hey there ghang!"  
					var x = "hey there ghang!"
					x.rm[ x[[v=='h']].k[0] ]
					
					;; [1..10] \\ [2,5,9]  
					???
					
					;; [1..7] `union` [5..10]  
					1..7 $ 5..10
					
					;; [1..7] `intersect` [5..10]  
					1..7 & 5..10
					
					;; insert 4 [3,5,1,2,8,2]
					var x = {3 5 1 2 8 2}
					var y = 4
					x.ins[x[[v>y]].k[0] y] ;; why would you want to make this a core function in your language???
					
					
					
					;; Map.fromList [(1,2),(3,4),(3,2),(5,5)]  
					{{1 2}{3 4}{3 2}{5 5}}.map[{v[0]:v[1]}]
					
					;; Map.empty 
					{}
					
					;; Map.insert 3 100 Map.empty  
					{}[3][100]
					
					;; Map.null Map.empty  
					{} == {} ;; duh
					
					;; Map.size Map.empty  
					{}.len
					
					;; Map.singleton 3 9  
					{3:9}
					
					;; lookup 3 Map.fromList [(1,2),(3,4),(3,2),(5,5)]   
					{{1 2}{3 4}{3 2}{5 5}}[3]
					
					;; Map.member 3 $ Map.fromList [(1,2),(3,4)]  
					{{1 2}{3 4}}.keys.has[3]
					
					;; Map.map (*100) $ Map.fromList [(1,1),(2,4),(3,9)]  
					{1:1 2:4 3:9}.map[v*100]
					
					;; Map.filter (>4) $ Map.fromList [(1,1),(2,4),(3,9)]  
					{1:1 2:4 3:9}[[v>4]]
					
					;; Map.toList . Map.insert 9 2 $ Map.singleton 4 3  
					{4:3}.map[{k v}]
					
					;; keys Map.fromList [(1,1),(2,4),(3,9)]  
					{1:1 2:4 3:9}.k
					
					;; elems Map.fromList [(1,1),(2,4),(3,9)]  
					{1:1 2:4 3:9}.v
					
					;;[
					phoneBook =   
					    [("betty","555-2938")  
					    ,("betty","342-2492")  
					    ,("bonnie","452-2928")  
					    ,("patsy","493-2928")  
					    ,("patsy","943-2929")  
					    ,("patsy","827-9162")  
					    ,("lucille","205-2928")  
					    ,("wendy","939-8282")  
					    ,("penny","853-2492")  
					    ,("penny","555-2111")  
					    ]  
					Map.lookup Map.fromListWith (\number1 number2 -> number1 ++ ", " ++ number2) phoneBook
					;;]
					var phoneBook =   
					    {{"betty" "555-2938"}
					     {"betty" "342-2492"} 
					     {"bonnie" "452-2928"} 
					     {"patsy" "493-2928"} 
					     {"patsy" "943-2929"} 
					     {"patsy" "827-9162"} 
					     {"lucille" "205-2928"} 
					     {"wendy" "939-8282"} 
					     {"penny" "853-2492"} 
					     {"penny" "555-2111"}
						}
					phoneBook.group[v[0]].map[ v.join["" a,", ",b[1]] ]

					
				</code></div>
			</li>
			
			<li title="Demonstrating the power of lima's list operations vs python itertools">
				<p>	Tho some of these things would be better to be done in more than one line, 
						this demonstrates how Lima uses some basic constructs to describle an infinity of possibilities.
					Going through the equivalents for <a href="http://docs.python.org/2/library/itertools.html">Python's itertools library functions</a>:
				</p>
				<div><code>
					;; count(10, 2)
					(10..00)[[v%2==0]]
					
					;; cycle([1,2,3,4])
					{1 2 3 4}*00
					
					;; repeat(10)
					{10}*00
					
					;; chain([1,2,3], [4,5,6])
					{1 2 3}.cat[{4 5 6}]
					
					;; compress([1,2,3,4], [1,0,1,0])
					{1 2 3 4}[[{1 0 1 0}[k]]]
					
					;; dropwhile(lambda x: x<5, [1,4,6,4,1])
					var x = {1 4 6 4 1}
					var elements = x[[!(v<5)]] ;; elements that don't match the criteria v<5
					x[[ k>=elements.keys[0] ]]
					
					;; groupby(alist lambda x: x%4)
					alist.group[v%4]
						.map[v.sort[k]] ;; to get rid of the key preservation that python doesn't have
					
					;; ifilter(lambda x: x%2, [10,11,12,13])
					{10 11 12 13}[[v%2]]
					
					;; ifilterfalse(lambda x: x%2, [10,11,12,13])
					{10 11 12 13}[[v%2 == 0]]
					
					;; islice([1,2,3,4], 2, 100, 4)
					{1 2 3 4}[[ k in (2..100)[[k%2==0]] ]
					
					;; imap(func, list, list2)
					list.map[func[v list2[k]]]
					
					;; starmap(func list)
					list.map[func[v[0] v[1]]]
					
					;; tee(alist, 4)
					(0..3).map[alist] ;; makes a list of copies of alist
					
					;; takewhile(alist func)
					df alist v k: if !func[v]:
						alist.rm[[key: key>=k]]
						
					;; izip(alist, anotherList)
					alist.map[if[anotherList[k] == nil: nil else: {v anotherList[k]}]
					
					;; izip_longest(alist, anotherList, fillvalue='-')
					alist.map[if[anotherList[k] == nil: '-' else: {v anotherList[k]}]
				</code></div>
			</li>
			
			
			
			<li title="An example of Lima's terseness vs python">
				<p>	A program that simple takes each line and creates a new file where each line is labeled with line numbers.
				</p>
				
				<h4>Python</h4>
				<div><code>
					out = open('uid list'+str(absoluteCount)+'.txt','w')
					with open('mif_retarget_fbid_12_12_11.csv','r',encoding='utf-8') as f:
					    for line in f:
							line = lines[n]
							out.write("Line "+str(n+1)+"'"+line+"'\n")
							if n%50000 == 0:
								out.close()
								out = open('uid list' + str(int(n/50000)+1) + '.txt','w')
					out.close() 
				</code></div>
				
				<h4>Lima</h4>
				<div><code>
					var input = file['mif_retarget_fbid_12_12_11.csv' 'utf-8']					
					df input.split[''@] line n: 
					   file['uid list' n/&#173;/50000+1 '.txt' 'utf-8'].=cat[ "Line " n+1 ": '"line"'"@]
				</code></div>
				
				<br>
				<p>	Because Lima automatically handles file closure when there are no more references to that file, the programmer doesn't have to deal with that.
					And because Lima will optimize access to the output file, a reference to the file doesn't need to be explicitly stored, 
						and can be conceptually opened on every iteration of the loop 
						(although any reasonable optimization will leave the file open over multiple iterations).
				</p>
			</li>
			
			<li title="Lima's concurrency vs Lua's concurrency">
				
				Taking an example, from lua's manual:
				
				<h4>Lua</h4>
				
				<div><code>
					function downloadAndPrintLength (host, file)
					  local c = assert(socket.connect(host, 80))
					  local count = 0    -- counts number of bytes read
					  c:send("GET " .. file .. " HTTP/1.0\r\n\r\n")
					  while true do
					    local s, status = receive(c)
					    count = count + string.len(s)
					    if status == "closed" then break end
					  end
					  c:close()
					  print(file, count)
					end	
					
					function receive (connection)
					  connection:timeout(0)   -- do not block
					  local s, status = connection:receive(2^10)
					  if status == "timeout" then
					    coroutine.yield(connection)
					  end
					  return s, status
					end
					
					threads = {}    -- list of all live threads
					function get (host, file)
					  -- create coroutine
					  local co = coroutine.create(function ()
					    downloadAndPrintLength(host, file)
					  end)
					  -- insert it in the list
					  table.ins(threads, co)
					end
					
					function dispatcher ()
					  while true do
					    local n = table.getn(threads)
					    if n == 0 then break end   -- no more threads to run
					    local connections = {}
					    for i=1,n do
					      local status, res = coroutine.resume(threads[i])
					      if not res then    -- thread finished its task?
					        table.remove(threads, i)
					        break
					      else    -- timeout
					        table.ins(connections, res)
					      end
					    end
					    if table.getn(connections) == n then
					      socket.select(connections)
					    end
					  end
					end
					
					host = "www.w3.org"
					
					get(host, "/TR/html401/html40.txt")
					get(host, "/TR/2002/REC-xhtml1-20020801/xhtml1.pdf")
					get(host, "/TR/REC-html32.html")
					get(host, "/TR/2000/REC-DOM-Level-2-Core-20001113/DOM2-Core.txt")
					
					dispatcher()   -- main loop
				</code></div>
				
				
				<h4>Lima</h4>
				
				<div><code>
					downloadAndPrintLength = fn host file:
						var c = tcp.connect[adr[host 80] 'httpText["utf-8"]']
						c.send['GET 'file' HTTP/1.0'@ @]	;; sending a request
						wout[file c.len]						;; prints the length of the data returned (waits until the connection is closed from the other end, since c.len isn't known until then)
						
					get = fn host file: thread:
						downloadAndPrintLength[host file]
					
					main = fn:
						host = 'www.w3.org'
						get[host "/TR/html401/html40.txt"]
						get[host "/TR/2002/REC-xhtml1-20020801/xhtml1.pdf"]
						get[host "/TR/REC-html32.html"]
						get[host "/TR/2000/REC-DOM-Level-2-Core-20001113/DOM2-Core.txt"]
				</code></div>
				
				<br>
				<p>The vast difference in size of these implimentations comes from Lima's simple thread syntax and automatic optimization 
					(such that a thread may use coroutine-style under the hood), 
					Lima's ubiquitous list syntax that is used for any list-like entity, 
					and implicit futures (like <code>c.len</code> which blocks the execution of that thread until it is known).
				</p>
			</li>
			
			<li title="Additional reading">
				<h5>Encoding issues</h5>
				<ul><li><a href="The Secret Life of Unicode.pdf">Explanation of unicode's shortcommings</a></li>
					<li><a href="r6116.pdf">Explains a way to encode more conscicely than Unicode</a></li>
					<li><a href="http://graysoftinc.com/character-encodings/understanding-m17n-multilingualization">Explanation of character codings in the context of Ruby</a></li>
				</ul>
			</li>
							
		</ol>

	</div>
	
	<div class="mainBox mainTitle" title="Comments">
	
		<div class="whitebox">
			Name: <input id="name"><br>
			<textarea id="comment" class="textarea"></textarea><br>
			<input type="submit" id="submitComment" value="Comment">
		</div>
		<div id="comments"></div>
		
		<script type="text/javascript">
			function getComments(submit)
			{	if(submit==undefined){submit = false;}	// default value
			
				var postData = {page:"limaIndex"};
				if(submit)
				{	postData.submitComment = 1;
					postData.name = $("#name").val();
					postData.comment = $("#comment").val();
					
					$("#name").val("");
					$("#comment").val("");
				}
				
				$.ajax
				({	"type": "POST", cache: false, "url": "../Sqool/forumPage.php",
					"data": postData,
					"success": function(data)
					{	$("#comments").html(data);
					},
					"error":function(XMLHttpRequest, textStatus, errorThrown)
					{	//alert("god dmanit"+textStatus+" and "+errorThrown);
					}
				});
			}
			
			$(function()
			{	getComments();
				
				$("#submitComment").click(function()
				{	if($("#name").val() != "" && $("#comment").val()!="")
					{	getComments(true);
					}					
				});
			});
		</script>
	</div>
	
	<div class="mainBox mainTitle" title="Things to mention somewhere">
		<code pretty="no">            

			
        * update everything that uses channels with *all* the 'chan' functionality like the || operator
            * still to go: tcp, http			
			                                                         
        * make sure you can do things like stream backpressure 
            * eg: Count the number of bytes that have been sent over the network for a file/stream

        * Figure out how you might do something like observee.id(someValue).set(...) perhaps some kind of attribute?
			
		* How would you do something like bluebird cancellation?			

		* custom needs to be fleshed out with functions that can be used to parse the character strings it gets
		  * Should custom functions return strings that are re-evaluated in context? Probably
	    * maybe rename custom to "macro" to be more consistent with like all of programming history?
			* And rename realCustom to customMacro
			      					   
		* remove con.cr and con.bs and add an encoding object for ASCII that has those available 

		* a "with" block that blocks out all but specified variables and creates its own scope, as a way to easily define what's used (and what's not). Eg:
			var x=1, y=2, z=3
			var result = with x y:
			   wout[x] // works fine
			   wout[z] // doesn't work
			   return x+y
                
        * optimize needs to have a way to specify things like "optimize this for the 80% most likely inputs"

   		* replace 'make' with the bracket operator in object descriptions? Wouldn't this complicate things tho? You'd have to then re-override the bracket operator on the instance
			

		</code>
	</div>
	
	Last Updated: 2017-02-05
	<script type="text/javascript">
		
		function in_array(needle, haystack, argStrict)
		{	var test;
			if(argStrict)
			{	test = function(a,b)
				{	return a===b;
				};
			}else
			{	test = function(a,b)
				{	return a==b;
				};
			}
			
			for(n in haystack)
			{	if(test(needle,haystack[n]))
				{	return true;
				}
			}
			return false;
		}
		// objectList is for internal use only (to prevent infinite loops)
		function printr(theObj, maxdepth, curDepth)
		{	if(curDepth == undefined)
			{	curDepth=0
			}
			if(maxdepth != undefined)
			{	if(curDepth >= maxdepth)
				{	return "more...";
				}	
			}
			
			var isObj;
			if((typeof theObj) == "array" || (typeof theObj) == "object" || (typeof theObj) == "function")
			{	isObj = true;
			}else
			{	isObj = false;
			}
			
			if(isObj)
		    {	result = "<ul>";
		    	for(var p in theObj)
				{	result += "<li>["+p+"] => "+printr(theObj[p])+"</li>";
		    	}
		    	result += "</ul>";
		    	return result;
		  	}
		  	else
		  		return theObj;
		}
		function regex_escape(text) 
		{	if (!arguments.callee.sRE)
			{	var specials = ['/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\'];
				arguments.callee.sRE = new RegExp('(\\' + specials.join('|\\') + ')', 'g');
			}
			return text.replace(arguments.callee.sRE, '\\$1');
		}
		function replaceAll(theString, replaceThis, withThis)
		{	return theString.replace(new RegExp(regex_escape(replaceThis), 'g'), withThis);
		}
		function trimFront(stringToTrim)
		{	return stringToTrim.replace(/^\s+/g,"");
		}
		function trimBack(stringToTrim)
		{	return stringToTrim.replace(/\s+$/g,"");
		}
		function trimBackSpacesAndTabs(stringToTrim)
		{	return stringToTrim.replace(/[ \t\r]+$/g,"");
		}
		function trim(stringToTrim)
		{	return stringToTrim.replace(/^\s+|\s+$/g,"");
		}
		$.fn.unwrap = function()
		{	$(this).parent().replaceWith
			(	$(this).parent().html()
			);
		};
		function realhtml(jqueryElement, callback)
		{	if(jQuery.browser.msie == true)
			{	jqueryElement.wrap("<pre></pre>");
				setTimeout(function()
				{	callback(jqueryElement.html());
					jqueryElement.unwrap();	
				},0);
			}else
			{	callback(jqueryElement.html());
			}
		}
		function arraykeys(array)
		{	var keys = [];
			for(e in array)
			{	keys[keys.length] = e;
			}
			return keys;
		}
			
		function getCollapsableElements(elements)
		{	return {	
				header: elements.children(".collapsable_header_elipsis"), 
				content: elements.siblings(".collapsable_content")
			};
		}
			
		function openCollapsableElements(elements)
		{	var parts = getCollapsableElements(elements);
			parts.header.hide();
			parts.content.show();
		}
		function closeCollapsableElements(elements)
		{	var parts = getCollapsableElements(elements);
			parts.header.show();
			parts.content.hide();
		}	
		
		var parserTerms = // terms used to describe basic constructs the parser uses to parse a lima program
		{	"Lvalue":"",	// Left value
			"Rvalue":"",	// Right value
			"Ivalue":"",	// Initialized Lvalue
			"statement":"",
			"statements":"",
			"opsym":"",		// operator symbol
			"parameters":"parameters",
			"condition":"condition",	
			"whileEndStatements": "end-statements",
			"if_else":"else",
			"integer":"",
			"alphanumeric":"",
			"base":"",
			"decimal":"",
			"declaration":"",
			"characters":"",
			"word":"",
			"definitionBlock":"definition-block",
			parameterSet: "parameter-set",
			blockParameter: "block-parameter",
			"variableName":"",
			"cullBlock":"cull-block",		
			"sliceConditional":"",
			"entryPoint":"entry-point"
		};
		var wordTerms = // terms used to describe concepts in Lima
		{	"element":"",
			"object":"",
			"listobj":"list-object",
			"member":"", "pseudoMember":"",
			"module":"",
			"private":"", 
			"future":"",
			"final":"",
			"ready":"",
			"threadlocal":"",
			"external":"",
			"constant":"",
			"typeValue":"",
			"characters":"",
			"privileged":"privileged",
			"operatorToken":"",
			"label":"",
			"threadPrio":"",
			"target":"",
			"argument":"",
			"parameter":"",
			"limaPath":"Lima path",
			"tryFinallyBlock":"finally block", 
			"tryExceptionBlock":"try-exception block",
			"sideEffectSurpression":"Side-effect surpression",
			"exceptionNamespace": "exception-namespace",
			"splat":"",
			"mapStatement":"",
			bracketBlock:"bracket-block",
			indentationBlock: "indentation-blocks",
			undentedCharacter: "undented character",
			argument: "",
			implicitVariable: "implicitly-declared variable"
		};
		var literalWordsA = // literal words that can be used in code (constants, predefined variables/functions/objects, etc)
		[	"int", "fra", "floplex","floplexU", "fraplex","fraplexU", 
			"string",
			"bool",
			"type",
			"contin", 
			"var",
			"list",
			"enum",
			"fixed", "static",
			"new", "mal", "del",
			"typeset",
			"if", "df", "while", "try", "thread", "when", "cond",
			"fn", "attribute",
			"file", "fileT",
			"dir",
			"win",
			"graph", "tree",
			"ref", 
			"nil",
			"time", "cpuTime",
			"wout", "rin", "rawrin", "sain", "tfor",
			"deg",
			"curTime", "curTicks", "ticksPerSecond",
			"garbo",
			"endian",
			"process",
			"rand", "arb",
			"sign",
			"log", "integrate", "d", "pd", "lim", "solve",
			"sizeof",
			"date",
			"jump",
			"false", "true",
			"hiZ",
			"const",
			"use", "mix",
			"pi",
			"staticSize", "dynamicSize",
			"ptr",
			"complex",
			"operator",
			"TPS",
			"make",
			"break", "continue",
			"self",
			"ret",
			"unmake",
			"lazyUnmake",
			"compare",
			"override",
			"parse",
			"custom",
			"realCustom",
			"this"
		]
		var literalWordsB = 
		{	"infinity":"00",
			"dotOperator":" . ",
			"complex_im":"im",
			"complex_re":"re",
			"postExclamationOperator":"!",
			"preExclamationOperator":"!",
			"bracketOperator":"[ ]",
			"doubleBracketOperator":"[[ ]]",
			"clawBracketOperator": "{[ ]}",
			"slice":"slice",
			"splatOperator":"...",
			"rangeOperator":"..",
			"clawOperator":"claw-operator",
			"nilCoalescer": "nil-coalescense operator"
		};
		
		var attributes = 
		{	"mutator":{backgroundColor:"rgb(255,225,225)"},
			"overrides":{backgroundColor:"rgb(135, 225, 255)"}
		};
		
		
		function getCopiedNoteName(classList)
		{	if(classList.length != 2)
			{	throw("copiedNote has too many or too few css classes  ("+classList+"), should have just 2");
			}else if(classList[0] == "copiedNote")
			{	return classList[1];
			} else
			{	classList[0];
			}
		}
		
		function openPopup(url, width, height, name) {
			if(name === undefined) name = '';
		    window.open(url, name, "width="+width+",height="+height);
		}
		
		$(function() {
			var splitLocation = window.location.href.split('#');
			
			try {
			var createTitleList = function(node, parentNode) {
				var name = node.attr("title");
				var liNode = $("<li><div class='contentsButton' value='"+name+"'>"+name+"</div></li>");
				
				var contentsButtons = liNode.find('.contentsButton');
				
				contentsButtons.click(function() {
					var theNode = $('div[title="'+name+'"]');	// its fucked up that I can't just use the node thats passed in the upper scope - wtf is going on?
					if(theNode.is(":visible")) {
						var topOffset = theNode.offset().top;	
					} else {
						var topOffset = parentNode.offset().top;		
					}
					
					window.scrollTo(0,topOffset-50);	
				});
				
				contentsButtons.bind("contextmenu",function(e) {
    				$('.rightClickMenu').remove();
					e.preventDefault();

				    var menu = $("<div class=rightClickMenu>Open in New Window</div>");
				    menu.css({
						position: 'absolute', left: e.pageX, top: e.pageY
					});
					
					var closeFunction = function() {						
						menu.remove();
						$("body").unbind("click",closeFunction);	
					}
					menu.click(function() {
						openPopup(splitLocation[0]+"#"+name, 1000, 1000);
						closeFunction()
					});
					$("body").bind("click",closeFunction);					
					$('body').append(menu);
					return false;
				});
				
				return liNode;	
			};
				
			// create contents
			$(".mainBox.mainTitle").each(function() {
				var mainNode = $(this);
				var liNode = createTitleList(mainNode);
				
				var subBox1Ol = $('<ul></ul>');
				$(this).find('.subBox1').each(function() {
					var subLiNode = createTitleList($(this), mainNode);
					subBox1Ol.append(subLiNode);	
				});
				
				liNode.append(subBox1Ol);
				$("#contents").append(liNode);
			});
			
			
			var menuItem = splitLocation[1];	// grab value after hash
			$("#contents .contentsButton[value='"+menuItem+"']").click();	// jump to section
			
			$("#contentsButton").click(function() {
				$("#contents").toggle();
				
				var closeFunction = function() {
					$("#contents").hide();
					$("body").unbind("click",closeFunction);			
				};
				$("body").bind("click",closeFunction);
				return false;
			});
			
			// other stuff			
			
			var notesAlreadyCopied = [];
			$(".copiedNote").each(function()
			{	var noteName = getCopiedNoteName($(this).attr('class').split(' '));
				if(noteName in notesAlreadyCopied)
				{	throw("Multiple duplicate copiedNotes named '"+noteName+"'");
				}
				notesAlreadyCopied[notesAlreadyCopied.length] = noteName;
				var html = $(this).html();
				
				$("."+noteName).each(function() {
					if(!$(this).hasClass("copiedNote")) {
						$(this).html(html);	
						$(this).addClass("copiedNoteDuplicate");
					}
				});
				
			});
			
			function createCodeArea()
			{	$(this).html("<div"+/*" class=codeArea" +*/"><code>"+$(this).html()+"</code></div>");
				$(this).addClass("unbreakable").addClass("codeArea");
			}
			
			$(	".definitionTable tr td:first-child, "+
				".methodDefinitionTable tr td:first-child, "+
				".methodDefinitionTable2 tr td:first-child"
			).each(createCodeArea);
			$(".methodDefinitionTable").children().children().children(":nth-child(2)").each(createCodeArea);
			$(".definitionTable tr td:nth-child(2), .methodDefinitionTable tr td:nth-child(3), .methodDefinitionTable2 tr td:nth-child(2)").addClass("mainBox");
			
			$(".methodDefinitionTable").children().prepend("<tr><th>method</th><th>parameters</th><th>Description</th><tr>");
			$(".methodDefinitionTable2").children().prepend("<tr><th>parameters</th><th>Description</th><tr>");
			
			$(".normalTable tr td").addClass("mainBox");
			$(".normalTable tr td:nth-child(2)").css({"text-align":"center"});
			$(".normalTable tr td:nth-child(1)").addClass("operationsLevel");
			
			
			$("table").each(function()
			{	//table	  tbody		tr					td	
				$(this).children().children(":odd").children().css({"background-color":"rgb(240,255,250)"});
				$(this).children().children(":even").children().css({"background-color":"rgb(233,247,255)"});
			});	
			//$("table:not(td > table) > tbody > tr:odd > td").css({"background-color":"rgb(233,247,255)"});
			//$("table tr:odd td").css({"background-color":"rgb(233,247,255)"});
			//("table tr:even td").css({"background-color":"rgb(240,255,250)"});			
			
			$(".more").html("<b class=noncode>. . .</b>");
			$(".param").each(function()
			{	$(this).html("<code><i>"+$(this).html()+"</i></code>");
			});	
			
			$(".taba").html("&nbsp;&nbsp;");
			$(".tab").html("&nbsp;&nbsp;&nbsp;");
			
			function findMinIndentForCodeSpace(text) {
				var t = text.split('');
				var result = "";
				
				var foundFirstNewline = false;
				for(n in t) {
					var c = t[n];
					if(foundFirstNewline) {
						if(c===' ' || c==="\t" || c==="\r") {
							result += c;
						}	else {
							break;
						}
					} else if(c === "\n") {
						foundFirstNewline = true;	
					} 
				}
				return result;
			}
			
			
			$("code").each(function()
			{	var minIndent = findMinIndentForCodeSpace($(this).html());
				
				var result = replaceAll(trim(trimBackSpacesAndTabs($(this).html())), "\n", "<br>");
				result = replaceAll(result, "<br>"+minIndent, "<br>");
				result = replaceAll(result, "{\t", "{&nbsp;&nbsp;");
				result = replaceAll(result, "[\t", "[&nbsp;&nbsp;");
				result = replaceAll(result, "\t", "&nbsp;&nbsp;&nbsp;");
				$(this).html(result);
				
				/*var parentDiv = $(this).parent('div');		// *if* the parent is a div, this will have a node
				if(	(parentDiv.parent('td').size() === 0 				// not directly under a table row, or
						|| ! parentDiv.parent('td').is(':first-child')		// not in the first table row, or
						|| ! parentDiv.closest('table').hasClass('definitionTable')	// that table is not a definitionTable
					) && $(this).siblings().size() === 0 )	{	// the code area has no siblings
					
					parentDiv.addClass('codeBox');
				}
				*/
			});
			
			$("code:not([pretty=no])").addClass("prettyprint");	// it seems this does something a bit asynchronously or something - make sure it runs far above prettyPrint(), or make some kind of lock so that prettyprint doesn't run until this is totally complete
			//$("code").addClass("lang-lima");

			$('a').attr("target","external");	// every link is a new window
			
			var DEBUG = false;
			if(DEBUG)
			{	var fullList = arraykeys(parserTerms).concat(arraykeys(wordTerms), literalWordsA, arraykeys(literalWordsB), ["param", "more"]);

				$("span").each(function()
				{	if(false == (in_array($(this).attr("class"), fullList)) )
					{	alert($(this).attr("class"));
					}
				});
			}
			
			function flattenToRealWord(assArray, key)	// flattens a key and a value into just a value
			{	var realWord;
				if(assArray[key] == "")
				{	realWord = key;
				}else
				{	realWord = assArray[key];
				}
				return realWord;
			}
			
			$(".subBox2").each(function(){	$(this).prepend("<h4>"+$(this).attr("title")+"</h4>");});	// titles
			
			
			
			// start uncollapsed
			function setupCollapsable(element, header, title, openAtStart, mainElementTag) {	
				if(openAtStart === undefined) openAtStart = true;
				if(header === undefined) header = element.get(0).tagName;
				if(mainElementTag === undefined) mainElementTag = element.get(0).tagName;
				
				var headerNode = $("<"+header+" class='collapsable_header clickable'>"+title+"<span class='collapsable_header_elipsis' style='display:none;'>...</span></"+header+">");
				var contentNode = $("<"+mainElementTag+" class='collapsable_content'>"+element.html()+"</"+mainElementTag+">");
				element.html('').append(headerNode).append(contentNode);
				
				headerNode.click(function()
				{	headerNode.children(".collapsable_header_elipsis").toggle();
					contentNode.toggle();
				});
				
				if(!openAtStart) {
					headerNode.click();	
				}
			}
			
			
			//* An attempt to make the headings collapsable
			
			$(".mainBox.mainTitle").each(function(){	setupCollapsable($(this), "h2", $(this).attr("title")); });
			$(".subBox1").each(function(){	setupCollapsable($(this), "h3", $(this).attr("title"));});
			
			$(".example").each(function(){	
				setupCollapsable($(this), undefined, 'examples', $(this).hasClass('open'));
				$(this).addClass("codeBox");	
			});
			$(".elaboration").each(function(){	
				setupCollapsable($(this), undefined, 'elaboration', $(this).hasClass('open'));
				$(this).addClass("codeBox");	
			});
			
			$(".details").each(function(){	
				setupCollapsable($(this), undefined, 'details', $(this).hasClass('open'));
			});
			
			
			$('.mainBox[title="Concepts"] li').each(function(){	setupCollapsable($(this), 'h3', $(this).attr("title"), false, 'div');});
			
			
			$("#openAll").click(function()
			{	openCollapsableElements($(".collapsable_header"));
			});
			$("#closeAll").click(function()
			{	closeCollapsableElements($(".collapsable_header"));
			});
			
			//$(".open").children(".collapsable_header:nth-child(1)").click();
			
			prettyPrint(function()	// prettify all stuffs that has the prettyprint class on it
			{	// Write special words
				for(n in parserTerms)
				{	var realWord = flattenToRealWord(parserTerms, n);	
					$("."+n).each(function()
					{	var innerWord = $(this).text();
						if(innerWord=="")
						{	innerWord = realWord;
						}
						$(this).html("<code class=innerWord>"+innerWord+"</code>");
					});
				}
				var temporaryDebugVariable = true;
				for(n in wordTerms)
				{	var realWord = flattenToRealWord(wordTerms, n);	
					$("."+n).each(function()
					{	var innerWord = $(this).text();
						//if(temporaryDebugVariable){temporaryDebugVariable = confirm ("'"+innerWord+"'");}
						if(innerWord=="")
						{	innerWord = realWord;
						}
						$(this).html("<i>"+innerWord+"</i>");
					});
				}
				for(n in literalWordsA)
				{	$("."+literalWordsA[n]).each(function()
					{	$(this).html("<code><b>"+literalWordsA[n]+"</b></code>");
					});
				}
				for(n in literalWordsB)
				{	var realWord = flattenToRealWord(literalWordsB, n);	
					$("."+n).each(function()
					{	$(this).html("<code><b>"+realWord+"</b></code>");
					});
				}
				for(n in attributes)
				{	$("."+n).each(function()
					{	$(this).html("<code><b>"+n+"</b></code>");
						$(this).css(attributes[n]);
					});
				}
				
				$("#contents .contentsButton[value='"+menuItem+"']").click();	// jump to section again (since things have changed since the last time we jumped)
				$('.loadingGif').remove(); // done loading
			});	
			
			} catch(e) {
				try {console.log("Got exception: "+e);}
				catch(f) {alert(f+" and "+e);};
			}			
		});
		
		if(jQuery.browser.msie == true)
		{	$(function()
			{	$("body").wrapInner
				(	'<div id="IEsucks"></div>'
				);
				$("#IEsucks").hide();
				$("body").prepend
				(	'<div style="width:800px;margin-left:20px;">'+
						'<br>'+
						"This page doesn't support Internet Explorer. If you'd like to see the page anyway, "+'<span class="clickable" onclick="'+"$('#IEsucks').show();"+'">click here</span>. For a better experience, please upgrade your browser:'+
						'<ul>'+
							'<li><a href="www.opera.com">www.opera.com</a></li>'+
							'<li><a href="www.firefox.org">www.firefox.org</a></li>'+
						'</ul>'+
					'</div>'
				);
			});
		}
	</script>
</body>
</html>

