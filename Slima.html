<!DOCTYPE HTML PUBLIC "-;;W3C;;DTD HTML 4.01;;EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	
	<link rel="shortcut icon" href="" type="image/x-icon">
	<title>The Lima Programming Language</title>
	
	<script src="prettify/prettify_modified_for_lima.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="prettify/prettify.css" />
	
	<script type="text/javascript" src="jquery.js"></script>
	
	<style type="text/css">
		body
		{	background-image:url(white%20sidestriped%20bg%20light.gif);
			margin:auto;
		}
		body {
			max-width:1000px;				
		}
		#header {
			max-width:1000px;				
		}
		
		.loadingGif {
			position: fixed;
			top: 0; left: 0;	
		}
			.loadingGif img {
				width: 80px;
			}
		
		body, .noncode
		{	font-family: helvetica,arial,freesans,clean,sans-serif ;
			line-height: 1.4;
			font-size:14px;
		}
		
		h2
		{	margin:0 0 7px 0;
		}
		h5
		{	margin:5px 0 0 0;
		}
		p, div.example
		{	margin:10px 0;
		}
		td
		{	padding-top:5px;
		}
		th
		{	font-size:12px;
		}
		
		code
		{	font-size:12px;
			line-height: 100%;
		}
		
		.innerWord {
			color:rgb(200,0,0);
		}
		.forceComment code, .forceComment {
			color: grey;
		}
		
		.copiedNote {	
			color: rgb(70,70,70);
		}
		.copiedNoteDuplicate {
			color: rgb(140,140,140);
		}
		
		.mainBox, .normalBox, .codeBox, .codeArea, .subBox1, .subBox2 
		{	border:solid 1px rgb(230,230,230);
		}
		.mainBox, .normalBox, .codeBox, .subBox1, .subBox2 
		{	margin: 10px auto;
			padding: 3px 10px;
		}
		.mainBox, .normalBox, .subBox1, .subBox2 
		{	background-color:#FFFFFF;
		}
		.codeBox, .codeArea
		{	background-color:#F7F7F7;
		}
		
		.example .collapsable_header {
			font-size: 11px;
			color: rgb(150, 80, 80);	
			font-family: "Comic Sans MS";
		}
		
		.nearTop {
			vertical-align: top;
			padding-top: 50px;
		}
		
		.clickable
		{	cursor:pointer;
		}
			.clickable:hover
			{	text-decoration:underline;
			}
		
		.innerBorder
		{	border: 1px solid black;
		}
		.unbreakable
		{	white-space: nowrap;
		}
		
		#openAll, #closeAll
		{	text-decoration: underline;
			font-style: italic;
			cursor: pointer;
		}
		#openAll:hover, #closeAll:hover
		{	font-style: normal;
		}
		
		.inlineList li
		{	display: inline;
		}
		
		#header {
			/*position: fixed;*/
			background-color: lightgray;	
			margin-top: 2px;
			padding: 0px 0;
			width: 100%;
		}
			#fixedHeader {
				position: fixed;
				display: inline;
				margin-left: 70px;
				background-color: lightgray;
			}
				#contentsContainer {
					position: relative;	
				}	
					#contents {
						position: absolute;
						left: 0px;
						top: -15px;
						border: 1px solid grey;
					}
						#contents li {	
							cursor: pointer;
						}
							#contents li .contentsButton:hover {	
								background-color: white;
							}
					
				#contentsButton {
					font-size: 20px;
					border: 1px solid gray;	
					margin: 4px 90px;
					cursor: pointer;
					padding: 0px 5px;
				}
				#contents, #contentsButton {
					background-color: rgb(240,240,240);					
				}
					.rightClickMenu {
						background-color: white;
						border: 1px solid gray;
						cursor: pointer;
					}
			
			#topTitle {
				font-size: 31px;
				font-weight: bold;	
				display: inline;
				margin-left: 5px;
			}
			
		#top {
			/*margin-top: 45px;*/
				
		}
		
		.operationsLevel {
			font-size: 12px;		
			font-weight: bold;
			text-align: right;
		}
	</style>
</head>

<body>
	<div id="header">
		<div id="topTitle">The Lima Programming Language</div>
		<div id="fixedHeader">
			<div id="contentsButton">Contents</div>
			<div id="contentsContainer">
				<ul id="contents" style="display:none;"></ul>
			</div>
		</div>
	</div>

	<div class=loadingGif><img src="loading_transparent_4.gif"></div>

	<div id="top"></div>

	<h2>Under Construction</h2>
		
		<span id="openAll">Open All Sections</span>  &nbsp;&nbsp;&nbsp;  <span id="closeAll">Close All Sections</span>
	
	
	<div class="mainBox mainTitle" title="Basics">
		
		<h4>Variables</h4>
		</p>
		
		<h4>Program Entry-points</h4>
		
	</div>
	
	<div class="mainBox mainTitle" title="Flow Control and Blocks">

		<h3>Blocks</h3>

	</div>
	
	<div class="mainBox mainTitle" title="Operators">	
			
		
		<h3>Universal Operators</h3>	
		<p>	The following binary and unary operators either operate on all values in the same way,
				can operate on variables that have not been assigned yet, or both.
		</p>
			
		<div class="subBox1" title="Binary Operators">
			<table class="definitionTable">
				<tr><td><span class="Lvalue"></span> = <span class="Rvalue"></span></td>
					<td>
					</td>
				</tr>
				<tr><td><span class="Lvalue"></span> ~> <span class="Rvalue"></span></td>
					<td>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> | <span class="Rvalue">b</span></td>
					<td>
					</td>
				</tr>		
				
			</table>
			<br>
			
			<table class="definitionTable">
				<tr><td><span class="Rvalue">a</span> ?? <span class="Rvalue">b</span></td>
					<td>Returns true if <span class="Rvalue">a</span> and <span class="Rvalue">b</span> represent the same data 
							(they hold the same piece of data in memory). 
						Examples of this are when the same value is passed into two different parameters in a function, 
							or if you're comparing what two references point to.
					</td>
				</tr>
			</table>
		</div>
		
		<div class="subBox1" title="Unary Operators">	
			<table class="definitionTable">
				
				<tr><td><span class="Rvalue"></span>?</span></td>
					<td>
							
					</td>
				</tr>			
				
				
			</table>
		</div>
		
		<div class="subBox1" title="Overloading and Defining New Operators">
			<table class="definitionTable">
			
				<tr><td class=nearTop>
						operator <span class="opsym"></span>
						level <span class="Rvalue">level</span>
						backward chained
						 <span class=parameters></span>:
							<span class="statements"></span>
						 &nbsp;<span class=more>parameters and statements</span>
						 
						operator <span class=more></span>
						[	<span class=more></span>
						]
					</td>
					<td><h4>Creating chaining operators</h4>
						
						<h4>Overloading the equals operator</h4>
						
						<h4>Overloading the reference operator</h4>
						
						<h4>Overloading the dot operator</h4>
						
					</td>
				</tr>
				
				<tr><td>
						preOperator <span class="opsym"></span>
						level <span class="opsym"></span> :
							<span class="statements"></span>

						postOperator <span class="opsym"></span>
						level <span class="opsym"></span> :
							<span class="statements"></span>
						
						
						preOperator <span class=more></span>
						[	<span class=more></span>
						]
						postOperator <span class=more></span>
						[	<span class=more></span>
						]
					</td>
					<td><p>	Defining or overloading unary operators. Must not have any parameters.
						</p>
					</td>
				</tr>
				
				<tr><td>
						custom operator <span class="opsym"></span>
						level <span class="opsym"></span>
						 <span class=word>inside</span>:
							<span class="statements"></span>
						
						custom operator <span class=more></span>
						[	<span class=more></span>
						]
					</td>
					<td><p>	Overloads an operator similar to a custom function. 
							This definition only has one argument - <span class=word>inside</span> are the characters between the brackets (whatever type of brackets they may be).
							The bracket operator ( [] ) and double-bracket operator ( [[]] ) are the only operators that can be overloaded like a custom function.
						</p>
					</td>
				</tr>
			</table>
		</div>
		
	</div>
	
	<div class="mainBox mainTitle" title="Functions and Methods">
		<table class="definitionTable">
			<tr><td class=nearTop><span class=fn></span></td>
				<td>The function factory object.
					It can create functions/methods and define function-types.
					
					<h5>Operators:</h5>
					<table class="definitionTable innerBorder">
						<tr><td class=nearTop>
								<span class=fn></span>
								 <span class=parameters></span>:
									<span class=statements></span>
								&nbsp;<span class=more></span>
								
								<span class=fn></span>
								[	<span class=more></span>
								]
							</td>	
							<td>
								<p>	Function values have the following operators defined for them:
									<table class="definitionTable innerBorder">
										
										<tr><td class=nearTop>[<span class=argument>arguments</span>]
											</td>
											<td>
											</td>
										</tr>
										
										<tr><td><span class=postExclamationOperator></span></td>	
											<td>
											</td>
										</tr>
										
										<tr><td>==</td>	
											<td>
											</td>
										</tr>
									</table> 
								</p>
								
								<p>	Function values have the following methods defined for them:
									<table class="definitionTable innerBorder">
									
										<tr><td>sideEffectLess</td>
											<td><p>	Returns a function that produces no side effects 
														without changing the output behavior (return value).
													Input variables may still be changed.
												</p>
											</td>
										</tr>
										
										<tr><td>functional</td>
											<td><p>	Returns a function that produces no side effects and does not mutate input variables.
													Does not change output behavior (return value).
												</p>
											</td>
										</tr>
				
									</table> 
								</p>
								
							</td>
						</tr>
						
						<tr><td><span class=dotOperator></span></td>	
							<td>
							</td>
						</tr>													
				</table>
				
				<h5>Methods:</h5>
				<table class="methodDefinitionTable innerBorder">
						<tr><td>parse</td>
							<td>varList paramList codeString</td>
							<td>
							</td>
						</tr>
					</table> 
				</td>
			</tr>
			
			<tr><td style="width:80px;">
					<span class=custom></span>
					 <span class=word>charsBefore</span> <span class=word>charsInside</span>:
						<span class=statements></span>
					
					<span class=custom></span>
					[	<span class=more></span>
					]
				</td>
				<td>
					<p>	<table>
							<tr><td style="width:80px;">
									<span class=word>customName</span>...[...]
									<span class=word>customName</span>...:...
										...
								</td>
								<td>
								</td>
							</tr>
						</table>
					</p>
				</td>
			</tr>
			
			<tr><td style="width:80px;">
					<span class=realCustom></span>
					 <span class=word>characters</span>:
						<span class=statements></span>
					
					<span class=realCustom></span>
					[	<span class=more></span>
					]
				</td>
				<td>
					<table>
						<tr><td style="width:80px;">
								<span class=word>realCustomName</span>...
							</td>
							<td>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			

		</table>
		
	</div>
	
	<div class="mainBox mainTitle" title="Literals">
		
		<div class="subBox1" title="Numbers">	
			
			<table class="definitionTable">
				<tr><td><span class=integer></span></td>
					<td>Base-10 integer. For example:
						<div class=example><code>
							var x = 34
							var y = 10000003459999
						</code></div>
					</td>
				</tr>
				<tr><td><span class=base></span>x<span class=integer></span></td>
					<td>Integer written in base <span class=base></span>. This can be used for binary or hex, 
							or any (integer) base from base-2 up to base-36. 
						For bases greater than 10, letters are used for digits higher than 9 (case insensitive). 
						Bases higher than 36 are not supported in this literal format.
						<div class=example><code>
							var w = 2x101	;; binary - x gets 5
							var x = 16x1A	;; hex - x gets 26
							var y = 20xD3A0F495B    ;; base-20
							var z = 36xzf8943lifpwe ;; base-36
						</code></div>
					</td>
				</tr>
				<tr><td><span class=decimal></span></td>
					<td>Base-10 real number.
						<div class=example><code>
							var x = 1.235
							var y = .0845
						</code></div> 
					</td>
				</tr>
				<tr><td><span class=base></span>x<span class=decimal></span></td>
					<td>Real number written in base <span class=base></span>.
						<div class=example><code>
							var x = 2x1.1	;; 1.5 in binary
							var y = 16x1.8	;; 1.5 in hex 
						</code></div> 
					</td>
				</tr>
				<tr><td><span class=infinity></span></td>
					<td>Stands for infinity. 
						This can be used for creating infinite lists or testing mathmatical operations.
						<div class=example><code>
							var x = 0..00 ;; returns an infinite list starting with 0
						</code></div> 
					</td>
				</tr>
			</table>
			
			
			<p>	Numbers are objects, but they don't share many members with default object literals. 
				They have more number-specific members.
			</p>
			
			
			<h5>Binary operators defined for numbers:</h5>
			<table class="definitionTable innerBorder">
			
				<tr><td><span class="Rvalue">a</span> + <span class="Rvalue">b</span></td>
					<td>Addition.	
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> - <span class="Rvalue">b</span></td>
					<td>Subtraction.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> * <span class="Rvalue">b</span></td>
					<td>Multiplication.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> / <span class="Rvalue">b</span></td>
					<td>Division.
						Note that divide by zero throws an exception (it does not return any kind of <code>NaN</code>-type value).
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> // <span class="Rvalue">b</span></td>
					<td>Discrete division (<span class="Rvalue">a</span> / <span class="Rvalue">b</span> rounded down to the nearest integer) </td>
				</tr>
				<tr><td><span class="Rvalue">a</span> % <span class="Rvalue">b</span></td>
					<td>Modulus, returns the remainder of <span class="Rvalue">a</span>//<span class="Rvalue">b</span>. 
						This works just as well with floating point values 
							- it returns a (possibly floating point) remainder after integer division is performed. 
						For example, <code>4.4//0.8</code> returns <code>0.4</code>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> ^ <span class="Rvalue">b</span></td>
					<td>Exponential power (<span class="Rvalue">a</span> to the power of <span class="Rvalue">b</span>).
						This operator is one of the few that are left associative (ie 2^3^4 does not mean the same thing as (2^3)^4)
					</td>
				</tr>
				
				
				<tr><td><span class="Rvalue">a</span> & <span class="Rvalue">b</span></td>
					<td>Logical and. <span class="copiedNote booleanOperatorNote">Only defined for values 0, 1, true, and false.</span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> $ <span class="Rvalue">b</span></td>
					<td>Logical or. <span class=booleanOperatorNote></span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !$ <span class="Rvalue">b</span></td>
					<td>Logical xor (exclusive or) returns <span class="Rvalue">a</span>&!<span class="Rvalue">b</span> $ !<span class="Rvalue">a</span>&<span class="Rvalue">b</span>. 
						<span class=booleanOperatorNote></span>
					</td>
				</tr>
				
				
				<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
					<td>Returns true if <span class="Rvalue">a</span> represents the same numeric value as <span class="Rvalue">b</span>.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> < <span class="Rvalue">b</span></td>
					<td>Less than.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> > <span class="Rvalue">b</span></td>
					<td>Greater than.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> <= <span class="Rvalue">b</span></td>
					<td>Less than or equal to. 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> >= <span class="Rvalue">b</span></td>
					<td>Greater than or equal to. 
					</td>
				</tr>
				
			</table>
			
		</div>
		
		<div class="subBox1" title="Objects">
			<table class="definitionTable">
				<tr><td class=nearTop>
						{	<span class=definitionBlock></span>
							<span class=more></span>
						}
					</td>
					<td><p>	An object literal. 
							Can be used for making objects, lists, associative arrays, matricies, etc. 
							There are three ways to add members in an object liberal: 
							<ol><li>Adding values with implicit keys. E.g. <code>x = {'a' 'b' 'c'}</code></li>
								<li>Adding values with explicit values as keys. E.g. <code>x = {14:'hello' "b":4 5.9:0.1}</code>.
									This is the same as setting values with the default bracket operator, 
										e.g. that last object is the same as <code>x={} x[14]='hello' x['b']=4 x[5.9]=0.1</code>.
									This means that const/read-only members can't be created this way.
								</li>
								<li>Adding values with variable names as keys. E.g. <code>{a=1 b=2 c=3}</code>.
									This is the only way private members can be created.
									This is also the only way a type can be ascribed to a key in an object literal.
									
									<div class=example><code>
										var x = {a=4}
										;; means the same thing as 
										var sameAsX = {'a':4} 
										
										var y = {A=4}	;; A is read-only here and can't be accessed via the default bracket operator
										;; are different
										var z = {"A":4}	;; A here is non-read-only
									</code></div>
								</li>
							</ol>
																		
							Any value can be a key, and keys are always differentiated using the equality operator (==).
							Members defined using option 3 above have the type <code>var</code> by default (if no type is given).
							Members defined using option 1 or 2 above have the type <code>var?</code> (they can be <code>nil</code>).
						</p>
						<p>		
							Note that setting a member of an object with : is like using the bracket operator. 
							Private members must be set with the equals sign (<code>=</code>).
							Value initializations set in the <span class=definitionBlock></span> never reference the value of any member
								of that object (variable names always refer to variables in the scope in which the object is being created).
							
							<div class=example><code>
								var a = 5
								var object = {
									a = 'a'
									b = a	;; sets b to 5 (*not* 'a')	
								}
								
								;; two ways to write the same list:
								{10 15 20 25} ;; a list
								{0:10  1:15  2:20  3:25} ;; the same list
								
								{	x=2 		 ;; an object/associative array
									var y=89
								}
								{'r':5  'u':2  34:'falcon'} ;; an object/associative array
								{	{1 2 3}	;; a matrix (list of lists, or more accurately, nested objects)
									{4 5 6}
									{9 9 3}
								}
							</code></div>
							
							All three ways to add members can be combined, as long as all the values with implicit keys come first.
							<div class=example><code>
								{   1 2 3 
								    'a':b  x=5 
								    y = fn: ret 'y'
								}
							</code></div>
						</p>
						
						<p class="copiedNote privateProtectedNote">	Object members are public by default. 
							All private variables are <span class=privileged></span>.
							Also, objects in the same <span class=module></span> (same file) can freely access eachothers' private members 
								(despite their private qualification). 
							Therefore, the concept of "friend classes" is unneccessary in Lima.
						</p>
						
						<p>	Members that start with a capital letter are constants are <span class=privileged></span>, 
								which means that member can't be accessed via the bracket operator and won't show up in the object's IterList 
								(and so won't appear as a member when iterating through the object in a loop).
							<div class=example><code>
							var x = {
								a=5
								b=6
								C=7	
							}
							
							x['a']	;; 5
							x['c']	;; nil
							x['C']	;; also nil
							
							;; will print '56' leaving out the 7
							df x v:
								wout[v]	
							
							</code></div>
							
							All private members are privileged.
						</p>					
					</td>
				</tr>
			</table>
			<h5>Members available by default for any object:</h5>
			<table class="definitionTable innerBorder">
				<tr><td>str</td>	
					<td>The default to-string method returns a string of code for an object-literal containing each non-privileged member in the object.
					</td>
				</tr>
				
				<tr><td>Len</td>	
					<td>This <span class=pseudoMember></span> returns the number of non-<span class=privileged></span> public members in the object.
						For example, the list <code>{0:'a' 1:'b' 2:'c' 9:'d' 'red':'no'}</code> has a <code>len</code> of 5.
						This member cannot be set(written to).
					</td>
				</tr>
				<tr><td>Keys</td>	
					<td>This <span class=pseudoMember></span> returns a list containing all the keys of 
							the non-<span class=privileged></span> public members in the object.
						One way this can be used is to test if an object contains a certain member.
						For example, <code>34.in object.keys</code> returns true if the object has a member/element 34.
						The order of the keys in this member determines the order that the object is looped through.
						This member can be modified to rearrange the keys, but cannot be used to add or remove keys.
					</td>
				</tr>
				<tr><td>IterList</td>	
					<td>This <span class=pseudoMember></span> returns <code>this</code> by default.
						Since <span class=df></span> calls <code>IterList</code>, 
							df will just iterate through the object as one would expect - unless this member is overridden.
					</td>
				</tr>
			</table>
			
			<h5>Special members only available inside object literals:</h5>
			<p> The following two members reference aspects about the object literal they're written in. 
				They are special in that they break the rule of not allowing duplicate aliasing in Lima.
				This is one of the very few cases where Lima has a construct that can't be duplicated by the programmer. 
			</p>
			<table class="definitionTable innerBorder">
				<tr><td><span class=self></span>.</td>	
					<td><p>Not a true member, <span class=self></span> is a special construct that can be used 
								to access members of the object that alias members in an upper scope 
								(it must be used to access those members, since an unqualified reference to that variable name would be ambiguous).
							It must always be used with the dot operator.
							
							<div class=example><code>
								var n = 5
								var x = {
									n=99
									func = fn:
										ret n		;; errors because n is an ambiguous variable name at this point
									func2 = fn:
										ret self.n	;; returns this object's n (with the value 99)
										
									nref ~> n		;; sets up an alias to the outside n
									func3 = fn:
										ret nref	;; returns the outside n (with value 5)
								}	
							</code></div>
						</p>
						
						<p>	If the object is inherited by another object that overrides a member, or does not inherit that member,
								an access of that member using <span class=self></span> will reference a hidden copy of that member, 
								just like an unqualified access would.
							Renaming an inherited member (with <span class=use></span> or <span class=mix></span>) does not change 
								the fact that the renamed member points to the same member as the function that used its originally-named counterpart.
							In fact, if an object inherits two functions that use the same variable name, 
								those functions will in reality use two different variables (hidden if they aren't inherited, referenced if they're renamed).
							
							<div class=example><code>
								var x = {
									n=0
									func = fn:
										n++
										ret n		;; always accesses the copy of n as defined by this object (x)
									func2 = fn:
										n++
										ret self.n	;; same as above
								}	
								
								var y = { use[x]
									n = 'hi'
								}
								
								wout[x.func[]]	;; prints 1
								wout[y.func[]]	;; also prints 2
							</code></div>
						</p>
						
						<p>	Note that you cannot copy or set a reference to <code>self</code>, and so it cannot be returned from a function.
							If you need to return the object itself, use <code>this</code>.
						</p>
						
					</td>
				</tr>
				<tr><td>this</td>	
					<td>Read-only member that references the object itself. 
						This will act just like using the object outside itself. 
						Private members can't be accessesed using <code>this</code>.
						
						<div class=example><code>
							var x = {
								n=0
								func2 = fn:
									n++
									ret this.n	;; will access whatever public n is available on the object inheriting this method
							}	
							
							var y = { use[x]
								n = 'hi'
							}
							
							wout[x.func[]]	;; prints 1
							wout[y.func[]]	;; prints 'hi'
						</code></div>
					</td>
				</tr>
			</table>
			
			
			
			<h5>Binary operators defined for objects:</h5>
			<table class="definitionTable innerBorder">
				<tr><td><span class=Rvalue>object</span><span class=dotOperator></span><span class=Rvalue>memberName</span> </td>
					<td><p>	Accesses a member of the object. 
							<code>memberName</code> will be interpreted as a member name 
							(rather than using its value if it happens to also be the name of an variable in scope).
						</p>
						<p>	<span class=privileged></span> members take precedence over other members of an object 
								(e.g. if an object has a <span class=privileged></span> member <code>A</code> and key 'A' set, object.A 
								will access the <span class=privileged></span> member, not the key's mapped value).
						</p>
						<p> The dot operator can also be used to access values at numeric keys using immediates.
							<div class=example><code>
								var x = {'a' 'b' 'd'}
								wout x.1	;; prints 'b'
							</code></div>
						</p>
						<p>	The operation will throw an exception if its attempting to access 
								a non-existant/nil non-privilaged member 
								(in comparison, the bracket operator will return nil).
							Note that for privilaged members, accessing a member that cannot be nil before it is initialized 
								will also throw an exception.
						</p>
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> + <span class="Rvalue">b</span></td>
					<td>Matrix and vector addition (adds <span class=element>elements</span> with the same index together). 
						Equivalent to <code>a.map[v+b[k]]</code>.
						<span class="copiedNote vectorAddSubtract">
							For matrix/vector addition and subtraction, and the vector dot product,
								<span class="Rvalue">a</span> and <span class="Rvalue">b</span> must have the same dimensions and size.
							An exception is thrown if they don't. 
						</span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> - <span class="Rvalue">b</span></td>
					<td>Matrix and vector subtraction (subtracts <span class=element>elements</span> of <span class="Rvalue">b</span> 
							from <span class="Rvalue">a</span> that have the same index).  
						Equivalent to <code>a.map[v-b[k]]</code>.
						<span class=vectorAddSubtract></span>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> * <span class="Rvalue">b</span></td>
					<td><p>	Matrix product.
							Only defined for rectangular matricies when 
								the number of rows in a is the same as the number of columns in b and vice versa.
						</p>
						<p>	This operator is also used for duplication of lists.
							It is only defined when a </code>list</code> is being multiplied by an <code>int</code> value.
							For example, <code>3*'moo'</code> would return "moomoomoo", 
								and <code>3*{3 4}</code> would return <code>{3 4 3 4 3 4}</code>
						</p>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> / <span class="Rvalue">b</span></td>
					<td>Product of inverse matricies.
						Defined only where <code>b</code> is an invertible matrix.
						Also defined only where either the matrix product of <code>a</code> on the inverse of <code>b</code> is defined,
							or where <code>a</code> is <code>1</code>, in which case the operation indicates the inverse of <code>b</code>.
					</td>
				</tr>
				
				
				<tr><td><span class="Rvalue">a</span> & <span class="Rvalue">b</span></td>
					<td>Set conjunction. Returns a <span class="listobj"></span> that contains the member-values that exist in both 
							<span class="Rvalue">a</span> and <span class="Rvalue">b</span>. 
						Keys are not preserved.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> $ <span class="Rvalue">b</span></td>
					<td>Set union (disjunction). Returns a <span class="listobj"></span> that contains the member-values that exist in 
							either <span class="Rvalue">a</span> and <span class="Rvalue">b</span> or both. 
						Keys are not preserved.
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !$ <span class="Rvalue">b</span></td>
					<td>Set exclusive disjunction. Returns a <span class="listobj"></span> that contains member-values that exist in only 
							<span class="Rvalue">a</span> and member-values that exist only in <span class="Rvalue">b</span> 
							but not member-values that exist in both. 
						Keys are not preserved.
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
					<td>True equality. 
						Returns true if both <span class="Rvalue">a</span> and <span class="Rvalue">b</span> contain all the 
							same keys, and if the values at those keys are all the same.
					</td>
				</tr>
				
				<tr><td><span class="Rvalue">a</span> <> <span class="Rvalue">b</span></td>
					<td>Set equality. Returns true if all the values contained in <span class="Rvalue">a</span> are also contained in <span class="Rvalue">b</span>.
						Since types are considered sets in Lima, this can also be used to compare equality of types (meaning comparing two variables containing types, not comparing the types of two variables).
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> !<> <span class="Rvalue">b</span></td>
					<td>Same thing as <code>!(<span class="Rvalue">a</span> <> <span class="Rvalue">b</span>)</code>
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> < <span class="Rvalue">b</span></td>
					<td>Proper subset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is a proper subset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> > <span class="Rvalue">b</span></td>
					<td>Proper superset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is a proper superset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> <= <span class="Rvalue">b</span></td>
					<td>Improper subset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is an improper subset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">a</span> >= <span class="Rvalue">b</span></td>
					<td>Improper superset of <span class="listobj"></span>s 
							(returns true if <span class="Rvalue">a</span> is an improper superset of <span class="Rvalue">b</span>). 
					</td>
				</tr>
				<tr><td><span class="Rvalue">x</span> &lt;&lt;  &gt;&gt;  &lt;&lt;=  &gt;&gt;= <span class="Rvalue">o</span></td>	
					<td><p>	Key-aware comparisons.
							Just like their counterparts <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code> but compares keys as well as values.
							<div class=example><code>
							{a=1 b=2} << {a=1}	;; true
							{b=1} <  {a=1}	;; true
							{b=2} << {a=1}	;; false
							</code></div>
						</p>
					</td>
				</tr>

			</table>
			<p class=chainedComparisonOperators></p>
			
			<h5>Unary operators defined for objects:</h5>
			<table class="definitionTable innerBorder">
				<tr><td><span class="Rvalue"></span><span class=splatOperator></span></td>
					<td><p>	The <span class=splat>splat</span> operator (inspired by cofeescript) 
								is used to splay values in an object out as arguments to a function or values in an object literal.
							It is also used as syntax for varargs in functions (variadic functions).
						</p>
						
										
						<p>	A <span class=splat></span> (<span class=splatOperator></span>) can be used to pass an object's members in as function arguments. 
							<p class=example><code>
								x = fn a b c: 
									wout[a b c]
									
								y = {1 2 3}
								x[y...]	;; outputs "123"
								
								z = {b=1 a=2 c=3}
								x[z...]	;; outputs "213" using z's members as named parameters
							</code></p>
						</p>
						
						<p>	Only one <span class=splat>splat</span> can appear in an argument list, but it can be written between arguments if need be.
							Splats must come after any variables with default values.
							<p class=example><code>
								fn a b=5 c splat... d e f:	
									wout splat[[cat]]
							</code></p>
						</p>
						
						<p>	<span class=splat>Splats</span> can be used in objects (and destructuring assignments).
							<p class=example><code>
								x = {1 2 3 x=4 34:'k'}
								y = {
									0 -3 
									{}:'t' 
									x... 
									3 3:3 
									'j':{'a' 'b' 'c' 'd' 'e' 'f'}
								}
								
								{j={var[a b otherLetters... f]}} = y 	;; the results are a='a', b='b', f='f', and otherLetters={'c' 'd' 'e'}
								{var[one two other...]} = x 			;; the results are one=1, two=2, three=3, and other={2:3 'x':4 34:'k'}
							</code></p>	
						</p>
						
						<p> One might ask how using <span class=splat>splats</span> in an object literal compare to <span class=use></span> and <span class=mix></span>.
							The answer is that <span class=splat>splats</span> only splay out normal (non-<span class=privileged></span>) members, 
								while <span class=use></span> and <span class=mix></span> include 
								<span class=privileged></span> members as well.
						</p>
					</td>
				</tr>
				<tr><td><span class="Rvalue"></span><span class=postExclamationOperator></span></td>
					<td><p>	Prototype operator. Using this operator on an object returns a type (from a prototype object). 
							A variable declared with this type must contain all the public members, methods, and operators 
								that <span class="Rvalue"></span> has. 
							Also, for methods with parameters of this type, a value matching that type must be passed into that parameter 
								- this is called structural dispatch (or structural typing) and is similar to whats refered to as duck typing.
						</p>
						
						<p>	This is used for constraining the values a variable can take, multiple disptach for functions, and interfaces.
							
							<div class=example><code>
								var x = {a=5 b=6}
								x! x1 = {a=0 b=0}	;; constrains values a variable can take on
								x1 = {a=5}			;; errors because the value doesn't have a member 'b'
								
								;; note that Animal itself is not a value that an Animal! typed variable can take on
								;; this makes sense since an interface doesn't usually impliment itself
								var Animal = 	
								{	fn! talk		;; implicitly abstract
								}
								Animal! Cat = 
								{	talk = fn :
										wout 'moo'
								}
								
								;; functions with multiple dispatch using types
								func = fn 
								 Animal! a:
									a.talk[]
								 x!:
									wout['a is: 'a' and b is: 'b]
							</code></div>
						</p>

					</td>
				</tr>
			</table>
									
			<h5>Methods available by default for any object:</h5>
			<table class="methodDefinitionTable innerBorder">
				<tr><td><span class=bracketOperator></span></td>
					<td>key1 key2 <span class=more></span></td>	
					<td><p>	Accesses a member of an object/list. 
							With only a single input key, it simply accesses that member. 
							Multiple keys can be input, which would result in accessing a member of a member. 
							For example, <code>object['a' 'b']</code> is the same as <code>object['a']['b']</code>. 
							Keep in mind that if one of the sub-members has an overloaded bracket operator, 
								then this equality may not hold.
							For example, if the bracket operator of member a is overloaded, 
								<code>object['a' 'b']</code> will still access object.a.b, 
								but <code>object['a']['b']</code> will execute a's overloaded operator on the input 'b'.
						</p>
						<p>	The bracket operator cannot acceess (read/write/create/etc) <span class=privileged></span> members of an object.
							When the bracket operator is used to set a key that is already a <span class=privileged></span> member of the object, 
								a new member will be created that can only be accessed through the bracket operator.
							<div class=example><code>
								var x = 
								{	Funco = "Ok!"
								}
								
								wout x['Funco']		;; errors because the key 'Funco' has never been set, and the bracket operator can't access read-only members
								wout x.Funco		;; outputs Ok!
								
								x['Funco'] = 4		;; sets the 'Funco' key
								
								wout x['Funco']		;; outputs 4 
								wout x.Funco		;; still outputs Ok!
							</code></div>
						</p>
								
						<p>	Also note that the bracket operator's keys are case sensitive (for string keys). For example,
								
							<div class=example><code>
								var x = 
								{	theCar = "deLorean"
								}
								
								wout x.theCar		;; outputs deLorean
								wout x.thecar		;; also outputs deLorean
								wout x["theCar"]	;; again outputs deLorean
								;;wout x["thecar"]	;; would throw an error because the key "thecar" has not been set
								
								x["thecar"] = "acura"
								
								wout x.theCar		;; outputs deLorean
								wout x.thecar		;; also outputs deLorean
								wout x["theCar"]	;; again outputs deLorean
								wout x["thecar"]	;; outputs acura
							</code></div>
						</p>
						<p>	This also works for lists and matricies (mult-dimensional arrays).
							<div class=example>
								<code>
									matrix = 
									{	{1 2 3}
										{4 5 6}
									}
								</code><br>
								<code>matrix[1 2]</code> accesses the <span class=element></span> that has the value 6.
							</div>
						</p>
					</td>
				</tr>
				<tr><td>Ins</td>
					<td>index sequence...</td>	
					<td><p>	Returns an object with the <code>sequence</code> inserted starting at the int key <code>index</code>.
							If any values are already at indexes that will be written with values in the sequence,
								they will be removed and reinserted in the next key after the sequence (<code>index+sequence.len</code>).
							This causes all the values at consecutive indecies at or higher than <code>index</code> to be 
								"moved over" to make room for the new value.
							If <code>index</code> it is inserting at isn't an integer, an exception will be thrown.
							
							<div class=example><code>
								var a = {9 8 7 6}
								var b = a.ins[4  4]         ;; returns {9 8 7 4 6}
								b.ins[3  1 2 3]     ;; returns {9 8 7 1 2 3 4 6}
							</code></div>
							
							If the parameter index is omitted (and there's just one parameter - a single value to insert), 
								that single-value sequence will be appended to the list 
								(inserted at the "end" - the first unoccupied positive integer index closest to 0 in the object).
							
							<div class=example><code>
								var a = {}
								var b = a.ins[1]	;; returns {1}
								b.ins[=4]           ;; 4 is appended to b - b is now {1 4}
							</code></div>
						</p>
					</td>
				</tr>	
				
				<tr><td>cat</td>
					<td>list <span class=more>lists</span></td>
					<td>Concatinates lists.
						It returns a data structure, where the variables and constants are concatinated in the order they're listed. 
						<div class=example><code>
							{1 2 3}.cat[{4 5 6}]     ;; returns {1 2 3 4 5 6} 
							'I'.cat["'m a mo" 'ose'] ;; returns "I'm a moose"
						</code></div>
					</td>
				</tr>
					
				<tr><td>cut</td>
					<td>indecies..</td>	
					<td><p><span class=mutator></span></p>
						<p>	Works just like <span class=bracketOperator></span> 
								but removes the selected member from the object and returns it.
							Automatically rekeys the object cut from.
							<div class=example><code>
								var x = {1 2 3 4 {5 6}};
								x.cut[3]	;; will return 4 and x will then be {1 2 3 {5 6}}
								
								var y = {59:10 69:20 79:{34:2 35:3 37:4} 89:40}
								y.cut[79 34]	;; will return 2 and y will then be {59:10 69:20 79:{3 4} 89:40}
							</code></div>
						</p>
					</td>
				</tr>
				
				<tr><td>Find</td>
					<td><span class=Rvalue>sequence</span></td>	
					<td><p>	Returns a list of <span class=slice></span>s where each member in the list is a non-overlapping <span class=slice></span> of the object 
								with the same sequence of elements as <span class=Rvalue>sequence</span>.
						</p>
						<p class=example>
							<code>
								{1 2 3 4 5}.find[{3 4}] 				;; returns { {2:3 3:4} }
								"What are you looking at?".find["at"]	;; returns two string slices that looks like { {2:'a' 3:'t'} {21:'a' 22:'t'} }
							</code>
						</p>
					</td>
				</tr>	
				<tr><td>split</td>
					<td><span class=Rvalue>sequence</span></td>	
					<td><p>	Splits the list into a list of <span class=slice></span>s
								that are separated by the <span class=Rvalue>sequence</span> in the original object.
						</p>
						<p class=example>
							<code>
								{1 2 3 4 5}.split[{3 4}] 				;; returns { {0:1 1:2} {4:5} }
								"What are you looking at?".split[" "].map[v.sort[k]]	;; returns {'What' 'are' 'you' 'looking' 'at?'}
							</code>
						</p>
					</td>
				</tr>	
				<tr><td>replace</td>
					<td><span class=Rvalue>sequence</span> <span class=Rvalue>replacement</span></td>
					<td>This function returns a new object where every occurrence of <span class=Rvalue>sequence</span> is replaced with the <span class=Rvalue>replacement</span>.
						<div class=example><code>
						var y1 = {1 2 3 4}.replace[{2 3} {90 91 93}]	;; y1 gets {1 90 91 93 4}
						
						;; is equivalent to:
						var y2 = x
						var sequence = y2.find[{2 3}]	;; find the sequence
						y2.cut[[k.in sequence.keys]]	;; remove it
						df {90 91 93} value key: 
							y2.ins[key value]	;; insert the new sequence
						
						
						wout["What's going on in here?".replace["in" "down"]]	;; prints "What's godowng on down here?"
						
						</code></div>
					</td>
				</tr>
				
				<tr><td>dot</td>
					<td>x</td>
					<td>Dot product.
						Only defined for vectors (lists of numbers).
						<code>a.dot[x]</code> is equivalent to <code>a.map[v+b[k]].join[v v2: v+v2]</code>.
						<span class=vectorAddSubtract></span>
					</td>
				</tr>
				<tr><td>cross</td>
					<td>x</td>
					<td>Cross product (of vectors).
						Only defined for vectors (lists of numbers) that have 3 dimensions.
					</td>
				</tr>
			</table>
			
			
			<h5>Custom methods available by default for any object:</h5>
			<table class="methodDefinitionTable innerBorder">	
							
				<tr><td>in</td>
					<td>x</td>
					<td>Tests if <span class="Rvalue">x</span> contains the calling object, where x is some lima expression.
						Does not use brackets.
						<code>value.in x</code> is essentially is the same as <code>{value} <= x</code>, but is more readible.
						This is defined for all objects (including numbers) by default.
					</td>
				</tr>
							
				<tr><td class=nearTop><span class=doubleBracketOperator></span></td>
					<td class=nearTop><span class=sliceConditional>sliceConditionals</span></td>	
					<td><p>	Object slicing based on conditions. 
							Also known as a filter (e.g. in python, javascript, haskell) or where (e.g. C#, sql).
							Returns a <span class=slice></span> showing the members that match the condition. 
							A <span class=slice></span> is an object whose members are references to the corresponding members in the original object 
								(this is explained more below).
							Keys preserve. 
							
						</p>
						
						<p>	In the <span class=sliceConditional></span>, 
								<code>k</code> and <code>v</code> are <span class=implicitVariable></span>s 
								unless different aliases are declared.
							<ul><li><code>k</code> refers to each value in the list, and</li>
								<li><code>v</code> refers to each key in the list.</li>
							</ul>
							Different aliases (than v or k) can be declared by writing one or two variable names and a colon right after the opening bracket
								(e.g. <code>list[[value key: key%2 == 1]]</code> and <code> list[[value: value < 1]]</code>).
							
							<div class=example><code>	
								{1 50 4 99}[[k<50]] ;; returns a slice with all members who's keys are less than 50 (a slice that looks like {0:1 2:4}). 
								
								wout 'Delorean Motor Company'[[k.in {0 9 15}]] ;; prints 'DMC'
	
								;; the following returns a slice with all members whos third element is less than 50 
								;; (a <span class=slice></span> that looks like {0:{1 2 3} 2:{6 7 8}}).
								{{1 2 3}{4 5 50}{6 7 8}}[[ v[3] < 50 ]] 
								
								;; the following returns a <span class=slice></span> that could represent a matrix where the columns (the first order members e.g. {1 2 3})
								;; only contain the rows where the element in the third column of that row is less than 50 (resulting in a <span class=slice></span> that looks like {{1 2}{4 5}{7 8}}.
								x = {{1 2 3}{4 5 6}{7 8 50}}
								x[[v[3] < 50]]								
							</div>
						</p>									
						
						
						<p>	Note that if any aliases are declared (if only one or two names are written before the colon), 
								then the undeclared aliases are not available.
							If any of the variable names v or k are already defined in scope, 
								then you have to declare at least one alias (and it can't conflict with any other name in scope). 
							<div class=example><code>
							var[k={'a' 'b' 'c' 'd'}]
							
							;; gets every other character in the list k the value alias must be defined here because otherwise k would be implicitly declared 
							;; and would error because of duplicate variable names
							k[[val: val.ascii%2 == 'a'.ascii]]
							</code></div>
						</p>
						
						<p> Similar to the bracket operator <span class=bracketOperator></span>, 
								multiple <span class=sliceConditional>sliceConditionals</span> can be written to access deeper dimensions of an object.
							<div class=example><code>
								var x = {a=1 b="hi" c={1 2 3} d={40 51 60}}
								x[['c'<=k<='d' v%2==0]] ;; returns {c={1:2}, d={40 2:60}}
								x[['c'<=k<='d']].map[ v[[val: val%2==0 ]] ]	;; this does the same thing in a less elegant way
							</code></div>
						</p>
						
						<h5>Slices</h5>
						<p> As mentioned above, a <span class=slice></span> is an object whose members are references 
								to the corresponding (non-privileged) members in the object the slice was taken from.
							This is a conceptual extension of the single-bracket-operator (single member access) to sets of members.
							If you modify a member of the <span class=slice></span>, 
								the corresponding member in the original list will also be modified,
								and vice versa.
							As with normal references, setting a variable (with the <code>=</code> operator) 
								to a slice will give that variable a copy of those members (not references to them).
							However, if you make a variable reference the slice instead (or directly use the result of functions/operators that return slices),
								you can modify the original object with that reference.
							<div class="example"><code>
								var x = {1 2 3 4 5}
								
								var y = x[[v > 3]]  ;; y gets a copy of the slice containing the first two members (1 and 2)
								y[3] = 99           ;; x remains the same because y got a copy
								
								y ~> x[[v > 3]]     ;; y is referencing the slice
								y[3] = 99           ;; x is now {1 2 3 99 5}
							
								df x[[v<3]] v:
									v++
								;; after that loop, x is now {2 3 3 99 5} - the first two members were incrimented
							</code></div>
							
							While the values in a slice are references to the original values, 
								the keys are copies and so can be manipulated however.
							<div class=example><code>
								var x = 0..100
								
								;; sets the last value greater than 50 and less than 80 to 'hi'
								x[[v>50]].sort[k][0] = 'hi'		;; after this, x[51] holds 'hi', but is otherwise unmodified
							</code></div>
							
							Note that not only can changing a list-slice affect the original object, 
								but since the values in a slice are references, 
								changing values in the original object can affect the slice.
						</p>
						<p>	A slice inherits <span class=privileged></span> members from the object it is a slice of, 
								meaning that it will have all the same methods and operators as the original object. 
							Most standard methods and operators can't affect the original object the slice was taken from , 
								but some can.
							
							<table class="definitionTable innerBorder">	
								<tr><td>cut</td>
									<td>Cuts from the slice as it would from a normal object.
										Also cuts the exact same members from the original.
										Note that if the original has new members that match whatever criteria is used to cut members from the slice,
											they will *not* be cut, since the slice was done before those members were added.
											
										<div class=example><code>
											var x = {50 60 70 80 90 100}
											var xslice ~> x[[k.in 1..3]]    ;; gets the members 60, 70, and 80
											x.ins[=65]                       ;; x is now {50 60 70 80 90 100 65}
											
											var xslice.cut[[v in {50 65 70 80}]]	;; xslice now only has the member 60
											;; x got its members 70 and 80 removed, but still has 50 and 65
											;; x is now {50 60 90 100 65}
										</code></div>
									</td>
								</tr>
								<tr><td>. [] [[]] [? ] ...</td>
									<td>All of these operators return references to the object the slice was taken from, 
											and thus members of the results can modify the original object.
										<div class=example><code>
										var x = {a=1 b=2 c=3 d=4}
										x[[v<3]].b = 5	;; x.b is set to 5
										
										var y = {1 2 3 4}
										y[[v>=2 & v<5]][2] = 99   ;; y now holds {1 2 3 99}
										
										var f = fn a b c:
											a++ b++ c++
										var z = {1 2 3 4 5}
										f[ z[[k>=2]]... ]	;; after this executes, z contains {1 2 4 5 6}
										</code></div>
									</td>
								</tr>
							</table>						
								
						</p>
					</td>
				</tr>
				
				<tr><td>[? ]</td>
					<td>memberList</td>	
					<td><p>	Returns the first non-nil member in <code>memberList</code>
							<div class=example><code>
								thresholds[? app defaultApp][? reason defaultReason]    
								// same as
								thresholds[app]?[reason] | thresholds[defaultApp]?[reason] | thresholds[app]?[defaultReason] | thresholds[defaultApp]?[defaultReason]												
								
								var x = {a={one=1 two=2}}
								x[?c b a][?three two one]	;; returns x[a][two] which is 2
								x[?x y z][?three two one]	;; gives nil pointer exception, because x doesn't have any of the members x, y, or z
							</code></div>
						</p>
					</td>
				</tr>
				
				<tr><td>map</td>
					<td><span class=Rvalue>memberStatment</span></td>	
					<td><p>	Returns the result of performing some statement on every member (value or key/value pair) in a list-object.
							The <span class=Rvalue>memberStatment</span> tells how to modify the value.
							The <span class=implicitVariable></span>s <code>v</code> (for value), 
								<code>k</code> (for key), and <code>c</code> (for count) are declared by default, 
								but can be aliased just like with the double-bracket operator.
						</p>
						<p class=example>
							<code>
							{1 2 3}.map[v*5]	;; will return {5 10 15}
							{1 2 3}.map[v.in {2 3 4 5}].join[a&amp;b] 	;; asks if every member in the list is either 2, 3, 4, or 5 
							{false true true}.join[a&b]	;; is equivalent to the above (thus it will return false, since 1 isn't in the list). 
							{1 2 3}.map[v.in {2 3 4}].join[a$b]	;; similarly, this asks if any member in the list is either 2,3,4, or 5 (so this will return true).
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>map</td>
					<td><span class=Rvalue>keyStatment</span> <span class=Rvalue>memberStatment</span></td>	
					<td><p>	Just like map with one statement except that it also modifies the key-value.
							The first parameter, <span class=Rvalue>keyStatment</span>, modifies the key, and
								the second parameter <span class=Rvalue>memberStatment</span> modifies the member's value.
						</p>
						<p class=example><code>
							{1 2 3}.map[v  v^2]		;; returns an object keying the squares of the values by the original values: {1:1 2:4 3:9}
							{a=1 b=2 c=3}.map[c k] 	;; basically, returns {0:'a' 1:'b' 2:'c'} (basically the same thing as {a=1 b=2 c=3}.keys)
						</code></p>
					</td>
				</tr>
				
				<tr><td>join</td>
					<td>expression</td>	
					<td><p>	AKA the reduce function, combines all the values in an object into one value.
							The expression determines how to combine the elements of the list.
							The <span class=implicitVariable></span>s in the expression are a and b.
							In the first combination, a holds the first elements and b holds the second element.
							After the first combination, a holds the current aggregate, 
								and b holds the next element to aggregate.
							This means that the aggregate should be a similar type of value as each element 
							(as is the case with sums or concatenating strings).
							Throws an exception if theres an empty list.
						</p>
						<p class=example>
							<code>
								{1 2 3}.join[a+b] 	;; returns 6
								{}.join[a+b] 		;; throws exception
								{{x=1} {x=2} {x=3}}.join[a + b.x] 		;; errors because in the expression {x=1} + {x=2}.x, {x=1} does not have a + operator
								{{x=1} {x=2} {x=3}}.join[a.x + b.x] 	;; errors because in the expression 3.x+{x=3}.x, 3 does not have the member 'x'
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>join</td>
					<td>init expression</td>	
					<td><p>	Similar to join with one argument, except a always holds the current aggregate 
								(which is initialized to <code>init</code>) and b holds the next element to aggregate. 
							Empty list returns the <code>init</code> value
						</p>
						<p class=example>
							<code>
								{1 2 3}.join[0 a+b] 	;; returns 6
								{}.join[0 a+b] 		;; returns 0
								{{x=1} {x=2} {x=3}}.join[0 a+b.x] 	;; returns 6
							</code>
						</p>
					</td>
				</tr>
				
				<tr><td>Group</td>
					<td>[expression]</td>	
					<td><p>	This custom method operates on a list. 
							Returns a list of sublists where each member in a given sublist evaluated the <code>expression</code> to the same value.
							Keys preserve.
						</p>
						
						<p>	<code>Group</code> uses <span class=implicitVariable></span>s just like map and the slice operator.
						
							<div class=example><code>
								{ 1 2 3 4 5 4 3 2 }.group[v]	;; returns { {1} {1:2 7:2} {2:3 6:3} {3:4 5:4} {4:5} }
								
								var x = {{a=1 b=2} {a=3 b=5} {a=1 b=9}}
								var y = x.group[v.a]       ;; sets y to { {0:{a=1 b=2} 2:{a=1 b=9}} {1:{a=3 b=5}} }
								
								var x = { {1 2 3 4} {1 5 8} {9 10 11} {9 11 15} {20 18 17} }
								x.group[v[0]]		;; returns { {0:{1 2 3 4} 1:{1 5 8}} {2:{9 10 11} 3:{9 11 15}} {4:{20 18 17}} }
							</code></div>
						</p>
						
					</td>
				</tr>
				
				<tr><td>cut[[ ]]</td>
					<td><span class=sliceStatement></span></td>	
					<td><p><span class=mutator></span></p>
						<p>	Works just like <span class=doubleBracketOperator></span> 
								but removes the selected members from the object and returns them as a list.
							<div><code>
								var x = {1 2 3 4 5 6};
								x.cut[[2&lt;v&lt;6]]	;; will return {2:3 3:4 4:5} and x will then be {1 2 6}
							</code></div>
						</p>
						<p>	Keys are preserved for the return value, but keys are <b>not</b> preserved for the object being operated on.
							The object being operated on is automatically re-keyed by sorting by key value 
								(which will cause an exception if there are keys for which an order isn't defined in relation to the other keys).
							<div class=example><code>
								var x = {2 3 4 9 8 7}
								var y = x.cut[[k==3]]	;; y gets {3:9} and x is now {2 3 4 8 7}
							</code></div>
						</p>
					</td>
				</tr>

				<tr><td>Ins[[ ]]</td>
					<td>value testExpression</td>	
					<td><p>	Returns a new list where for every set of <span class=element>elements</span>,
								<code>value</code> has been inserted between them as long as 
								<span class=mapStatement>testExpression</span> returns true for those elements.
							<span class=mapStatement>testExpression</span> is optional, defaulting to true.
							<div class=example><code>{1 2 3}.ins[[0]] ;; returns {1 0 2 0 3}</code></div>
						</p>
						<p>	<code>a</code>, <code>b</code>, <code>ak</code>, and <code>bk</code> are <span class=implicitVariable></span>s, 
								and they are aliased in that order.
							<code>a</code> is the value that comes first in the list, and <code>ak</code> is its index.
							<code>b</code> is the value that comes second in the list, and <code>bk</code> is its index.
						</p>
						<p class=example>
							<code>
								var x = {1 2 3}
								x.ins[[a+b-ak]]                         ;; returns {1 3 2 4 3}
								x.ins[[prev next key1: prev+next-key1]] ;; the same thing using different aliases
								x.ins[['a' a+b<4]]                      ;; returns {1 'a' 2 3}
								
								x.=ins[['hi' ak==0]]                    ;; x gets changed to {1 'hi' 2 3}
							</code>
						</p>
					</td>
				</tr>		
				
				<tr><td>Sort[ ]</td>
					<td>objectMembers</td>	
					<td><p>	Stable value sort, ascending. 
							Returns an object where the members are sorted by some values inside the brackets.
							<code>v</code> and <code>k</code> are <span class=implicitVariable></span>s.
						</p>
						<p>	It will be primarily sorted by the first value, secondariliy sorted by the second value, etc.
							Order is preserved when values are equal.
							The keys will be changed so that all the values are <span class=element>elements</span> 
								(their keys all start from 0 and increment from there).
							<div class=example><code>
								list x = {8 3 9 4 87 1}
								x.sort[v]	;; returns {1 3 4 8 9 87}
								
								var obj = {a=1 b=-2 c=3}
								obj.sort[val key: obj.len-key-1] ;; returns {3 -2 1}
								
								{{a=5 b={x=9} c='c'} {a=5 b={x=7} c='d'}}.sort[v.a v.b.x] ;; returns {{a=5 b={x=7} c='d'} {a=5 b={x=9} c='c'}}
							</code></div>
						</p>
					</td>
				</tr>
				<tr><td>Sortus[ ]</td>
					<td>objectMembers</td>	
					<td><p>	Unstable sort. 
							Exactly like <code>Sort[ ]</code>, but doesn't ensure that order is preserved when values are equal 
								(the 'us' of 'sortus' stands for "unstable").
						</p>
					</td>
				</tr>
				
				<tr><td>Sort[[ ]]</td>
					<td>objectMembers</td>	
					<td><p>	Stable expression sort, ascending. 
							Returns an object where the members are sorted based on comparison expressions inside the brackets.
							The aliases <code>a</code>, <code>b</code>, <code>ak</code>, <code>bk</code> refer to 
								the keys and values of the two items being compared by the sorting method.
							The expressions should indicate whether a comes before b.
						</p>
						<p>	Order is preserved when values are equal.
							It will be sorted primarily using the first comparison expression, secondariliy using the second comparison expression, etc.
							<div class=example><code>
								list x = {8 3 9 4 87 1}
								x.sort[[a&lt;b]] 	;; returns {1 3 4 8 9 87}
								obj.sort[[val1 val2 key1 key2: val1&lt;val2 ]] ;; also returns {1 3 4 8 9 87}
							</code></div>
						</p>
					</td>
				</tr>
				<tr><td>Sortus[[ ]]</td>
					<td>objectMembers</td>	
					<td><p>	Unstable expression sort. 
							Exactly like <code>Sort[[ ]]</code>, but doesn't ensure that order is preserved when 
								values are equal (the 'us' of 'sortus' stands for "unstable").
						</p>
					</td>
				</tr>	
					
			</table>
			
			
			
			<h5>Special constructs that can be used inside the <span class=definitionBlock></span> of an object:</h5>
			<table class="definitionTable innerBorder">
				<tr><td>
						<span class=make></span>
						 <span class=parameters></span>:
							<span class=statements></span>
						&nbsp;<span class=more>parameters</span>
						
						<span class=make></span>
						[<span class=parameters></span>:
							<span class=statements></span>
						&nbsp;<span class=more>parameters</span>
						]
					</td>	
					<td><p>	Constructor.
							Implicitly creates a copy of the <code>this</code>, runs the statements in make for that new object,
								and also returns it implicitly.
							<div class=example><code>
								x = { 
									var[a b]
									make self.a x:
										b = 5*x										
								}
								x.make[1 2] ;; returns a copy of x that looks like {a=1 b=10 fn! make}
							</code></div>
							
							The method, however, may explictly return, in which case it returns that alternate object instead 
								(and the implicitly created object is discarded - or really [under the hood] is never created in the first place).
							<div class=example><code>
								x = { 
									make a x:
										ret {a=a x=x}
								}
								x.make[1 2] ;; returns {a=1 b=2}
							</code></div>
						</p>
					</td>
				</tr>
				
				<tr><td>
						<span class=unmake></span>
						[<span class=statements></span>
						]
					</td>	
					<td><p>	Destructor. 
							Declares code that is run when one of the following happens (whichever comes first):
							<ul><li>the object goes out of scope and no strong-references point to it 
									(note that closures may implicitly have strong-references to the object),
								</li>
								<li>the object has already gone out of scope and its last strong-reference was just pointed somewhere else,
								</li>
								<li>the object is explicitly deleted (by setting the variable holding it to nil)</li>
							</ul>
							Cannot be called directly.
						</p>
					</td>
				</tr>
				
				<tr><td>
						<span class=compare></span>
						[<span class=parameters></span>:
							<span class=statements></span>
						&nbsp;<span class=more>parameters</span>
						]
					</td>	
					<td><p>	Overloads operators ==, !=, <, >, <=, and >= all at the same time.
							The <span class=parameters></span> should only have one parameter (the parameter to compare the object to).
							Should return true if the value is greater than the object, and false otherwise. 
							It will infer everything else from this return value.
						</p>
						<p>	Note that this implicitly creates overloaded operators in the same scope as the object the <span class=compare></span> is defined in, 
								and Lima will complain if the <span class=compare></span> creates a overloaded operator whos parameters conflict with an existing operator.
						</p>
					</td>
				</tr>
				
				
				<tr><td><span class=target></span>[<span class=targetObject></span> <span class=more>targetObjects</span>]</td>	
					<td><p>	Declares the platforms and formats the object is intended for. 
							If the object is compiled, it will be compiled into files of different formats based on its targets (keep in mind that <span class=module>modules</span> are themselves objects).
						</p>
						<p>	Platforms and formats include optimized code for different languages, readable code for different languages,
								assembly code output for different architectures, 
								and executable native or byte code in different forms (executable, static library, or dynamic library) for different platforms.
							Examples of targets: <code>ppc.mac, x86.win32, x86.linux, x86.mac, x86.win32.o, mips, java, llvm</code>.
						</p>
					</td>
				</tr>
				
				<tr><td>
					<span class=use></span>[
						;; object-inheritance statement
						<span class=object></span> :[ 
							;; member statement
							<span class=word>memberName</span> : <span class=word>memberAlias</span>
							<span class=more>member statements</span>
						]
						: <span class=word>objectAlias</span>
						
						;; object-inheritance statement
						<span class=object>object2</span> :[! 
							<span class=word>memberName</span> <span class=more>memberNames</span>
						]
						: <span class=word>objectAlias</span>
						
						<span class=more>object-inheritance statements</span>
					]
					</td>	
					<td><p>	Makes code (precompiled or not) available for use in an object (or <span class=module></span>).
							It has mixin-like semantics: the object gets a copy of the private and public 
								functions and variables of each object passed in the parameters.  
							An object with multiple inheritance involving name collisions must explicitly 
								declare which object it will get its member from. 
							
							<ul><li><span class=object></span> should be a lima expression that returns an object to inherit from.</li>
								<li>Everything inside the colon-bracketed section (<code>:[ ]</code>), including the colon-bracket, 
										is optional.
								</li>
								<li>Everything inside the not-colon-bracket operator (<code>:[! ]</code>), including the not-colon-bracket, 
										is optional.
								</li>
								<li>For a given object-inheritance statement, there may be up to one colon-bracket operator 
										(either the normal colon-bracket, the non-colon-bracket operator, or neither),
										defaulting to inheriting all the members when neither colon-bracket operator is used.
								</li>
								<li><span class=word>memberName</span> is the name of the member to inherit 
										(or not inherit in the case of the not-colon-bracket operator).
									<span class='copiedNote useNamesAndAliases'>
										This can use the special <code>operator</code> construct (<code>operator</code> <span class=word>op</span>)
											to indicate the symbols for an operator 
											(whether refering to the original symbol, or aliasing an operator with a different symbol).
									</span>
								</li>
								<li><span class=word>memberAlias</span> is a name in which the calling object will inherit
										the member given by <span class=word>memberName</span>.
									These are optional, defaulting to calling the member by its original name.
									<span class ='useNamesAndAliases'></span>
								</li>
								<li><span class=word>objectAlias</span> is a object name that the calling object will encapsulate
										the members of a given <span class=object></span>.
									This is optional, defaulting to inheriting the <span class=object></span>'s 
										members directly into the calling object.
								</li>
							</ul>
							
							
						</p>
						<p>	You can use the result of an expression in this custom function by prefixing the expression
								with the <code>@</code> sign.
						</p>
						<p>	
							<div class=example><code>
							
							
							use[
							   redrobin      ;; all members of redrobin are inherited                                                
							   redrum : r2   ;; redrum inherited under the alias r2 (ie an inherited member a would be accessed with self.r2.a)							   
							   
							   someObj2:[! dragon ]           ;; all members are inherited except dragon
							   someObj3:[! dang yucky ]       ;; all members are inherited except dangerous and yucky
							   
							   someObj3:[dang] : aliasY       ;; someObj2.dang inherited under the alias aliasY.dang                        
							   someObject:[x y z] : aliasZ    ;; members x, y, and z inherited under the object aliasZ
								
								someObj4:[	                  ;; members inherited under aliases
									a : memberA
									b : memberB
								]
								
								someObj5:![operator <]	;; inherits all members except the < operator
								someObj5:[
									operator < : ltOperator	;; inherits an operator as a named operator
								]
								
								;; inherit members of other modules
								lib["C://src/lib/aFile2.lima"] : sm1   ;; absolute path
								lib["../lib/aFile.o"]	               ;; path relative to the current file
								lib[":C:src:lib:aFile2.5.lima"] : sm1  ;; <span class=limaPath></span>
								lib["../lib/aFile3.lima"]:[specialMethod fancyMethod] : sm2
							]
							</code></div>
							
							This is a way to make the use of <span class=module>modules</span> completely unambiguous. 
						</p>
						
						<p>	Since <span class=module>modules</span> are themselves objects, <span class=use></span> is used like 
								<code>#include</code> / <code>import</code> in C/Java respectively, <code>extends</code> in java, and 
								for linking to static libraries.
							If one of the <span class=object>objects</span> is a string ending in ".lima", ".o", ".dll", ".so", etc, 
								it loads the code at the given path and uses the entire file as a class.
							The compiler/interpreter will figure out how to use that file - for example, if it's a shared library,
								it can decide to lazily load it.
							<span class=use></span> does not paste in files verbatim like C includes - only takes code that you need and does not use the rest (preventing program bloat).
						</p>
					
						<p><span class=use></span> doesn't nest. 
							This means that if you <span class=use></span> objectA in objectB, and <span class=use></span> objectB in objectC,
								it won't be available in objectC unless objectC also uses file A.
							Also, any modifications to "global" variables inherited by <code>use</code> will not be seen
								by other modules/object.
							This ensures that a module always knows what its dependencies are, 
								and can't be affected in out-of-band ways by code unless a module explicitly inherits it.
							
						</p>
					</td>
				</tr>
				
				<tr><td><span class=mix></span>[<span class=object></span> <span class=more>objects</span>]</td>	
					<td><p>	This is exactly like <span class=use></span>, but nests.
							
							<div class=example><code>
							A = {x y}
							B = 
							{	mix[A]
							}
							C = 
							{	mix[A B]	;; throws an exception because of conflicting members (since B has already inherited members from A)
							}
							</code></div>
						</p>
					</td>
				</tr>
				
				<tr><td>
					access:
					 get <span class=word>pseudoMemberName</span>:
						<span class=statements></span>
					 set <span class=word>pseudoMemberName</span> <span class=word>value</span>:
						<span class=statements></span>
					 else get <span class=Rvalue>pseudoMemberName</span>:
						<span class=statements></span>
					 else set <span class=Rvalue>pseudoMemberName</span> <span class=Rvalue>value</span>:
						<span class=statements></span>
				
					access
					[	<span class=more></span>
					]
					</td>	
					<td><p>	Allows definition of getters and setters for the object. 
							Overrides the dot operator for these pseudoMember names.
							Getters are functions that are called when the dot operator is used to access the value of a pseudo-member name like 
								<code>object.<span class=word>pseudoMemberName</span></code>.
							Setters are functions that are called when the dot operator is used to set a value on a pseudo-member name like 
								<code>object.<span class=word>pseudoMemberName</span> = value</code>.
						</p>	
						<p>	There needs not be any variable corresponding to <span class=word>memberName</span>, but there can be. 
							If there is, the variable must be private.
						</p>
					</td>
				</tr>
				
			</table>
		</div>
				
				
				
		<div class="subBox1" title="Strings">
			<p>A string is, conceptually, a list of characters.</p>
			
			<p> Lima is designed to operate with any characters, from any encoding. 
				Unlike Python, Lima does not choose Unicode as the be-all end-all standard to convert everything to and from.
				Unicode, while being a giant leap forward in character encoding, has its own pitfalls and downsides.
				And unlike Ruby, Lima does not force all strings to carry around their encoding around with them
					- strings are abstract entities containing "characters" that are conceptually encoding independant.
				In practice, like anything else in Lima, the internals will likely choose different encodings for 
					different situations, using the advantages of different encoding when it makes sense.
				Instead, Lima does a mix of both: it uses its own abstract character encoding derived from Unicode,
					but extended to allow representations of characters from any other encoding inside the same string.
				See the description of LimaEncoding-8 (in the <i>Predefined Variables: Character Encodings</i> section)
					for description of how this abstract idea is implemented as a real encoding.
			</p>
			
			<p>	Lima defines a character using the encodings the system knows how to operate between.
				Two characters Character-A from Encoding-A is defined to be the same as Character-B from another Encoding-B 
					if and only if the configured encodings transcode Character A to Character B and vice versa.
			</p>
			
			
		
			<table class="definitionTable">
				<tr><td class=nearTop>'<span class=escapedCharacters></span>'</td>
					<td><p>	A <code>string</code> literal.
							String literals can span multiple lines, and use whitespace indentation similar to how white-space indented blocks do 
								- each new line starts at the same vertical position that the first character of the string started on.
							<div class=example><code>
							var w = 'this is a
							         multi-line string'      ;; same as 'this is a/nmulti-line string'
							var y = 'this is another
							              multi-line string' ;; same as 'this is another/n     multi-line string'
							var y = 'this is not
							    a valid multi-line string'   ;; errors because of improper indentation
							var z = 'this is also
							        not valid'      ;; also errors, because the 'n' in "not" is vertically aligned with the quote rather than the 't' in "this"
							</code></div>
							
						</p>
						<p>	The following are the recognized escape codes.
							<table class="definitionTable innerBorder">
								<tr><th>Escape Code</th>
									<th>Meaning</th>
								</tr>
								<tr><td>//</td>
									<td>Single slash.
										Note that this only needs escaping when the slash precedes
											a single-quote, double-quote, "n", "N", or open-square bracket.
									</td>
								</tr>
								<tr><td>/'</td>
									<td>Single quote (you don't need to escape this character for double-quoted strings, but it'll still work if you do)</td>
								</tr>
								<tr><td>/"</td>
									<td>Double quote (you don't need to escape this character for single-quoted strings, but it'll still work if you do)</td>
								</tr>
								<tr><td>/n or /N</td>
									<td>Newline. Note that newlines may be written to the disk differently on different OSs if you open a file as 'text'. 
										Also note, actual newlines are recognized in strings (you don't have to use the escaped version).
									</td>
								</tr>
								<tr><td>/s</td>
									<td>Space-extension modifier.
										Extends a space one time per "/s".
										For example, " /s/s/s" is a single space character with the width of 4 single-spaces.
										Corresponds to LimaEncodings space-extension codepoint. 
									</td>
								</tr>
								<tr><td>/[<span class=integer>1</span> <span class=integer>2</span> etc]</td>
									<td>An in-quote way of writing unicode (or any other) character codes. 
										The number representation is base-10.
										For example, <code>'A character: /[45]'</code> or <code>'Some characters: /[45 67 42 39]'</code>.
									</td>
								</tr>
								<tr><td>/[<span class=base></span>x: <span class=alphanumeric></span> <span class=alphanumeric></span> etc]</td>
									<td>An in-quote way of writing character codes, like the above except the number has an explicit base. 
										For example, <code>'A character: /[8x:2703]'</code> 
											or <code>'Some characters: /[16x: 5B 51 A7 3E2 E6]'</code>.
									</td>
								</tr>
								<tr><td>/[<span class=integer></span>:<span class=characters></span>]</td>
									<td><p>	A span of literal characters (escape sequences aren't honored).
											For example, <code><span class="nocode" style="color:#C83C3C;">'/[27:'/n' is the escape sequence] for a newline'</span></code>.
										</p>
										
										<p>	The <span class=integer></span> is the number of characters in the string. 
											The end-bracket must be immediately after character .
											<span class=param>length</span> is supposed to be filled in by the compiler because it would be difficult for a human to keep that parameter up to date. 
											If something goes wrong the compiler will likely be able to tell because the end bracket will not appear at the end of the string.								
										</p>
									</td>
								</tr>
							</table>
							Notes:
							<ul><li>In Lima's strings, forward-slash is used as the escape character rather than backslash.
									Forward-slashes not preceding the characters '/', "'", '"', 'n', or '[' are treated as normal forward-slashes
										(not part of an escape sequence).
								</li>
								<li>The "grave accent" ( ` ) is an alias for the apostrophe ( ' ) when being used to surround strings</li>
								<li>Characters are represented as a string of length 1 - there is no separate character construct. 
									This also means that characters are recursive lists, in a way.
										Eg. <code>'a' == 'a'[0] == 'a'[0 0 0 0 0 0 0]</code> 
										<br>
										- its characters all the way down ; )
								</li>
								<li>There are no characters for horizontal or vertical tab, delete, bells, or other non-printable characters.
									Tabs should be encoded as either multiple spaces, or an extended space character 
										(using LimaEncoding's space-exstension marker),
										or the text should be split up into a list of strings in the case the tab character is being used 
										as a column or list separator.
									Similarly, there is no difference between a line-separator and paragraph-separator - there is only a new-line character.
									These concepts can still, of course, be encoded in a byte-array, 
										but are not (and have never been) expressible as (unique) characters.
								</li>
							</ul>
						</p>
					</td>
				</tr>
				<tr><td>"<span class=escapedCharacters></span>"</td>
					<td>A <code>string</code> literal. 
						The same as a single quoted string except single quotes don't need to be escaped and has the additional escape sequence for a double-quoted string.
					</td>
				</tr>		
				<tr><td>"""<span class=word>characters</word>"""</td>
					<td>A <code>string</code> literal. 
						The same as the other two types of quotes, except there are no escape codes - everything is literal.
						This can be used to easily write literal strings that have quotes or slashes inside it.
					</td>
				</tr>			
			</table>
						
			<p>	Strings have all the members regular objects (object literals) have, but they also have
					a couple additional methods over pure object literals, and so they are not interchangable with lists of characters.
				For example, <span>"hi"</span> is different from <code>{'h' 'i'}</code> 
					in that the former has string operators and methods defined for it, while the latter doesn't.
			</p>
			
			<p>	<h5>Additional members available to all strings:</h5>
				<table class="definitionTable innerBorder">
					<tr><td>str</td>	
						<td>Returns the string. 
							In the case the string has missing indexes (like if it's a slice), 
								it will print characters in key order 
								(ie. you don't need to do this: <code>aSlice.sort[k].str</code>).
						</td>
					</tr>
					
					<tr><td>lower</td>	
						<td>Lowers the case of all the characters in the string.
						</td>
					</tr>
					<tr><td>upper</td>	
						<td>Capitalizes all the characters in the string.
						</td>
					</tr>
				</table>
				
				<h5>Additional operators available to all strings:</h5>
				<table class="definitionTable innerBorder">
					<tr><td>a < b</td>
						<td>Returns true if <code>a</code> is a lower order than <code>b</code> in a "natural" ordering.
							<div class="copiedNote naturalOrdering">
								Natural ordering is where characters that are not digits are compared as normal, 
									but when digits are encountered at the same place in both strings, 
									it parses as many of them as possible into an integer and compares the integers between the two strings. 
								The programmer can use any collation.
							</div>
						</td>
					</tr>
					<tr><td>a > b</td>
						<td>Returns true if <code>a</code> is a higher order than <code>b</code> in a "natural" ordering.
							<div class="naturalOrdering"></div>
						</td>
					</tr>
					<tr><td>a <= b</td>	
						<td>Like < but matches for equal strings as well.
						</td>
					</tr>
					<tr><td>a >= b</td>	
						<td>Like > but matches for equal strings as well.
						</td>
					</tr>
					<tr><td>a..b</td>	
						<td>Returns a list of strings of the same length and less length between <code>a</code> through <code>b</code> (inclusive).
							<div class=example><code>
								collate[{'a''b''c''d''e''f''g'}]:
									var x = 'b'..'f'	;; x gets {'b' 'c' 'd' 'e' 'f'}
									var y = 'cf'..'de'	;; x gets {'cf' 'cg' 'd' 'da' 'db' 'dc' 'dd' 'de'}
							</code></div>
						</td>
					</tr>
				</table>
				<p>Note that for any of the above comparison operators and the range operator, 
					a collation must be defined for any of them to work.
				</p>
				<p class=chainedComparisonOperators></p>
				
				<h5>Additional methods available to all strings:</h5>
				<table class="methodDefinitionTable innerBorder">
				
					<tr><td>cat</td>
						<td>list ...</td>
						<td>Just like normal <code>cat</code>, but each argument 
								is automatically converted to a string using their <code>str</code> member.
						</td>
					</tr>
					<tr><td> dgt </td>	
						<td>string s</td>
						<td>Returns true if the caller object is higher order than <code>s</code> based on collation alone (simple order).
							<code>dgt</code> stands for "dumb greater than".
							This is the traditional default way strings have been compared in programming.
						</td>
					</tr>
					<tr><td> dlt </td>	
						<td>string s</td>
						<td>Returns true if the caller object is lower order than <code>s</code> based on collation alone (simple order).
							<code>dlt</code> stands for "dumb less than".
							This is the traditional default way strings have been compared in programming.
						</td>
					</tr>
					<tr><td>enc</td>	
						<td>codec</td>
						<td>Encodes the string into a <code>bits</code>.
						</td>
					</tr>
				</table>
					
			</p>
		</div>
		
	</div>
	
	
	<div class="mainBox mainTitle" title="Predefined Variables">
		<div class="subBox1" title="Types">
			<p>	Types are a special kind of custom function that define variables and constrain the values a variable can take on. 
			 	Unlike most programming languages, types in Lima are basically contracts. 
				As contracts, the type of a variable almost never affects normal program execution.
				Exceptions to this rule are:
				<ul><li>values can be checked as to whether they are included in a type, 
						and those checks can affect runtime behavior (e.g. multiple dispatch).
					</li>
					<li>if the contract is violated, ie. the variables is assigned a value not described by the variable's type
						(an exception will be thrown in this case).
					</li>
				</ul>
				
				Like anything else in Lima, types don't have to be checked at compile-time, but will be if possible.
			</p>
			
			<h5>Operators available to all types:</h5>
			<table class="definitionTable innerBorder">
				<tr><td><span class=Rvalue>a</span> & <span class=Rvalue>b</span></td>	
					<td>Type conjunction. Returns a type that has only the values both a and b have.
					</td>
				</tr>
				<tr><td><span class=Rvalue>a</span> $ <span class=Rvalue>b</span></td>	
					<td>Type union. Returns a type that has the values of a and b.
					</td>
				</tr>
				<tr><td><span class=Rvalue>a</span> !$ <span class=Rvalue>b</span></td>	
					<td>Exclusive type disjunction. Returns a type that has the values of a and b, but not the values they have in common.
					</td>
				</tr>
				<tr><td><span class=Rvalue></span>?</td>	
					<td>Returns a type that can hold <code>nil</code>, along with the values the type indicates it can hold.
						This is equivalent to <code>type $ typeset[nil]</code>.
						<div class=example><code>
							var x = {int? a}
							x.a = nil
							wout x.a 		;; prints 'nil'
							
							var y = {int a}
							y.a = nil		;; throws exception
						</code></div>
					</td>
				</tr>
			</table>
			
			<br>
			
			<table class="definitionTable">
				<tr><td><span class=var></span></td>	
					<td>Any value except nil. 
						A variable of this type can take on a value of any type except nil.
						Has the following method:
							
						<table class="methodDefinitionTable innerBorder">
							<tr><td>parse</td>
								<td>varList codeString</td>
								<td>Parses the codeString into an object.
									The <code>varList</code> (optional) is an object who's members will be in-scope variables 
										the new function immediate has access to.
									<div class=example><code>
										var o1 = var.parse['1 2 3']
										o1[0]	;; returns 1
										
										var i = 5
										var theString = 
											'a = 5
											 b = i
											 i = 9
											 c = fn: wout[self.i]'
										
										var obj = var.parse[{i=i} theString]
										obj.a	;; 5
										obj.b 	;; 5
										obj.i	;; 9
										obj.c[]	;; prints 9
										
										var x = 5
										var obj2 = var.parse[{a~>x} 
											"""
											p~>a
											f = fn: p++
											"""
										]
										obj2.f[]	;; x becomes 6
									</code></div>
									
									<div class="execSafety"></div>
								</td>
							</tr>
						</table>						
					</td>
				</tr>
				<tr><td><span class=bool></span></td>	
					<td>Boolean values (0 and 1).
					</td>
				</tr>
				<tr><td><span class=int></span></td>	
					<td>Signed integers. 
						Represents all integers from -<span class="infinity"></span> to positive <span class="infinity"></span>. 
						Has the following methods:
							
						<table class="methodDefinitionTable innerBorder">
							<tr><td>parse</td>
								<td>string s</td>
								<td>Attempts to parse the string as an <b>integer</b> and return the value. 
									Throws an error if the value isn't an integer.
								</td>
							</tr>
							<tr><td>roman</td>
								<td>string s</td>
								<td>Attempts to parse the string as a <b>roman numeral</b> and return the value.
									Throws an error if the value isn't a roman numeral.
								</td>
							</tr>
							<tr><td>english</td>
								<td>string s</td>
								<td>Attempts to parse the string as <b>plain english</b> and return the value.
									Recognizes numbers ignoring spaces and dashes between word-parts.
									Throws an error if the value isn't an english number.
								</td>
							</tr>
							<tr><td>engOrdinal</td>
								<td>string s</td>
								<td>Attempts to parse the string as an <b>english ordinal</b> and return the value.
									Throws an error if the value isn't an english ordinal.
								</td>
							</tr>
						</table>
						
						To define an unsigned integer: <code>typeset[0..00] unsignedIntVariable</code>
					</td>
				</tr>
				<tr><td>bits</td>	
					<td>A an array of boolean values, that also has special methods and operators for bit operations.
						Bit arrays are structured in little-endian order 
							(least-significant digits first - so <code>2x0001.bits[0] == 1</code>).
							
						<div class=example><code>
							var x = 2x110001.bits
							x.ins[0  0 0 0] ;; left-shift 3 times, like stack pushes, returns 2x110001000
							x.cut[[v<2]]    ;; logical right-shift twice, like stack pops, x becomes 2x1100
							
							;; most likely, you'll never need to write an arithmetic right-shift:
							var signBit = x[x.len]
							var signBitTwoTimes = 1..2.map[signBit]
							{signBitThreeTimes... x[[v<2]].sort[k]...}  ;; returns the number arithmetically right-shifted twice
							
							x.map[v&y[k]] ;; retuns x's bits anded with y's (to work properly, x and y should be the same length)
							x.map[!v]     ;; one's complement of the bit array
						</code></div>
						
						<p>	<code>bits</code> objects have the following members:
							<table class="definitionTable innerBorder">
								<tr><td>num</td>	
									<td>Returns the positive numeric value of the bit array.
										Errors if the array is empty.
									</td>
								</tr>
								<tr><td>ones</td>	
									<td>Returns the signed numeric value of the bit array interpreted as the one's complement number representation.
										Errors if the array is empty.
									</td>
								</tr>
								<tr><td>twos</td>	
									<td>Returns the signed numeric value of the bit array interpreted as the two's complement number representation.
										Errors if the array is empty.
									</td>
								</tr>
								<tr><td>none</td>	
									<td>Returns an empty <code>bits</code> object.
									</td>
								</tr>
							</table>
						</p>
						
						<p>	<code>bits</code> objects have the following methods:
							<table class="methodDefinitionTable innerBorder">								
								<tr><td>dec</td>
									<td>codec</td>	
									<td>Decodes the bits into a string.
									</td>
								</tr>
								<tr><td>chunk</td>
									<td>chunkSize</td>	
									<td>Returns an array of integers made from chunks of the bit array.
										Equivalent to <code>bits.group[k//chunkSize].map[v.join[0 v+v2]]</code>
									</td>
								</tr>
								<tr><td>dechunk</td>
									<td>intList</td>	
									<td>Returns a <code>bits</code> object made from the passed list of integers.
										Equivalent to <code>bytes.join[bits.none v.ins[v2.bits]]</code>
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
				<tr><td><span class=float></span></td>	
					<td>Signed single-precision floating point. 
						Represents all values defined by the IEEE single-precision floating point standard. 
						Note that there is no NaN value in Lima. 
						Invalid results will result in an exception.
						
						<table class="definitionTable innerBorder">
							<tr><td>set</td>
								<td>The list of numbers definable in a float, from smallest to greatest.
									<div class='example'><code>
										var minFloat = float.set[0]
										var maxFloat = float.set[float.set.len]
										
										var key = float.set[[v>5.5]].keys[0]        ;; key for the...
										var floatNearest5point5 = float.set[key]    ;; lowest value greater than 5.5
										
										var nextFloatUp = float.set[key+1]
										
									</code></div>
								</td>
							</tr>
						</table>
						
						To define an unsigned float: <code>float&typecond[v>=0] unsignedFloatVariable</code>
					</td>
				</tr>
				<tr><td><span class=double></span></td>	
					<td>Like <span class=float></span> but double-precision. 
						
						<table class="definitionTable innerBorder">
							<tr><td>set</td>
								<td>The list of numbers definable in a double, from smallest to greatest.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr><td><span class=fra></span></td>	
					<td>Signed fraction. Represents all rational numbers. 
						Has the following methods:
							
						<table class="methodDefinitionTable innerBorder">
							<tr><td>parse</td>
								<td>string s</td>
								<td>Attempts to parse the string as a <b>real number in decimal format</b> and return the value. 
									Throws an error if the value isn't a real number in decimal format.
								</td>
							</tr>
							<tr><td>sci</td>
								<td>string s</td>
								<td>Attempts to parse the string as <b>scientific notation</b> or <b>engineering notation</b> and return the value.
									Throws an error if the value can't be parsed.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr><td><span class=string></span></td>	
					<td>Variables of this type hold a lima string. Has the following members:
						<table>
							<tr><td>chars</td>	
								<td>The list of every canonical character the system knows about.
									Characters that are equivalent are not both listed, one is chosen arbitrarily.
								</td>	
							</tr>
							<tr><td>codecs</td>	
								<td>The list of supported string encodings. 
								
									<p>	<code>string.codecs</code> has the following additional method:
										<table class="methodDefinitionTable innerBorder">
											<tr><td>add</td>
												<td>name chars</td>
												<td>Adds an encoding named <code>name</code>.
													<code>chars</code> is a list of all the characters that encoding can encode, 
														in LimaEncoding (string) form.
												</td>
											</tr>
										</table>
									</p>
									
									<h5><code>codec</code> objects</h5>
									
									<p>	<code>codec</code> objects have the following members:
											
										<table class="definitionTable innerBorder">
											<tr><td>name</td>
												<td>Unique canonical name for the encoding.
												</td>
											</tr>
											<tr><td>chars</td>
												<td>A list of all the characters that encoding can encode, 
														in LimaEncoding (string) form.
												</td>
											</tr>
											
											<tr><td>aliases</td>
												<td>List of aliases for this encoding.
													Does not include its canonical name.
													Adding aliases to this list will allow this encoding to be 
														accessible from <code>string.codecs</code> at that key.
													Adding an alias who's name is already in <code>string.codecs</code> 
														causes an exception.
												</td>
											</tr>
											
											<tr><td>transcoders</td>
												<td><p>	List of transcoders keyed by the canonical name of the encoding transcoded to.
														Only lists original transcoders, does not list deduced (chained) transcoders.
														Adding a transcoder allows it to be used (directly or chained) by other related encodings.
														Adding a transcoder can also change the <code>chars</code> list (of the encoding or others)
															to minimize the total number of characters in the system.
													</p>
													<p>	If an added transcoder conflicts with (contradicts) another added transcoder, and exception is thrown.
														If any character can be transcoded from LimaEncoding through any chain of transcoders and end up at 
															a different character, some transcoder conflicts with one or more other transcoders.
													</p>
												</td>
											</tr>
											
										</table>
									</p>
									
									<p>	<code>codec</code> objects have the following methods:
										<table class="methodDefinitionTable innerBorder">
											<tr><td>fits</td>
												<td>character</td>
												<td>Checks if the calling encoding can encode the passed character.
												</td>
											</tr>
											<tr><td>fits</td>
												<td>encoding</td>
												<td>Checks if the calling encoding can always be converted into the passed encoding 
														- if that encoding "fits into" the other one
														(if all characters can be converted from one to the other).
													<code>encodingA.fits[encodingB]</code> is the same as 
													<code>encodingA.chars.map[encodingB.fits[v]].join[v&v2]</code>
												</td>
											</tr>
											
											<tr><td>enc</td>
												<td>theString</td>
												<td><p>	Encodes <code>theString</code> into binary.
														Returns a <code>bits</code> object.
													</p>
													<p>	If a character in the string can't be encoded by this codec,
															it should call the function contained in the attribute <code>encodingFail</code>.
														<span class="encodingFail"></span>
														The <code>enc</code> method should *never* throw an exception when a character can't be encoded, 
															although <code>encodingFail</code> can decide to throw an exception.
													</p>
												</td>
											</tr>
											<tr><td>dec</td>
												<td>bitsObject</td>
												<td><p>	Decodes <code>bitsObject</code> into a string.
													</p>
													<p>	If a character in the string can't be encoded by this codec,
															it should call the function contained in the attribute <code>decodingFail</code>.
													</p>
												</td>
											</tr>
										</table>
									</p>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td><span class=type></span></td>	
					<td>Represents a variable type. 
						Things like templates in C++ or generics in Java would instead be made using variables of this type.
					</td>
				</tr>
				<tr><td><span class=attribute></span></td>	
					<td>An <span class=attribute></span>. 
					</td>
				</tr>
				<tr><td><span class=contin></span></td>	
					<td><p> A continuation - stores a code entry point that can be <span class=jump></span>ed to.  
							Like a jump-label in C.
							<table class="definitionTable innerBorder">
								<tr><td><span class=dotOperator></span></td>	
									<td>Creates a continuation named the name given after the dot.
									</td>
								</tr>
							</table> 
						</p>
						<p> See the section on <code>jump</code> for details. </p>
					</td>
				</tr>
				
			</table>
			
			<div class=subBox2 title="Parameterized Types">
				<p>	Parameterized types are functions that return a type.
				</p>
				<table class="definitionTable">
					<tr><td><span class=list></span></td>	
						<td><p>	Type that can only take a list (an object with consecutive integer keys starting from key 0).
								<div class=example><code>
									list x = {4 5 6}
								</code></div>
							</p>
							
							<table class="definitionTable">
								<tr><td><span class=dotOperator></span></td>	
									<td><p>	Returns a list type that can contain members of the type given after the dot.
											Arguments to it are <span class=pseudoMember>pseudoMembers</span>.
											If the type is contained in a variable, the variable name can be used.
											If you want to create a type with an expression, you need to surround it by parens.
											<div class=example><code>
												list.int x = {4 5 6}
												list.(int$string) = {5 6 'hi'}
											</code></div>
												
											<span class="copiedNote dotOperatorWithTypeParameter">	
												Note that when a type is passed into list via the dot operator, 
													it does not need to be appended with the reference access operator (~).
											</span>
										</p>
										<p>	The resulting type also has a dot operator that can further specify the kinds of members the list can hold.
											<div class=example><code>
												list.list.int y = {{1 2} {5 9} {100 101}}
											</code></div>
										</p>
									</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr><td><span class=typeset></span></td>	
						<td>Creates a type from a set of values. 
							Variables defined as that type can only take on those values.
							<div class=example><code>
								typeset[0 1 2 3 4 5 6 7 8 9] digits ;; a type 'digits' that represents the values 0 through 9
							</code><div>
							
							All types created from <span class=typeset></span> have the memeber <code>set</code> that
								returns the set of values the type was created from.
						</td>
					</tr>
					<tr><td>typecond</td>	
						<td>Creates a type from a condition. 
							Has the implicitly-declared variable <code>v</code> representing the value to be tested 
								(for whether it's included in the type).
							<div class=example><code>
								typecond[v>0]	;; all values that are greater than 0 (or otherwise have that opration defined to be true)
							</code><div>
						</td>
					</tr>
				</table>
			</div>
					
		</div>
		
		<div class=subBox1 title="Objects">
			<table class="definitionTable">
				<tr><td><span class=false></span></td>	
					<td>An alias for 0, meant to represent boolean values.
						The only difference between <span class=false></span> and 0 is that 
							<span class=false></span>'s <code>str</code> method returns 'false' instead of '0'.
						<code>0</code> and <span class=false></span> compare as equal with <code>==</code>.
					</td>
				</tr>
				<tr><td><span class=true></span></td>	
					<td>An alias for 1, meant to represent boolean values.
						The only difference between <span class=true></span> and 1 is that 
							<span class=true></span>'s <code>str</code> method returns 'true' instead of '1'.
						<code>1</code> and <span class=true></span> compare as equal with <code>==</code>.
					</td>
				</tr>
				
				<tr><td><span class=nil></span></td>	
					<td>A reference to nothing. 
						This is not the same as the value 0. 
						Only nullable types (types with a question mark after them) can hold <span class=nil></span>.
						<span class=nil></span> is the only entity in Lima that is not an object - it can't have members.
					</td>
				</tr>
				
				
				<tr><td class=nearTop><span class=ref></span></td>	
					<td><p>	Object containing methods related to references.
							<span class=references></span>
						</p>
						
						<p class=example><code>	
							var x = 5
							var p ~> n
							
							wout[p]	;; prints 5
							p = 6	;; n is now 6
							
							var y = 90
							p ~> y	
							wout[p] ;; prints 90
						</code></p>
					
						<p>	Has the following operators:						
							<table class="definitionTable innerBorder">
								<tr><td><span class=postExclamationOperator></span></td>	
									<td>Returns a reference type that can reference anything except <code>nil</code>.
									</td>
								</tr>
								<tr><td>?</td>	
									<td>Returns a ref type that can also point to nil.
										<div class=example><code>
											ref?			;; reference to anything, including <code>nil</code>.
										</code></div>
									</td>
								</tr>
								<tr><td><span class=dotOperator></span></td>	
									<td><p>	Returns a reference type that can reference the type given after the dot.
											Arguments to it are <span class=pseudoMember>pseudoMembers</span>.
											If the type is contained in a variable, the variable name can be used.
											If you want to create a type with an expression, you need to surround it by parens.
											<div class=example><code>
												ref.int x           ;; reference to an integer
												ref.(int) y         ;; also a reference to an integer
												ref.(int$float)	z   ;; reference to an int or float
											</code></div>
											
											<span class=dotOperatorWithTypeParameter></span>
										</p>
										<p>	The resulting type also has a dot operator that can further specify the types the variable can point to.
											It also has the ? operator that can specify that its allowed to point to <code>nil</code>.
											<div class=example><code>
												ref.ref.int			;; reference to a reference to an integer
												ref.(ref.int)		;; same thing
												ref.int?			;; reference to an int or nil
											</code></div>
										</p>
									</td>
								</tr>
								<tr><td><span class=bracketOperator></span></td>	
									<td>Returns a value that, when copied, copies to a reference of the input value. 
										This can be useful for returning references from a function, creating lists of references, 
											and can be important in cases where function arguments are mutated and may be either
											references or non-references.
										<div class=example><code>
											var a = 5
											var b = 6
											var x ~> a		;; x points to a
											var y = ref[b]	;; y points to b
											var z = {ref[a] ref[b]}	;; z gets a list of references
											
											var func = fn one two three:
												one ~> b
												two = ref[b]
												ret ref[three]	;; returns a reference
													
											;; here, result gets a reference to a,
											;; x gets pointed to b instead of a, and
											;; z[0] doesn't change, but a gets pointed to b
											var result = func[x z[0] a]
										</code></div>
									</td>
								</tr>
							</table>
							
							<h4>Reference objects</h4>
							<p> Reference objects pass all accesses through to the object it points to, except for the following operators:
							</p>
							
							<table class="definitionTable innerBorder">
								
								<tr><td><span class="Rvalue"></span>~</td>
									<td><p>	Reference access operator. 
											An operator that accesses a reference itself, as opposed to as what it points to 
												(what usually happens).
											You would use this to return a reference from a function, 
												put a reference into an object immediate, or point one reference to another.
											<div class=example><code>
											X = fn:
												int r=5
												ref! x
												x ~> r	;; x points to r
												
												var A = {reference: x~} ;; an object that contains a reference
												wout[A.reference] 		;; outputs 5
												ret A.reference~ 		;; returns the reference to r
											</code></div>
										</p>
										<p> The more <code>~</code>'s in the operator, the farther down in to the reference chain it accesses.
											<div class=example>
												<code>x~~</code> would access the reference x points to (like *ptr in C). 
												<code>x~~~</code> would mean to use the reference that the reference x points to, points to (like **ptr in C), etc. 
												More examples:
												<div class=example>	
													<code>
														int: r=5 t=36
														ref!: x y
														x ~> r	;; x points to r
														y ~> x~ ;; y points to x
														y ~~> t ;; x is repointed to t
														var A = {x~ y~ y~~}	;; A is a list that contains the three references (x, y, and x again [what y points to])
														ret A[1]~~	;; returns the reference to t (y holds a reference to a reference to t)
													</code>
												</div>
											</div>
										</p>
										
										<p>	This is also used to indicate that you want to use an <span class=attribute></span> or <span class=custom>custom function</span> 
												rather than call it on the proceding code. 
											For example,
											<div><code>
											{int~ float~ var~} 	;; building an object that contains type attributes
											function[if~ df~]	;; passing the core custom functions <code>if</code> and <code>df</code> into a method
											</code></div>
										</p>
										<p>	Variables can be set to references, but as usual it creates a copy.
											<div class=example><code>
												var[x=5 y=6]
												var ptr ~> x
												var a = ptr~	;; a now also points to x, but it is a copy
												ptr ~> y		;; ptr points to y, but a still points to x
												wout['ptr: 'ptr', and a: 'a]	;; prints 'ptr: 6, y: 5'
											</code></div>
										</p>
										<p>	Using the ~ operator on an object that isn't a reference, 
												<span class=attribute></span>, or <span class=custom>custom function</span>
												returns the object itself (ie a no-op) except that it no longer has the ~ operator.
											This means that while <code>5~</code> is legal, <code>5~~</code> will throw an exception.
										</p>
									</td>
								</tr>
								<tr><td><span class="Lvalue"></span> ~> <span class="Rvalue"></span></td>
									<td><p>Sets the reference that a ref points to. 
											The number of tildes (~'s) tell you how "deep" the assigning goes. 
											<div class="example">
												<code>
												ref.ref.int a
												ref.int[b c]
												int[x y]
												b ~> x		;; b now points to x
												a ~> b		;; a now points to x (since b points to x)
												a ~~> y		;; this sets whatever a points to (i.e. b), to now point to y
												c ~> b~		;; c now points to what b points to (i.e. y).
												</code>
											</div>
										
											<span class=arrowOperatorChaining></span>
										</p>
										<p>	Note that multiple tildes in this operator works the same way as the unary ~ operator.
											<div class="example"><code>
												a ~~> b
												;; means the same as:
												a~ ~> b
												
												a ~~~> b
												;; means the same as:
												a~ ~~> b
												;; and
												a~~ ~> b
											</code></div>	
											
											Also note that <code>x~ = y~</code> is the same as <code>x ~> y~~</code> if x and y are both normal references.
										</p>
									</td>
								</tr>
							</table>
							
							
							<p class=example><code>	
								f = fn int x:
								  ret x+1
								g = fn int x:
								  x++
								h = fn ref.int x:
								  x++
								
								main = fn:
								  int i = 10
								  ref.int? p1
								  ref.ref.int p2
								
								  p1~		;; exception (p1 doesn't have a value yet)
								
								  p2 ~> p1 ;; type mismatch exception (p2 can't point to an int)
								  p2 ~> nil ;; type mismatch exception (p2 can't point to nil)
								  p2 ~> p1~
								  wout[p2] ;; undefined variable exception
								  p1 ~> nil
								  wout[p2] ;; type mismatch exception (p2 can't point to a reference containing nil)
								
								  p1 ~> i 
								
								  f[i] ;; returns 11
								  f[p1] ;; returns 11
								  f[p2] ;; returns 11
								 
								  g[i] ;; i is now 11
								  g[p1] ;; i is now 12
								  g[p2] ;; i is now 13
								 
								  h[i] ;; type mismatch exception (h doesn't take an int value)
								  h[p1] ;; type mismatch exception (h doesn't take an int value)
								  h[p2] ;; type mismatch exception (h doesn't take an int value)
								 
								  h[p1~] ;; i is now 14
								  h[p2~] ;; type mismatch exception (h doesn't take a ref.ref.int value)
								  h[p2~~] ;; i is now 15
							</code></p>
						</p>
					</td>
				</tr>
				
				
				<tr><td class=nearTop><span class=rand></span></td>
					<td><h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>set</span></td>
								<td>Returns a random value in the set using a random number generator chosen by default criteria.
									Returns the same distribution of values the following generator would return:
									<div><code>
										rand.generator[fn properties:
											
											var p = properties[10'000] ;; indicates that the probability maps should be consistent for data-set ranging from 1 byte to 10 thousand bytes long
											
											ret p.entropy[[k>.99]] > .99               ;; hard to guess values
												& p.mean[[k<.5]]-p.mean[[k>=.5]] < .05 ;; relatively symmetric averages
												& p.chiSquare[[0.8<k<1.2]] > .95       ;; reasonable normalized chiSquare values
												& properties.cycleLen > 10^6           ;; long cycle length
												& properties.seedable
										]											
									</code></div>
								</td>
							</tr>
							<tr><td>generator</td>
								<td><span class=word>accept</span> </td>	
								<td><p>	Returns a random-number generator with specific properties described by the arguments.
										<span class=word>seedable</span> is a boolean value describing whether the random number generator needs to be seedable (default is true).
										<span class=word>accept</span> is a function that should return true if a 
											random-number generator's attributes meets it's requirements.
										<span class=word>accept</span> takes one parameter of the same form that <code>rand.addGenerator</code> takes.
									</p>
									
									<p> The random-number generator that <code>rand</code> returns has the following method:
										<table class="methodDefinitionTable innerBorder">
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>set</span></td>	
												<td>Returns a random value from the list <span class=word>set</span>.
													<span class=word>set</span> may not be an infinite list. 
												</td>
											</tr>
										</table>
						
										<h5>Members:</h5>
										<table class="definitionTable innerBorder">
											<tr><td>seed</td>	
												<td>The seed used to seed the random number generator. It is a const variable (after being set once). 
													If rand's bracket operator is used before rand.seed is set, it will be seeded automatically 
														by the selected random number generator. 
													Setting the random seed really should only be used for debugging purposes.
													This member only exists for random number generators that are reproducible. 
												</td>
											</tr>
										</table>
									
									</p>
									
									<div class=example><code>
										rand[1..800]	;; returns a random value between 1 and 800.
										
										;; does the same thing, but ensures that the random number generator used
										;; doesn't restart its cycle until after 9 million numbers have been generated,
										;; and at least 99.5% of the time has a normalized entropy of greater than .99
										;; for generated data with a length less than or equal to 1000 bytes.
										rand.generator[fn properties:
											if properties[1000].entropy[[k>0.99]] > .995
											   & properties.cycleLen[[k>10^9]] == 1:
												ret true
											 else
											 	ret false
										][1..800]
									</code></div>
								</td>
							</tr>
							<tr><td>addGenerator</td>
								<td><span class=word>name</span> <span class=word>properties</span></td>
								<td>Adds a random-number generator named <span class=word>name</span> to the list of available generators.
									<span class=word>properties</span> describes the properties of the generator and has the following members
											and operators:
									
									<h5>Members:</h5>
									<table class="definitionTable innerBorder">
										<tr><td>cycleLen</td>
											<td>A probaility map for how many numbers it generates before its pattern repeats</td>
										</tr>
										<tr><td>seedable</td>
											<td>True if the random-number generator is seedable, false if not.
											</td>
										</tr>
									</table>
									
									<h5>Operators:</h5>
									<table class="methodDefinitionTable innerBorder">
										<tr><td><span class=bracketOperator></span></td>
											<td><span class=word>sequenceLength</span></td>
											<td>Returns an object containing attributes of a particular random number generator.
												Each member is a probability map, mapping a particular measurement to its probability, 
													that is consistent for all byte-sequences generated by the random-number generator 
													with lengths less than or equal to <span class=word>sequenceLength</span>.
												The members are:
																
												<ul><li><span class=word>cycleLen</span> - how many numbers it generates before its pattern starts over again</li>
													<li><span class=word>entropy</span> in entropy per bit (a value between 0 and 1) 
														- describes how easy it is to guess any given generated value.
													</li>
													<li><span class=word>chiSquare</span> - the normalized Chi-square value (Chi-square per degree of freedom)</li>
													<li><span class=word>mean</span> - the arithmetic mean of the bits generated normalized by dividing by the number of bits (so that the value is between 0 and 1).</li>
													<li><span class=word>monteCarlo</span> - the arithmetic mean normalized by dividing by the number of bits .</li>
													<li><span class=word>serialCorrelation</span> - the serial correlation coefficient (a value between 0 and 1).
														Roughly describes the extent to which each value depends on the previous value.
													</li>
													<li><span class=word>kComplexity</span> - the Kolmogorov complexity divided by the number of bits (also a value between 0 and 1).
														Roughly describes how compressible generated values are.
													</li>
												</ul>
											</td>
										</tr>
									</table>
									
									See <a href="http://www.fourmilab.ch/random/">http://www.fourmilab.ch/random/</a> for more info on randomness tests.
								</td>
							</tr>
						</table>
						
						<h5>Members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>generators</td>	
								<td>Pseudo member that returns a list of available random number generators, keyed by name.
									The list can't be directly modified (its modified through <code>addGenerator</code>).
									The values associated with those keys are objects - containing properties of the random-number generator
										 - of the same form that <code>rand.addGenerator</code> 
										takes as an argument.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr><td><span class=arb></span></td>
					<td><p>	Similar to rand, arb indicates that a list of values that may be returned. 
							Like the concept of a don't-care in digital logic design, the compiler will attempt to use values in the list that optimize the program's speed or memory usage. 
						</p>
						<p>	Arb indicates that the programmer doesn't care which value is chosen - ie. it is arbitrary as far as the programmer is concerned. 
							This might be used for example when you want to obtain one item out of a list being used as a set, but don't care which one it is. 
							You could ask for the first <span class=element></span> of the set, 
								but if you don't need that one specifically, you should ask for an arbitrary one: arb[aSet].
						</p> 
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=list></span></td>	
								<td>Returns an arbitrary value that is in the <span class=list></span>.
								</td>
							</tr>
						</table>
					</td>
				</tr>		
				
				<tr><td><span class=compiler></span></td>
					<td>Has the members:						
						<table class="definitionTable innerBorder">
							<tr><td>file</td>	
								<td>Name of the file the currently running line of code originated.</td>
							</tr>
							<tr><td>line</td>	
								<td>Line number of the line of code in the original source file.</td>
							</tr>
							<tr><td>character</td>	
								<td>Character at which the current statment started in the original source file.
									If the currently running line has more than one statement, 
									this would identify which statement by its starting position.
								</td>
							</tr>
							<tr><td>pid</td>	
								<td>Process ID of the program.</td>
							</tr>
							<tr><td>time</td>	
								<td>Time the program compiled (or began running for purely interpreted programs).</td>
							</tr>
							<tr><td>vendor</td>	
								<td>Name of the maker of the compiler or interpreter.</td>
							</tr>
							<tr><td>version</td>	
								<td>Version of the compiler or interpreter</td>
							</tr>
						</table>
					</td>
				</tr>
						
				
				<tr><td><span class=file></span></td>
					<td>Object containing methods for dealing with files.
						Uses the same encoding as <code>dir.enc</code>
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>filePath</span> <span class=word>encoding</span></td>
								<td><p>	Opens the file that has the given path.
										<span class=word>filePath</span> should be a native path string.
										The bracket-operator will concatenate any path parts passed (just like <code>wout</code>).
										It is opened for reading and/or writing (depending on how the program will use the file).
									</p>	
									<p> <span class=word>encoding</span> should be the string-name of the encoding.
										If <span class=word>encoding</span> is not passed, this will use the string at metadata key 
											"fileEncoding" as the encoding, if available.
										If not available for whatever reason, an exception will be thrown.
										In practice, this means the encoding almost always needs to be passed, since most files do not have that metadata.
										Files that are created with this will have the metadata key "fileEncoding" set,
											if the filesystem supports it.
									</p>
									<p>	Returns a <code>file!</code> object representing the string inside the file (the raw characters, without OS specific conversions).
										The file can be written to as if it was a <span class=listobj></span> and has all the methods and operators a normal list-object has.
										Can throw some errors, including: "unable to write", and "unable to overwrite", and "unable to open".
									</p>
									
									<h5>The returned object contains the following pseudo-members:</h5>
									<table class="definitionTable innerBorder">
										<tr><td>close</td>	
											<td>This closes the file. Attempting to read from or write to the file will reopen it.
											</td>
										</tr>
										<tr><td>rm</td>	
											<td>This deletes the file.
											</td>
										</tr>
										<tr><td>flush</td>	
											<td>This flushes the buffer for the file.
											</td>
										</tr>
										<tr><td>meta</td>	
											<td>This is a associative array that allows access to the file's metadata.
												If the filesystem for this file does not support metadata, this will be nil.
											</td>
										</tr>
									</table>
									
									<h5>The returned object contains the following methods:</h5>
									<table class="methodDefinitionTable innerBorder">
										<tr><td>move</td>
											<td>stringPath</td>	
											<td>Renames/moves the file to the new path and name.
											</td>
										</tr>
									</table>
									
								</td>
							</tr>
							<tr><td><span class=postExclamationOperator></span></td>	
								<td></td>	
								<td>Returns a type that can only take on a file - an object returned by this object's bracket operator described above.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td><span class=dir></span></td>	
					<td>Object with methods for dealing with directories in the filesystem. 
						
						Methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>pathString</span></td>	
								<td>Returns a directory literal. 
									<span class=word>pathString</span> contains the relative or absolute path.
									
									<h5>The returned object contains the following pseudo-members:</h5>
									<table class="definitionTable innerBorder">
										<tr><td>dirs</td>	
											<td>A list of child directories keyed by their names.
											</td>
										</tr>
										<tr><td>files</td>	
											<td>A list of files in the directory keyed by their names.
											</td>
										</tr>
										<tr><td>up</td>	
											<td>Returns the directory above it if it isn't the root.
												Returns nil if it is the root.
											</td>
										</tr>
										<tr><td>rm</td>	
											<td>Deletes the current directory and any containing files and folders.
											</td>
										</tr>
										<tr><td>str</td>	
											<td>Its to-string method, prints the directory path.
											</td>
										</tr>
									</table>
									
									<h5>The returned object contains the following methods:</h5>
									<table class="methodDefinitionTable innerBorder">
										<tr><td>move</td>
											<td>stringPath</td>	
											<td>Renames/moves the directory to the new relative or absolute path.
												Will throw an exception if something already exists at that path.
											</td>
										</tr>
										<tr><td>make</td>
											<td>stringPath</td>	
											<td>Makes and returns a new directory with the given relative or absolute path.
												Will create new directories if parts of the path don't exist.
												Will throw an exception if something already exists at that path.
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table> 
						
						Members and unary operators:
						<table class="definitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>	
								<td>Returns a type which constrains an object to only take on a directory.
								</td>
							</tr>
							<tr><td>cur</td>	
								<td>A <span class=dir></span> representing the current working directory of the program.
								</td>
							</tr>
							<tr><td>home</td>	
								<td>A <span class=dir></span> representing the directory the executable lives in.
								</td>
							</tr>
							<tr><td>enc</td>	
								<td>The encoding used by the filesystem (how it stores filenames, etc).
								</td>
							</tr>
						</table> 
					</td>
				</tr>
				
				<tr><td>con</td>	
					<td>Represents the console. 
						Reading from this reads from stdin (standard console input), and writing to this writes to stdout (standard console output).
						<div class=example><code>
							con.in.cut[[k<10]]         ;; reads and removes 10 charactes from stdin
							con.out.cat[="some text"]  ;; writes "some text" to stdout
						</code></div>
						
						Lima's lazy operations mean that you don't need have obtained all the input to check things about it.
						For example, this only needs to wait until one character (or the end-of-file) comes in:
							<code>con.in.len > 0 $ con.in.len != 0</code>. 
						
						<h5>Additional members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>in</td>	
								<td>An object representing stdin (console standard input). 
									This can be modified like any list, though normally the modification is
										removing characters off the front rather than adding or changing characters.
								</td>
							</tr>
							<tr><td>out</td>	
								<td>An object representing std (console standard output).
									<span class="copiedNote outputLists">
										This object can only be appended to - characters, once written, can't be changed
											or removed.
										Also, creating values at keys that are not the next position in the list cause an exception.
									</span>
								</td>
							</tr>
							<tr><td>err</td>	
								<td>An object representing stderr (console error output).
									<span class="outputLists"></span>
								</td>
							</tr>
							<tr><td>enc</td>	
								<td>Returns a string containing the standard name of the encoding used by the console.
								</td>
							</tr>
						</table>
							
						<h5>Additional Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>cr</td>	<td></td>	
								<td>A "real carriage return" (returns to the beginning of the line).
								</td>
							</tr>
							<tr><td>bs</td>	<td></td>	
								<td>Backspace. 
									Note that the affect of this function depends on the state of the console.
									For example, you can't usually backspace a newling when writing to the console.
								</td>
							</tr>
						</table>
						
						<p>	Lima doesn't support non-printable characters in strings. 
							A carriage return that returns to the begginning of the current line only makes sense 
								in cases with the concept of a cursor, and doesn't apply in most cases.
							Vertical tabs are also non-printable (and generally useless).
						</p>
					</td>
				</tr>
				
				<tr><td>system</td>	
					<td>Methods for making system calls. 
						The encoding used for this is the same as <code>con.enc</code>.
					
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>executablePath</span> <span class=word>args</span> <span class=word>input</span> 
									<span class=word>cwd</span> <span class=word>env</span>
								</td>	
								<td><p>	Starts a process, who's path or name are held in <span class=word>executablePath</span>,
											with the command-line arguments <span class=word>args</span>, held in a list of strings. 
										<span class=word>input</span> (optional) is the stdin input piped into the process.
										<span class=word>cwd</span> (optional) sets the current working-directory for the new process,
										 	the default is the directory it lives in.
										<span class=word>env</span> (also optional) sets the environment variables for the new process.
									</p>
									<p>	Upon completion of the process, an object like the following is returned:
											<code>{out: stdoutOutput  err: stderrOutput  status: statusCode}</code>.
										While it runs, it may also mutate the <span class=word>input</span> string while it consumes input.
									</p>							
								</td>
							</tr>
							<tr><td>raw</td>
								<td><span class=Rvalue>systemCommand</span></td>	
								<td>Executes the <span class=Rvalue>systemCommand</span> string as a raw system call.
								</td>
							</tr>
						</table>
					</td>
				</tr>
			
				
				<tr><td class=nearTop>equation</td>
					<td>An object that has methods for representing equations.
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>equation</code> objects.
									<div class=example><code>
										equation! a
										equation! b = equation[x y: x^2 = 3*y]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td>expression</td>	
								<td><p>	Creates an <code>equation</code> object. 
										The expression uses normal lima syntax.
										You must declare the symbols (equation variables) the equation uses before a colon.
										These symbols can be declared with types (in order to specify the range of operations, functions, and methods available to a symbol).
										<div class=example><code>
											var a = equation x y z: 50*y + z= 2*x + 5
											var b = equation[int[n] list.int[x y]: n*(x dot y)) = 0]
										</code></div>
									</p>
									<p>	Systems of equations can be created using multiple sets of typed symbols.
										<div class=example><code>
											var b = equation 
											 int n typeset[1..9] x: 
												n*x == 5
											 int n typeset[10..20] x:
												n*x == 10
										</code></div>
									</p>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				
				<tr><td class=nearTop>shape</td>
					<td>An object that has methods for representing and operating on shapes of any kind 
							including volumes, areas, lines, and points.
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>shape</code> objects.
									<div class=example><code>
										shape! a = shape[3 4]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>coordinate1</span> <span class=word>coordinate2</span> <span class=word>coordinate3</span> <span class=more>coordinates</span></td>	
								<td>Creates a <code>shape</code> object representing a point in n-dimensional space. 
									Any number of coordinates can be used; coordinates default to 0 when unspecified.
									<div class=example><code>
										var a = shape[1 4 0 6] 
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>coordinateList1</span> <span class=word>coordinateList2</span> <span class=more>coordinateLists</span></td>	
								<td>Creates an <code>shape</code> object representing a line-segment, surface, or other n-dimensional shape. 
									Every point on the surface of any line connecting two sets of coordinates is included in the <code>shape</code>, 
										as is any point contained within the closed object created that way.
									<div class=example><code>
										var a = shape[{1 4 0 6} {1 4 0 9}]                     ;; a line-segment
										var b = shape[{1 4 0 6} {1 4 0 9} {0 4 3 9}]           ;; a area/surface made from 3 points
										var c = shape[{1 4 0 6} {1 4 0 9} {0 4 3 9} {1 4 3 6}] ;; a volume made from 4 points
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>equation</span></td>	
								<td>Creates an <code>shape</code> object represented by the equation. 
									<div class=example><code>
										var a = shape[equation[a b: a=b*5]]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>shape1</span> <span class=word>shape2</span></td>	
								<td>Creates an <code>shape</code> object created from two regions where all the space 
										between the regions is filled in, just like in the bracket-operator with coordinate-lists.
									<div class=example><code>
										var a = shape[ shape[{1 4 0 6}]  shape[{1 4 0 9}] ]        ;; a line-segment
										var b = shape[ shape[{0 0} {1 2}]  shape[{3 0} {2 2}] ]    ;; a trapezoid
									</code></div>
								</td>
							</tr>
						</table>
						
						<h5><code>shape</code> objects have the following binary operators:</h5>
						<table class="definitionTable innerBorder">
							
							<tr><td><span class="Rvalue">a</span> & <span class="Rvalue">b</span></td>
								<td>Set conjunction. 
									Returns a <code>shape</code> that contains the regions that exist in both 
										<span class="Rvalue">a</span> and <span class="Rvalue">b</span>.
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> $ <span class="Rvalue">b</span></td>
								<td>Set union (disjunction). 
									Returns a <code>shape</code> that contains the regions that exist in 
										either <span class="Rvalue">a</span> and <span class="Rvalue">b</span> or both. 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> !$ <span class="Rvalue">b</span></td>
								<td>Set exclusive disjunction. 
									Returns a <code>shape</code> that contains regions that exist in only 
										<span class="Rvalue">a</span> and regions that exist only in <span class="Rvalue">b</span> 
										but not regions that exist in both. 
								</td>
							</tr>
							
							<tr><td><span class="Rvalue">a</span> == <span class="Rvalue">b</span></td>
								<td>Equality. 
									Returns true if all the regions contained in <span class="Rvalue">a</span> are also contained in <span class="Rvalue">b</span>.
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> <> <span class="Rvalue">b</span></td>
								<td>Same as <code>==</code>
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> !<> <span class="Rvalue">b</span></td>
								<td>Same thing as <code>!(<span class="Rvalue">a</span> <> <span class="Rvalue">b</span>)</code>
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> < <span class="Rvalue">b</span></td>
								<td>Proper subset of <code>shape</code>s 
										(returns true if <span class="Rvalue">a</span> is a proper subset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> > <span class="Rvalue">b</span></td>
								<td>Proper superset of <code>shape</code>s
										(returns true if <span class="Rvalue">a</span> is a proper superset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> <= <span class="Rvalue">b</span></td>
								<td>Improper subset of <code>shape</code>s 
										(returns true if <span class="Rvalue">a</span> is an improper subset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
							<tr><td><span class="Rvalue">a</span> >= <span class="Rvalue">b</span></td>
								<td>Improper superset of <code>shape</code>s 
										(returns true if <span class="Rvalue">a</span> is an improper superset of <span class="Rvalue">b</span>). 
								</td>
							</tr>
			
						</table>
						
		
						<h5><code>shape</code> objects have the following methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>dist</td>
								<td><span class="word">otherShape</span></td>	
								<td>Returns a real number distance between the closest points from each shape.
									<div class=example><code>
										fra x = shape[3 1].distance[shape[1 1]]  ;; returns 2
									</code></div>
								</td>
							</tr>
						</table>
						
						<h5><code>shape</code> objects have the following members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>center</td>
								<td>Returns a shape's center point (as a <code>shape</code>).
								</td>
							</tr>
							<tr><td>regions</td>
								<td>Returns a list of regions where each region is continuous.
								</td>
							</tr>
							<tr><td>surface</td>
								<td>Returns a <code>shape</code> that describes only the surface of the object 
										(and gets rid of any region within that surface).
								</td>
							</tr>
						</table>
						
					</td>
				</tr>
				
				<tr><td class=nearTop>zone</td>
					<td>An object that has methods for representing a region of the world. 
						Coordinates used for this are latitude and longitude (latitude has first ordinality) and are expressed in degrees.
						The region is not required to be continuous.
						Inherits from <code>shape</code>.
						
						<h5>Additional members of <code>zone</code></h5>
						<table class="definitionTable innerBorder">
							<tr><td>own</td>	
								<td>Returns the default locale set on the computer, or nil if there is none.
								</td>
							</tr>
						
						
						<h5>Additional methods of <code>zone</code></h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>time</td>
								<td><span class="word">timezoneString</span> <span class="more">timezoneStrings</span></td>	
								<td>Returns a <code>zone</code> representing the region of the timezone named in 
										the parameters, each of which should be in <a href="http://en.wikipedia.org/wiki/Tz_database">Olson timezone format</a>.
									<div class=example><code>
										var z = zone.time["America/Los_Angeles" "America/New_York"]  ;; returns a zone containing both the PST and EST time zones.
									</code></div>
								</td>
							</tr>
							<tr><td>language</td>
								<td><span class="word">languageCode</span> <span class="more">languageCodes</span></td>	
								<td>Returns a <code>zone</code> representing the region where the languages given are official languages.
									The languages should be in <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php">ISO 639-2 format</a>.
									Throws an exception if a language doesn't exist.
									<div class=example><code>
										var z = zone.language["eng" "fre"]	;; the zones where english and french are official languages
									</code></div>
								</td>
							</tr>
							<tr><td>language</td>
								<td><span class="word">timeObject</span> <span class="word">languageCode</span> <span class="more">languageCodes</span></td>	
								<td>Just like the above except it takes into account the time given.
									<div class=example><code>
										var z = zone.language[time[-500-01-01] "eng"]	;; the regions where english was spoken at 500 BCE
									</code></div>
								</td>
							</tr>
							<tr><td>country</td>
								<td><span class="word">countryCode</span> <span class="more">countryCodes</span></td>	
								<td>Returns a <code>zone</code> representing the region where the countries given are (at the time the function is called).
									The countries should be in <a href="http://en.wikipedia.org/wiki/ISO_3166">ISO 3166 format</a>
										(all representations are accepted and case doesn't matter).
									Throws an exception if a country doesn't exist.
									<div class=example><code>
										var z = zone.country["arm" "cn"]	;; a zone containing the regions of China and Armenia
									</code></div>
								</td>
							</tr>
							<tr><td>country</td>
								<td><span class="word">timeObject</span> <span class="word">countryCode</span> <span class="more">countryCodes</span></td>	
								<td>Just like the above, except it takes into account the time given.
									<div class=example><code>
										var z = zone.country[time[-500-01-01] "arm" "cn"]	;; a zone containing the regions of China and Armenia
									</code></div>
								</td>
							</tr>
						</table>
						
						<h5>Additional members of <code>zone!</code> objects</h5>
						<table class="definitionTable innerBorder">
							<tr><td>timezones</td>
								<td>A list of tz database timezones intersecting the zone (in Olson timezone format).
								</td>
							</tr>
						</table>
						
						<h5>Additional methods of <code>zone!</code> objects</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td>languages</td>
								<td><span class="word">timeObject</span></td>
								<td>A list of langauges spoken within a zone in order of popularity 
										(how many people speak it) during a given time.
									<span class="copiedNote zoneObjectTime">If the time is omitted, the current time (when the method is called) is assumed.</span>
								</td>
							</tr>
							<tr><td>countries</td>
								<td><span class="word">timeObject</span></td>
								<td>A list of countries within a zone during a given time.
									<span class="zoneObjectTime"></span>
								</td>
							</tr>
							<tr><td>collations</td>
								<td><span class="word">timeObject</span></td>
								<td>A list of collations within a zone during a given time.
									<span class="zoneObjectTime"></span>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				
				<tr><td class=nearTop><span class=time></span></td>
					<td>An object that has methods for representing and operating on date and time.
						The internal representation is intended to be continuous and unambiguous 
							(without oddities introduced by time zones, daylight savings time, or leap-seconds).
						The unambiguous internal representation can, of course, be converted to any time format.
					
						<h5>Pseudo-members:</h5>
						<table class="definitionTable innerBorder">
							<tr><td>now</td>	
								<td>Returns a time object representing the current time.
								</td>
							</tr>
							<tr><td>cpuTime</td>	
								<td>The cpu time as a real-number of seconds. 
									There is no requirement that the number represent a distance from any particular time or date, 
										only that it be consistent - 
										so its really only good for measuring time differences.
									This would be used in cases where the absolute time might not be available to the machine.
								</td>
							</tr>
							<tr><td>resolution</td>	
								<td>The real-number of seconds between "ticks" 
									(between value changes of the clock - ie values of <code>now</code> and <span class=cpuTime></span>).
								</td>
							</tr>
							<tr><td>accuracy</td>	
								<td>A probability map describing how accurate the clock is likely to be at the moment this member is accessed.
									The object maps the likely difference, in seconds, to its probability (value from 0 to 1).
									<div class=example><code>
										;; if there's at least a 90% likelyhood the absolute deviation is less than half a second
										if time.accuracy[[-.5<k.5]] < .9:   
											resyncClock[]   ;; made up function that might resync the clock from the internet
									</code></div>
								</td>
							</tr>
							
							<tr><td>tai</td>	<td>Same thing as <code>time.ts['tai']</code>.</td></tr>
							<tr><td>utc</td>	<td>Same thing as <code>time.ts['utc']</code>.</td></tr>
							<tr><td>unix</td>	<td>Same thing as <code>time.ts['unix']</code>.</td></tr>
							<tr><td>tdb</td>	<td>Same thing as <code>time.ts['tdb']</code>.</td></tr>
						</table>
					
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>time</code> objects.
									<div class=example><code>
										time! t = time[2012/04/04 3:00']
									</code></div>
								</td>
							</tr>
							<tr><td>ts</td>
								<td><span class=word>timeStandardCodename</span></td>	
								<td>Returns an object with methods for handling dates for a particular <a href="http://en.wikipedia.org/wiki/Time_standard">time standard</a>.
									A list of time-standards is below this section.
									When used with this method, the time standard names are case insensitive.
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td></td>	
								<td>The same bracket operator <code>time.ts['tai']</code> has.
								</td>
							</tr>
							<tr><td>p</td>
								<td><span class=word>pattern</span></td>	
								<td><p>	Custom function that creates a time-pattern that can be used to both parse and format time objects.
										Keywords and strings are concatenated to describe the pattern.
										The <code>$</code> operator can be used to indicate that more than one pattern can be used.
										Parts that are surrounded by parentheses are optional (the whole thing in parens should match, or none of it).
										Expressions with parens are nestable.
										<div class=example><code>
											time.p[M ' - ' d]             ;; parses something like "April - 2"
											time.p[h ':' min (':' s)]     ;; can parse both "8:30" and "8:45:20"
											time.p[h (':') min ((':') s)] ;; can also parse "830", "8:4520", "845:30", and "84520"
											time.p[M '-'$' - ' d]         ;; can parse both "April-2" and "April - 2"
											time.p[h$hp ':' min]          ;; can parse both "8:30" and "08:30"
										</code></div>
									</p>
									<p>	To use the value of an expression inside <code>time.p</code>, 
											prefix the expression with the <code>@</code> sign.
										Time patterns can be used with this method as well as stringable values.
										<div class=example><code>
											var x = ":"
											var timeOfDay = time.p[h @x min @cat["|"x"|"] s]
											time.p[y'.'m'.'d' ' @timeOfDay]	;; matches '2000.04.03 3:05|:|00'
										</code></div>
									</p>
									<p>	Any keyword can also be explitly set with the equals sign.
										If such an assignment is done, that keyword is ignored when parsing
										<div class=example><code>
											time['20:00' time.p[M='April' h min] ]
										</code></div>
									</p>
									<p>	The available keywords and their meanings depend on the particular time-standard being used.
									</p>
								</td>
							</tr>
							<tr><td>addSimilar</td>
								<td>originalStandard newStandard convertTo convertFrom</td>	
								<td>Adds a time standard named <code>newStandard</code>based on <code>originalStandard</code>.
									The new time-standard and the result of a <code>timeObject</code>s' <code>ts</code>
										method for the new standard will have all the same members and methods as the <code>originalStandard</code>.
								</td>
							</tr>
							<tr><td>add</td>
								<td>name staticMembers standardObject</td>	
								<td>Adds a time standard from scratch, named <code>name</code>.
									<code>staticMembers</code> should be an object containing the members you'll get when you access
										 <code>time.ts[name]</code>.
									<code>standardObject</code> should be a function that takes a <code>time!</code> object and 
										returns the object you'll get when you access <code>timeObject.ts[name]</code>.
								</td>
							</tr>
						</table>						
						
						<h4>Time objects</h4>
						<p>	Time objects represent a non-ambiguous date and time. 
							Time objects do not carry information about any particular location or zone, 
								they represent the absolute time.
							A time-object can be converted to any representation, even ambiguous representations, for any zone or area.
						</p>
						
						<code>time</code> objects have the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>format</td>
								<td><span class=word>timePattern</span> <span class=word>timeZone</span> <span class=word>translator</span></td>	
								<td>The same format method <code>timeObject.ts['tai']</code> has.
								</td>
							</tr>
							<tr><td>ts</td>
								<td><span class=word>timeStandardCodename</span></td>	
								<td>Returns an object with methods for creating modified time objects from the current one related to the given time-standard. 
								</td>
							</tr>
						</table>	
						
						<code>time</code> objects have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>tai</td>	<td>Same thing as <code>timeObject.ts['tai']</code>.</td></tr>
							<tr><td>utc</td>	<td>Same thing as <code>timeObject.ts['utc']</code>.</td></tr>
							<tr><td>st</td>		<td>Same thing as <code>timeObject.ts['st']</code>.</td></tr>
							<tr><td>unix</td>	<td>Same thing as <code>timeObject.ts['unix']</code>.</td></tr>
							<tr><td>tdb</td>	<td>Same thing as <code>timeObject.ts['tdb']</code>.</td></tr>
						</table>			
						
						<code>time</code> objects have the following binary operators:
						<table class="definitionTable innerBorder">
							<tr><td><span class=word>a</span> - <span class=word>b</span></td>	
								<td>Subtraction of times.
									<div class=example style="display:inline-block;"><code>
										time[2012/04/05 20:00] - time[3:00] ;; returns an object equal to time[2012/04/05 17:00]
									</code></div>
								</td>
							</tr>
							
							<tr><td><span class=word>a</span> < <span class=word>b</span></td>	
								<td>Time less than. 
									<div class=example style="display:inline-block;"><code>
										time[2012/04/05] < time[2012/04/01] ;; returns false
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> <= <span class=word>b</span></td>	
								<td>Time less than or equal to.
								</td>
							</tr>
							<tr><td><span class=word>a</span> > <span class=word>b</span></td>	
								<td>Time greater than. 
									<div class=example style="display:inline-block;"><code>
										time[2012/04/05] > time[2012/04/01] ;; returns true
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> >= <span class=word>b</span></td>	
								<td>Time greater than or equal to.
								</td>
							</tr>
							
						</table>
												
						
						<h4>Time standards</h4>
						<p> Time standards in Lima include both a proper time-standard (a definition of a second under various circumstances)
								and a calendar standard.
							A particular time standard will have different but similar methods for parsing dates
							
							Standards should usually have a default pattern so the pattern need not be more fully specified,
								but some standards have the ability to further define a particular date pattern.
							
							<table class="definitionTable innerBorder">
								<tr><td class=nearTop>TAI</td>
									<td> International Atomic Time (TAI) is a coordinate time standard. 
										
										<h4>Members available to <code>time.ts['tai']</code></h4>
										<table class="definitionTable innerBorder">	
											<tr><td>years</td>
												<td>A set of dates each representing the beggining of a year in TAI in ascending order.
													
													<div class=example><code>
														wout[time.tai.years[0]]   ;; prints "0001-01-01 00:00:00"
													
														df time.tai.years[[time[1999] < v < time[2020]]] y:
															wout["It was a dark and storymy night, in the year "y.tai.y"..../n"]
													</code></div>
												</td>
											</tr>
											<tr><td>months</td>
												<td>A set of dates each representing the beggining of a month in TAI in ascending order.
												</td>
											</tr>
											<tr><td>weeks</td>
												<td>A set of dates each representing the beggining of a week in TAI in ascending order.
													Days of the week start on monday.
													
													<div class=example><code>
														wout["Lets say all the days of the week. Together now:/n"]
														var someWeek = time.tai.weeks[0] 
														df (1..7).map[someWeek+ v*dur[/1]] v
															wout[v.tai.format[time.p["DW"]] "/n"]
													</code></div>
												</td>
											</tr>
											<tr><td>days</td>
												<td>A set of dates each representing the beggining of a day in TAI in ascending order.
												</td>
											</tr>
											<tr><td>hours</td>
												<td>A set of dates each representing the beggining of an hour in TAI in ascending order.
												</td>
											</tr>
											<tr><td>minutes</td>
												<td>A set of dates each representing the beggining of a minute in TAI in ascending order.
												</td>
											</tr>
											<tr><td>seconds</td>
												<td>A set of dates each representing the beggining of a second in TAI in ascending order.
												</td>
											</tr>
										</table>
										
										Note: In all the above members (years, months, weeks, days, hours, minutes, and seconds), 
											key 0 maps to the first of that time-unit starting in year 1 CE, and negative keys map to earlier time-units.
										
										<h4>Methods and operators available to <code>time.ts['tai']</code></h4>
										<table class="methodDefinitionTable innerBorder">											
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>dateString</span> <span class=word>timePattern</span> <span class=word>translator</span></td>	
												<td><p>	Returns a time object of the <span class=word>dateString</span> as parsed with <span class=word>timePattern</span>.
														If the string can't be parsed, an exception is thrown.
														If no pattern is passed in, the default pattern is <br>
															<code>time.p[(y('.'m$mp('.'d$dp))) (h$hp':'min(':'sr)) (' 'era)]</code>.
														<span class=word>translator</span> (optional) is a function that takes in one of the english date-words and returns a word from another language.
														<div class=example><code>
															time.ts['TAI']["2012/06/04 15:00"]         ;; June 4th, 2012 at 3:00pm TAI
															time.ts['TAI']["20120604" time.p[ympdp]]   ;; June 4th, 2012 (at 0:00, ie 12:00am) TAI
															
															var translator = fn x:
																if x.lower=='april': ret 'shigatsu'
																else ret x
															time.ts['TAI']["20120403" time.p[ympdp] translator]   ;; shigatsu 4th, 2012 (at 0:00, ie 12:00am) TAI
														</code></div>
														
														Will throw a parse exception if the string can't be parsed properly.
													</p>
													<p> Will throw a contradictory-date exception if the string is parsed properly, 
															but certain redundant information is inconsistent.
														<div class=example><code>
															;; the following throws an exception, since April 3rd 2012 was a Tuesday
															time.ts['TAI']["Saturday, April 3, 2012" time.p[DW', 'M' 'd', 'y]]
														</code></div>
													</p>
													<span class="copiedNote timeStringFormat">
														<span class=word>timePattern</span> should be a value returned from <code>time.p</code>.
													</span>
												</td>
											</tr>
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>dateText</span></td>	
												<td>Like the bracket operator above, but instead of being passed a string, is instead passed literal text.
													Always uses the default for <span class=word>timePattern</span> 
														from the bracket operator with two parameters and doesn't use a translator.
													<div class=example><code>
														time.ts['TAI'][2012.06.04 15:00]     ;; June 4th, 2012 at 3:00pm TAI
													</code></div>
												</td>
											</tr>
										</table>
										
										<h4>Time pattern keywords available to <code>time.ts['tai']</code></h4>											
										<p>	The following keywords can be used in the <span class=word>pattern</span>.
											Keywords are either all uppercase or all lowercase.
											Uppercase keywords always describe a part of time as a word (e.g. 'April' or 'Saturday').
										</p>
										<table class="definitionTable innerBorder">
											<tr><td>era</td>	
												<td>The era (either 'CE' or 'BCE').
												</td>
											</tr>
											<tr><td>cent</td>	
												<td>The century (eg. time['1994'].cent would return 20)</td>
											</tr>
											<tr><td>y</td>	
												<td>The absolute value of the year (for use with era eg. "300 BCE").
												</td>
											</tr>
											<tr><td>yp</td>	
												<td>Shortened year or "year, pivoted" (eg. "96" instead of "1996").
													Must be accompanied by the <code>py</code> keyword.
												</td>
											</tr>
											<tr><td>py</td>	
												<td>Pivot year - two digit years of this number or lower are interpreted as in the current century.
													Two-digit years above this number are interpreted as in the previous century.
													<div class=example><code>
														;; usually, this should be explicitly set rather than matched in a formatted string
														time['04//03//50' time.p[py=50 mp'//'dp'//'yp]]	;; same as time[2050.4.3]
														time['04//03//51' time.p[py=50 mp'//'dp'//'yp]]	;; same as time[1951.4.3]
													</code></div>
												</td>
											</tr>
											<tr><td>dy</td>	
												<td>The numeric day of the year (e.g. 51 for time[1986/02/20])</td>
											</tr>
										</table>
										<br>	
										<table class="definitionTable innerBorder">
											<tr><td>m</td>	
												<td>The numeric month where 1 is Januray and 12 is December.</td>
											</tr>
											<tr><td>mp</td>	
												<td>The numeric month padded with 0 for months less than 10 (eg. 08 instead of 8).</td>
											</tr>
											<tr><td>M</td>	
												<td>The month as a word (eg. February).</td>
											</tr>
											<tr><td>MS</td>	
												<td>The month as an abbreviation (eg. Feb).</td>
											</tr>
											<tr><td>d</td>	
												<td>The numeric day of the month (eg. 20 for time[1993/04/20]).</td>
											</tr>
											<tr><td>dp</td>	
												<td>The numeric day of the month padded with 0 for days less than 10
													 (eg. 08 instead of 8).</td>
											</tr>
										</table>
										<br>
										<table class="definitionTable innerBorder">
											<tr><td>dw</td>	
												<td>The numeric day of the week where 1 is Monday and 7 is Sunday</td>
											</tr>
											<tr><td>DW</td>	
												<td>The day of the week as a word (eg. 'Tuesday')</td>
											</tr>
											<tr><td>DWS</td>	
												<td>The day of the week as a short word (eg. 'Tue')</td>
											</tr>
											
											<tr><td>h</td>	
												<td>Hour in 24-hour time (eg. 15 for 3:00 pm)</td>
											</tr>
											<tr><td>hp</td>	
												<td>Hour in 24-hour time padded with 0 for hours less than 10 (eg. 08 instead of 8).</td>
											</tr>
											<tr><td>hh</td>	
												<td>Hour in 12-hour time (eg. 3 for 3:00 pm)</td>
											</tr>
											<tr><td>hhp</td>	
												<td>Hour in 12-hour time padded with 0 for hours less than 10 (eg. 08 instead of 8).</td>
											</tr>
											<tr><td>MER</td>	
												<td>Meridian indicator (eg. "am").</td>
											</tr>
											<tr><td>min</td>	
												<td>Minute.</td>
											</tr>
											<tr><td>s</td>	
												<td>Integer second.</td>
											</tr>
											<tr><td>sr</td>	
												<td>Real number second, includes fractional seconds in the decimal of the number 
													(eg. "8:01:23.54").
												</td>
											</tr>
										</table>
										
										<h4>TAI members of time-objects: <code>timeObject.ts['tai']</code></h4>											
										
										<p>	Have the following members:
											
											<table class="definitionTable innerBorder">
												<tr>  <td>era</td> <td>The era as a string.</td>  </tr>
												<tr>  <td>y</td> <td>The number of years.</td>  </tr>
												<tr>  <td>m</td> <td>The number of months.</td>  </tr>
												<tr>  <td>d</td> <td>The number of days.</td>  </tr>
												<tr>  <td>h</td> <td>The number of hours.</td>  </tr>
												<tr>  <td>min</td> <td>The number of minutes.</td>  </tr>
												<tr>  <td>s</td> <td>The number of seconds, possibly fractional.</td>  </tr>
												
												<tr>  <td>time</td> <td>Returns a time object representing the (now possibly modified) tai time.</td>  </tr>
											</table>	
											
											The members <code>era</code>, <code>y</code>, <code>m</code>, <code>d</code>, <code>h</code>, 
												<code>min</code>, <code>s</code> can be modified, and modifying them mutates the tai object.
											Also, for the numeric members (all except <code>era</code>), 
												setting the member to a negative number will roll back that many extra time-units before the next highest time-unit, 
												and setting the member to a number greater than is allowed inside the next highest time-unit adds that many extra time-units.
											
											<div class=example><code>
												var x = time[2008/04/03 2:30:00].tai
												x.s -= 40    ;; x now represents time[2008/04/03 14:29:20]
												x.min += 100 ;; x now represents time[2008/04/03 15:09:20]
												x.y -=1      ;; x now represents time[2007/04/03 15:09:20]
												
												x.time		 ;; returns time[2007/04/03 15:09:20]
												
												;; note that subtracting a year as a duration is different from subtracting it as a part of a TAI time
												;; since things like leap years need to be taken into account
												var y = time[2008/04/03 3:09:20] - dur[1/] ;; time[2007/04/04 9:09:20]
											</code></div>
												
										</p>
										<p>	Has the following methods:
											
											<table class="methodDefinitionTable innerBorder">
												<tr><td>format</td>
													<td><span class=word>timePattern</span> <span class=word>translator</span></td>	
													<td>Returns a string representation of the time according to the <span class=word>stringFormat</span>.
														If no pattern is passed in, the default is <code>time.p[y'//'m'//'d' 'h':'min':'s' 'tz]</code>.
														<span class=word>translator</span> should be able to translate from the english forms of each non-numeric keyword
															(era M MS DW DWS MER).
														<div class="timeStringFormat"></div>
													</td>
												</tr>
											</table>
										</p>
									</td>
								</tr>
								<tr><td class=nearTop>st</td>
									<td>Standard Time. A locality specific time-standard.
										Has all the members and time-pattern keywords that time.ts['tai'] has, as well as the following additional ones: 
										
										<h4>Members available to <code>time.ts['tai']</code></h4>
										<table class="definitionTable innerBorder">	
											<tr><td>jumps</td>
												<td>A list of <code>time</code> objects each representing the time after a non-linear time jump (usually daylight-savings time jumps).
													The list is sorted by increasing time.
													<div class='example'><code>
														var nextTimeJump = time.st.jumps[[v>time.now]][0]
														
														var timeOneSecondBeforeJump = nextTimeJump
														timeOneSecondBeforeJump.st.s -= 1														
													</code></div>
												</td>
											</tr>
										</table>
									
										<h4>Methods and operators available to <code>time.ts['st']</code></h4>
										<table class="methodDefinitionTable innerBorder">											
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>dateString</span> <span class=word>timePattern</span> <span class=word>translator</span></td>	
												<td>Exactly like the bracket operator(s) of time.ts['tai'], except supports time-zones.
													If no time zone keyword is used to parse the string (tz, TZN, tzo, or tzom), UTC is assumed.
													If no pattern is passed in, the default pattern is <br>
														<code>time.p[(y('//'m$mp('//'d$dp))) (h$hp':'min(':'sr)(' 'tz))]</code>.
													
													<div class=example><code>
														time.ts['st']["2012//06//04 15:00"]            ;; June 4th, 2012 at 3:00pm UTC
														time.ts['st']["2012//06//04 15:00 America/Los_Angeles"]     ;; June 4th, 2012 at 3:00pm PST
														time.ts['st']["20120604" time.p[ympdp]]        ;; June 4th, 2012 (at 0:00, ie 12:00am) UTC 
														
														time.ts['st'][2012/06/04 15:00]     ;; June 4th, 2012 at 3:00pm UTC
														time.ts['st'][3:00]                 ;; 3 hours in to the common era (usually the meaning is as a duration of 3 hours)
													</code></div>
												</td>
											</tr>
										</table>
										
										<h4>Time pattern keywords available to <code>time.ts['st']</code></h4>	
										
										Has all the time-pattern keywords that <code>time.ts['tai']</code> has, with the following additions: 
										<table class="definitionTable innerBorder">
											<tr><td>tz</td>	
												<td>Time zone as a local time-zone id (eg. "America/Los_Angeles").</td>
											</tr>
											<tr><td>TZN</td>	
												<td>Time zone as a name (e.g. "Pacific Standard Time").</td>
											</tr>
											<tr><td>tzo</td>	
												<td>Time zone offset - whole number of hours offset from UTC, including sign (e.g. "-3" in "April 3 2401 8:00 Z-3:30").</td>
											</tr>
											<tr><td>tzop</td>	
												<td>Time zone offset, padded. (e.g. "-03" in "April 3 2401 8:00 Z-03:30").</td>
											</tr>
											<tr><td>tzom</td>	
												<td>Time zone offset minutes - whole number absolute value of minutes offset from UTC (e.g. "30" in "April 3 2401 8:00 Z-3:30").</td>
											</tr>
										</table>
										
										Note about time zones: time-zone abbreviations are non-standard and in some cases ambiguous, so Lima doesn't support them.
										
										<h4>UTC members of time-objects: <code>timeObject.ts['st']</code></h4>	
										
										Has all the members <code>timeObject.ts['tai']</code> has with the following addition:										
										<table class="definitionTable innerBorder">
											<tr>  <td>TZN</td> <td><span class=mutator></span> Time zone as a name.</td>  </tr>
										</table>
										
										<p> Has all the methods <code>timeObject.ts['tai']</code> has. 
											Note that any translater used should also be able to translate time zone names and abbreviations.
										</p>
										
										
										<p>	Has the following methods:
											
											<table class="methodDefinitionTable innerBorder">
												<tr><td>format</td>
													<td><span class=word>timePattern</span> <span class=word>timezone</span> <span class=word>translator</span></td>	
													<td>Just like the <code>format</code> methods for tai time-objects (<code>timeObject.tai</code>),
														except a timezone can be passed.
														If no <span class=word>timeZone</span> is passed in, the default is UTC. 
													</td>
												</tr>
											</table>
										</p>
										
									</td>
								</tr>
								<tr><td>UTC
										UT0 
										UT1 
										UT1R 
										UT2 
										UT2R
									</td>
									<td>Versions of Universal Time.
										These have all the same methods, operators, and time-pattern keywords time.ts['tai'] has.
									</td>
								</tr>
								<tr><td>GPS</td>
									<td>Global Positioning System Time
									</td>
								</tr>
								<tr><td>TT</td>
									<td>Terrestrial Time
									</td>
								</tr>
								<tr><td>TDB</td>
									<td>Barycentric Dynamical Time - a relativistic dynamical time.
									</td>
								</tr>
								<tr><td>UNIX</td>
									<td>Unix timestamp, the number of TAI seconds since Jan 1, 1970 00:00 UTC.
									
										<h4>Methods and operators available to <code>time.ts['unix']</code></h4>
										<table class="methodDefinitionTable innerBorder">											
											<tr><td><span class=bracketOperator></span></td>
												<td><span class=word>unixTimestamp</span></td>	
												<td>Returns a time object representing the time indicated by <span class=word>unixTimestamp</span>.
													<span class=word>unixTimestamp</span> must be a number (can be fractional).
													<div class=example><code>
														var x = int.parse[915148801.25]
														time.ts['unix'][x]               ;; 1999/01/01 00:00:33.25 TAI
														time.ts['unix'][1095379200]     ;; 2004/09/17 00:00:32 TAI
													</code></div>
												</td>
											</tr>
										</table>
									
										<h4>Members available to <code>timeObject.ts['unix']</code> for a given time-object</h4>
										<table class="definitionTable innerBorder">											
											<tr><td>stamp</td>	
												<td>Returns the unix timestamp as a number.
													<div class=example><code>
														var t = time.ts['unix'][1095379200.54]     ;; 2004/09/17 00:00:32.54 TAI
														t.ts['unix'].stamp	;; returns 1095379200.54
													</code></div>
												</td>
											</tr>										
											<tr><td>s</td>	
												<td>The integer timestamp rounded to the nearest second (standard unix timestamp).
													<div class=example><code>
														var t = time.ts['unix'][1095379200.54]     ;; 2004/09/17 00:00:32.54 TAI
														t.unix.s	;; returns 1095379200
													</code></div>
												</td>
											</tr>										
											<tr><td>ms</td>	
												<td>The integer timestamp rounded to the nearest millisecond.
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
							
							Note that when dealing with a date format with ambiguous dates for a particular time-standard, 
								the earliest possible time is assumed to be the one meant.
						</p>
					</td>
				</tr>
				
				<tr><td class=nearTop>dur</td>
					<td>An object that has methods for representing and operating on durations.
						Uses a constant definition for date parts:
						<ul><li>y: year = 365.25 days (A <a href="http://en.wikipedia.org/wiki/Julian_year_(astronomy)">Julian Year</a>) or 12 months</li>
							<li>m: month = 30.4375 days (Based on the Julian Year)</li>
							<li>week = 7 days (168 hours)</li>
							<li>d: day = 24 hours (86,400 seconds)</li>
							<li>h: hour = 60 minutes</li>
							<li>min: minute = 60 seconds</li>
							<li>s: second = an SI second</li>
						</ul>
						
						<h5>Methods:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=postExclamationOperator></span></td>
								<td></td>	
								<td>Returns a <code>type</code> that enforces variables to hold <code>dur</code> objects.
									<div class=example><code>
										dur! t = dur[3:00]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>duractionText</span></td>	
								<td>Returns a <code>dur</code> object of the <span class=word>duractionText</span> parsed as a duration.
									The pattern it parses off of is <br>
										<code>time.p[(y'//')$((y)'//'m('//'d))$('//'d) s$((h)':'min':'(s))$(h':'(min))]</code>.
									<div class=example><code>
										dur[15]        ;; 15 seconds
										dur[15.45]     ;; 15.45 seconds
										dur[150]       ;; 150 seconds
										dur[:15:0]     ;; 15 minutes
										dur[:15:]      ;; 15 minutes
										dur[15:0]      ;; 15 hours
										
										dur[-7:00]     ;; negative 7 hours
										dur[0:30.5]    ;; 30 minutes and a half (30 minutes and 30 seconds)
										dur[:30:29.56] ;; 30 minutes, 29 seconds, and 560 milliseconds
										
										dur[/5/1]      ;; 5 months and 1 day
										dur[23/9]      ;; 23 years and 9 months
										dur[10/]       ;; 10 years
										dur[-23/10/1]  ;; negative 23 years, 10 months, and 1 day	
										
										dur[5/1]       ;; 5 years and 1 month
										dur[2/8/23 3:00:00.05]      ;; 2 years, 8 months, 23 days, 3 hours, and 50 milliseconds
									</code></div>
									
									<p> dur["00"] is a special case indicating an infinite amount of time.
										Note that <code>dur[00].time == time[00]</code>.
									</p>
								</td>
							</tr>
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>duractionString</span></td>	
								<td>Like the bracket operator above, but instead of writing literal <span class=word>duractionText</span>, 
										a string is passed instead.
									Uses the same pattern from the bracket operator with the <span class=word>duractionText</span> parameter.
									If the string can't be parsed, an exception is thrown.
									<div class=example><code>
										dur["15:00"]
										dur[":30:29.56"]
										dur["-23//10//1"] ;; same as dur[-23/10/1]
									</code></div>
								</td>
							</tr>
						</table>
						
						
						
						<h4>Duration objects</h4>
						<p>	Duration objects represent a length of time.
						</p>
						
						<code>dur</code> objects have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>str</td>
								<td>The to-string member.
									The pattern output is: <code>time.p[y'//'m'//'d' 'h':'min':'sr]</code>
								</td>
							</tr>
							<tr><td>time</td>
								<td>Returns a time object created by adding this duration object to <code>time[1/1/1 0:00]</code> 
									(the begginning of the first second of the common era).
								</td>
							</tr>
						</table>
						
						<code>dur</code> objects have the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td><span class=word>timePatternKeywords</span></td>	
								<td>Returns an object that counts the time only in terms of the parts given in the <span class=word>timePatternKeywords</span>.
									<span class=word>timePatternKeywords</span> are similar to the input into <code>time.p</code>.
									The resulting object will have members (of the same name as the time pattern part) 
										representing the amount of time where, all added up, they equal the original duration.
									The smallest time unit can have a fractional value, all others will be integers.
									
									<div class=example><code>
										dur[15:00][d h s]	       ;; returns {d=0 h=15 s=0}
										dur[34 4:34:23.4][h min] ;; returns {h=820 min=34.39}
										
										var pattern = time.p[y'-'m'-'d]
										dur[3/4/20][@pattern]    ;; you can use time.p objects like that: returns {y=3 m=4 d=20}
									</code></div>
									
									<table class="definitionTable innerBorder">
										<tr>  <td>y</td> <td>The number of years.</td>  </tr>
										<tr>  <td>m</td> <td>The number of months.</td> </tr>
										<tr>  <td>w</td> <td>The number of weeks.</td>  </tr>
										<tr>  <td>d</td> <td>The number of days.</td>  </tr>
										
										<tr>  <td>h</td> <td>The number of hours.</td>  </tr>
										<tr>  <td>min</td> <td>The number of minutes.</td>  </tr>
										<tr>  <td>s</td> <td>The number of seconds.</td>  </tr>
									</table>
								</td>
							</tr>
						</table>				
						
						<code>dur</code> objects have the following binary operators:
						<table class="definitionTable innerBorder">
							<tr><td><span class=word>a</span> + <span class=word>b</span></td>	
								<td>Addition of durations, or addition of a time and a duration.
									<div class=example><code>
										time[2012.04.05 20:00] + dur[3:00]  ;; returns an object equal to time[2012/04/05 23:00]
										dur[3:00] + dur[..24]               ;; returns a dur object representing 24 days and 3 hours
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> - <span class=word>b</span></td>	
								<td>Subtraction of a duration.
									<div class=example><code>
										time[2012.04.05 20:00] - dur[3:00] ;; returns an object equal to time[2012/04/05 17:00]
										dur[..24] - dur[3:00]              ;; returns a dur object representing 23 days and 21 hours
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> * <span class=word>b</span></td>	
								<td>Duration multiplication. Multiplies a duration.
									One of the operands must be a <code>dur</code> object, and the other must be a number.
									<div class=example><code>
										3*dur[2:20]   ;; returns an object equal to dur[7:00]
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> / <span class=word>b</span></td>	
								<td>Duration division. Divides a duration.
									The first operand must be a <code>dur</code> object and the second must be a number.
									<div class=example><code>
										dur[1:00]/4   ;; returns an object equal to time[0:25]
									</code></div>
								</td>
							</tr>
							
							<tr><td><span class=word>a</span> < <span class=word>b</span></td>	
								<td>Less than comparison between durations. 
									<div class=example><code>
										dur[1:00] < dur[4:00] ;; returns true
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> <= <span class=word>b</span></td>	
								<td>Less than or equal to comparison between durations.
								</td>
							</tr>
							<tr><td><span class=word>a</span> > <span class=word>b</span></td>	
								<td>Greater than comparison between durations. 
									<div class=example><code>
										dur[1:00] > dur[4:00] ;; returns false
									</code></div>
								</td>
							</tr>
							<tr><td><span class=word>a</span> >= <span class=word>b</span></td>	
								<td>Greater than or equal to comparison between durations.
								</td>
							</tr>
							
							
						</table>
						
						<code>time</code> objects have the following unary operators:
						<table class="definitionTable innerBorder">
							<tr><td> -<span class=word>a</span></td>	
								<td>Negative. Returns the negative of the duration.
									<div class=example><code>
										-dur[1:00]          ;; returns negative 1 hour
										var x = dur[-2:00]  ;; negative 2 hours
										-x                  ;; 2 hours
									</code></div>
								</td>
							</tr>
						</table>
						
					</td>
				</tr>
				
				
				<tr><td class="nearTop">adr</td>	
					<td><p>	Handles facilities for IP addresses and ports. Has the following methods.
							<table class="methodDefinitionTable innerBorder">
								<tr><td><span class=bracketOperator></span></td>	
									<td>addressFormat</td>
									<td>Custom operator that creates an address including IP-address, port, and scope. 
										Takes in a few different formats that it detects automatically:
										<ul><li>IPv4 address or IPv6 address.</li>
											<li>Address plus port.</li>
											<li>Address plus port.</li>
											<li>Address, port, and scope id (only for ipv6 addresses, defaults to global scope if not given)</li>
											<li>String of one of the previous three formats</li>
											<li>adr object plus port (errors if adr object already has a port)</li>
											<li>string ip address plus port (errors if adr object already has a port)</li>
											<li>adr object, port, and scope (errors if adr object already has a port or scope)</li>
										</ul>
																				
										<div class=example><code>
											var address = adr[129.34.0.50]
											var fullAddress = adr[53.0.0.40:80]
											var ipv6Address = adr[2001:db8:85a3:8d3:1319:8a2e:370:7348]
											var fullIpv6Address = adr[[2001:db8:85a3:8d3:1319:8a2e:370:7348]:443]
					
											var s1 = "129.34.0.50"		;; ipv4 address
											var s2 = "128.0.0.1:8080"	;; ipv4 address plus port
											var s3 = "2001:db8:85a3:8d3:1319:8a2e:370:7348"		;; ipv6 address
											var s4 = "[2001:db8:85a3:8d3:1319:8a2e:370:7348]"   ;; ipv6 address (with brackets)
											var s5 = "[2001:db8:85a3:8d3:1319:8a2e:370:7348]:443"	;; ipv6 address and port
											var s6 = "[2001:db8:85a3:8d3:1319:8a2e:370:7348%3]:443"	;; ipv6 address, scope, and port
											
											var ipaddress = adr[s1]
											var ipaddressWithPort = adr[s2]
											var ipv6Address = adr[s3]
											var ipv6AddressToo = adr[s4]
											var ipv6AddressWithPort = adr[s5]
											var ipv6AddressWithPort = adr[s6]
											
											var addrAndPort = adr[ipaddress 5000]
											var addrAndPort = adr["129.34.0.50" 5000]
											var addrAndPortAndScope = adr[ipaddress 5001 3]
										</code></div>
										 
									</td>
								</tr>
								<tr><td>adr!</td>	
									<td></td>
									<td>The unary exclamation mark returns a type that can only take on an IP address object.
									</td>
								</tr>
								<tr><td>4</td>	
									<td>number port scope</td>
									<td>Returns an <code>adr</code> object containing the IPv4 address <code>number</code> represents.
										<div class=example><code>
											var ipv4Addr = adr.4[500049000]
											var ipv4Addr2 = adr.4[500049000 4000]
										</code></div>
									</td>
								</tr>
								<tr><td>6</td>	
									<td>number port scope</td>
									<td>Returns an <code>adr</code> object containing the IPv6 address <code>number</code> represents.
										<div class=example><code>
											var ipv6Addr = adr.6[3000298888837700 6000 3]
										</code></div>
									</td>
								</tr>
							</table> 
							<br>
							
							Also has the following pseudo-member:
							<table class="definitionTable innerBorder">
								<tr><td>own</td>	
									<td>Returns a list of <code>adr!</code> objects each containing the for a 
											network adapter on the executing machine.
										The order of addresses is from least to greatest (in numeric value).
									</td>
								</tr>
							</table>
						</p>
						<p>	The object returned by the bracket-operator has the following members:
							<table class="definitionTable innerBorder">
								<tr><td>type</td>	
									<td>Returns a number indicating the type of address. 
										Should either be 4 for ipv4, or 6 for ipv6.
									</td>
								</tr>	
								<tr><td>str</td>	
									<td>Returns the string form of the address (eg. "128.0.0.1:8080").
									</td>
								</tr>	
								<tr><td>addr</td>	
									<td>Returns an object containing:
										<div><code>
											{	num=&lt;address in numerical format>
												str=&lt;address in string format>
											}
										</code></div>
									</td>
								</tr>	
								<tr><td>port</td>	
									<td>The port number (nil if not set).
									</td>
								</tr>	
								<tr><td>scope</td>	
									<td>The scope value.
										Throws an exception if not an ipv6 address.
									</td>
								</tr>	
							</table> 
						</p>
					</td>
				</tr>							
						
				<tr><td>dns</td>
					<td>Object containing methods for dns address lookup. Has the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>hosts</td>	
								<td>string <span class=word>hostString</span>  adr! deviceAddress</td>	
								<td>Returns a list of addresses (<code>adr!</code> objects) for the host <span class=word>hostString</span>.
									<code>deviceAddress</code> is optional.
								</td>
							</tr>
							<tr><td>ips</td>	
								<td>adr! <span class=word>address</span>  adr! deviceAddress
								</td>	 
								<td>Returns a list of hostnames corresponding to that address.
									If there is no DNS entry found, it returns an empty list.
									<code>deviceAddress</code> is optional.
								</td>
							</tr>
						</table>
					</td>
				</tr>	
							
				<tr><td class="nearTop">socket</td>
					<td>Object for handling raw internet packets. Has the following pseudo-member:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>listen</td>	
								<td>deviceAddress</td>	
								<td><p>	Starts listening to the socket. 
										<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										The returned object receives IP packets of any version. 
									</p>
									
									<p>	Returns an object that has the following members:
										<table class="definitionTable innerBorder">
											<tr><td>in</td>	
												<td>Contains a list of all the packets that arrive on the socket from the 
														time <code>listen</code> was called.
												</td>
											</tr>
											<tr><td>out</td>	
												<td>Appending a packet to this list sends that packet out on the socket.
													<span class="outputLists"></span>
												</td>
											</tr>
										</table>
									</p>
										
									<p>	Reading from and writing to works exactly like lists 
											- appending an IP packet object will send that packet into the network and
											reading from the socket will read a packet from the network.
										Has all the methods and operators a normal list-object has. 
									
										<div class=example><code>
											;; processes all the packets that come through (infinite loop)
											df socket.listen.in packet:
												if packet.version == 4: ;; ipv4
													wout[packet.data]
												
													var ipv4Packet = {
														version = 4
														ttl = 30
														protocol = 17
														destination = packet.source
														data = udp[dest=8000 data="hi"].serialize
													}
													socket.out.ins[=ipv4Packet]	;; sends the IPv4 packet with a UDP message
										</code></div>
									</p>
								</td>
							</tr>
						</table>
						
						<p class="tcpUdpHttpCopying"></p>
												
					</td>
				</tr>
				
				<tr><td class="nearTop">udp</td>
					<td><p>	Object for handling UDP packets. Has the following methods:
							<table class="methodDefinitionTable innerBorder">
								<tr><td>listen</td>	
									<td>port deviceAddress</td>	
									<td>Starts listening on the given port, giving the program an exclusive lock on that port. 
										<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										Returns an object that contains all the packets that arrive on the socket from the 
											time <code>listen</code> was called.
									</td>
								</tr>
								<tr><td>init</td>	
									<td>destinationAddress port deviceAddress</td>	
									<td>Initializes and returns a UDP packet stream with the given destination and optional source port (defaulting to an ephemeral port).
										<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										The returned object will send to the (destination) address and port given.
									</td>
								</tr>
								<tr><td>make</td>	
									<td>source dest dataByteList</td>	
									<td>Creates a UDP packet.
										This isn't needed for normal UDP handling (as packets are constructed automatically), 
											but it can be useful if creating packets for direct <code>socket</code> use.
									</td>
								</tr>
								<tr><td>make</td>	
									<td>bitList</td>	
									<td>Unserializes a <code>bits</code> bit-list object into a udp packet.
									</td>
								</tr>
							</table>
						</p>
						
						<h5>UDP sockets</h5>
						
						The objects returned by <code>udp.listen</code> and <code>udp.init</code> have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>in</td>	
								<td>Contains a list of all the UDP packets that have arrived on the udp socket from the 
										time <code>listen</code> was called.
								</td>
							</tr>
							<tr><td>out</td>	
								<td>Appending a packet to this list sends that packet out on the socket.
									Strings, <code>bits</code>, or UDP packets can be appended to <code>out</code>.
									The UDP packet's source and destination will be used, if different from the UDP socket's.
									<span class="outputLists"></span>
								</td>
							</tr>
							<tr><td>source</td>	
								<td>An object containing an <code>adr!</code> object representing the source address
										- the address from which packets will be sent.
									Holds nil if not listening.
								</td>
							</tr>
							<tr><td>dest</td>	
								<td>An object containing a list of <code>adr!</code> objects representing the addresses to which messages will be sent 
										(regardless of which address messages are received from, if the object is listening on a port).
									Holds an empty list if not initialized.
								</td>
							</tr>
							<tr><td>open</td>	
								<td>Contains true if listening, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Pseudo-member that causes the object to stop listening to the port, 
										and returns the lock on that port.
									Note that a properly running Lima runtime will properly close all connections even if the program itself unexpectedly fails.
								</td>
							</tr>
						</table>
						
						They also have the following methods:
						<table class="methodDefinitionTable innerBorder">
							<tr><td>listen</td>	
								<td>port deviceAddress</td>	
								<td>Just like udp.listen, except causes <code>this</code> object to listen on that port.
									If the object was already listening on a port, it stops listening to that port before listening on the new one.
								</td>
							</tr>
							<tr><td>init</td>	
								<td>address port deviceAddress</td>	
								<td>Atomically sets or resets the address and port the object is configured to send to.
								</td>
							</tr>
						</table>
						
						<p class="copiedNote tcpUdpHttpCopying">
							Note: Copies of udp, tcp, http, and raw socket objects that were listening/connected when copied 
								are also listening/connected.
						</p>
						
						
						<h5>UDP packets</h5>
						
						<p>	The UDP packet objects returned by <code>udp.make</code> and read from the <code>out</code> list of a UDP socket 
								have the following members and methods:
							<table class="definitionTable innerBorder">
								<tr><td>source</td>	
									<td>An object containing an <code>adr!</code> object representing the source address.
									</td>
								</tr>
								<tr><td>dest</td>	
									<td>An object containing an <code>adr!</code> object representing the address the packet was addressed to.
									</td>
								</tr>
								<tr><td>bits</td>	
									<td>Returns a <code>bits</code> serialization of the packet.
									</td>
								</tr>
							</table>
						</p>
						
						<div class=example><code>
							var udpSocket = udp.init[adr[34.8.0.1:8080].listen[8080]
							var message = udpSocket.in.cut[0]     ;; gets the first packet
							if message == 'hi':
								udpSocket.out.ins['hi 'message.source]	;; send message back
							 else:
								udpSocket.out.ins[="Go away, I don't like you"]
						</code></div>
					</td>
				</tr>
				
				<tr><td class="nearTop">tcp</td>
					<td><p>	Object for handling TCP connections. Has the following methods:
							<table class="methodDefinitionTable innerBorder">
								<tr><td>listen</td>	
									<td>port connections deviceAddress</td>	
									<td><p>	Listens for connections on the given <code>code</code>.
											<code>connections</code> is optional. 
											If <code>connections</code> isn't given, <code>listen</code> will
												connect to the first incomming computer and return a single tcp stream object.
											If <code>connections</code> is given, <code>listen</code> connects to that number of connections
												and returns a list of those connections.
											<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										</p>
										<p>	Lazily executes - doesn't block execution.
											Execution won't be blocked until the program needs information it is waiting for.
											Note that this means your program can use and process the first connection, 
												even if <code>listen</code> is still listening for more connections.
										</p>
									</td>
								</tr>
								<tr><td>connect</td>	
									<td>address sourcePort deviceAddress</td>	
									<td>Attempts to connect to an address from the <code>sourcePort</code>.
										<code>sourcePort</code> is optional and if not given, an arbitrary free port 
											(ephemeral port) will be used - basically a port <code>tcp.ports[arb[0..ports.len]]</code>.
										<code>deviceAddress</code> is the device to listen from and is optional (defaulting to adr.own[0]).
										Returns an open connection.
									</td>
								</tr>
								<tr><td>make</td>	
									<td>source  dest  seq  data  ackNumber  flags
										windowSize  urgentPointer  options
									</td>	
									<td>Creates a TCP packet.
										This isn't needed for normal TCP handling (as packets are constructed automatically), 
											but it can be useful if creating packets for direct <code>socket</code> use.
									</td>
								</tr>
							</table>
							
							Has the following member:
							<table class="definitionTable innerBorder">
								<tr><td>ports</td>
									<td>List of open ports.
									</td>
								</tr>
							</table>
						</p>
						
						
						<h5>TCP sockets</h5>
						
						The objects returned by <code>tcp.listen</code> and <code>tcp.connect</code> have the following members:
						<table class="definitionTable innerBorder">
							<tr><td>in</td>	
								<td>A string of characters that have arrived on the TCP socket since a connection was established.
								</td>
							</tr>
							<tr><td>out</td>	
								<td>Appending strings to this list sends the characters of that string out on the TCP socket.
									Strings or <code>bits</code> can be appended to <code>out</code>.
									<span class="outputLists"></span>
								</td>
							</tr>
							<tr><td>open</td>	
								<td>Contains true if the connection is open, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Psuedo-member that closes the connection.
									Does nothing if connection is already closed.
								</td>
							</tr>
							<tr><td>source</td>	
								<td>An object containing an <code>adr!</code> object representing the source address.
								</td>
							</tr>
							<tr><td>dest</td>	
								<td>An object containing an <code>adr!</code> object representing 
										the destination address.
								</td>
							</tr>
						</table>
						<p class="tcpUdpHttpCopying"></p>
							
						<div class=example><code>
							var connection = tcp.listen[8080]   ;; connects to another computer
							var messages = connection.in.split['/n']     ;; messages delimited by newlines
							if messages[0] == 'hi':
								connection.out.cat[='hi']	;; send a message back
							 else:
								wout[messages[0]]    ;; print message 
						</code></div>
						
					</td>
				</tr>
				
				<tr><td class="nearTop">http</td>
					<td><p>	Object for handling HTTP requests. Has the following methods:
							<table class="methodDefinitionTable innerBorder">
								<tr><td>listen</td>	
									<td>port deviceAddress</td>	
									<td>Listens for incomming http requests.
										<code>deviceAddress</code> is optional.
										Returns a list containing all the HTTP requests that have arrived on the HTTP socket 
											from the time <code>listen</code> was called.
										<p class="tcpUdpHttpCopying"></p>
									</td>
								</tr>
								<tr><td>make</td>	
									<td>host method resource query headers body deviceAddress
									</td>	
									<td>Creates an http request object.
										<code>deviceAddress</code> is optional.
										<code>query</code> should be an object that will be built into a query string.
									</td>
								</tr>
								
								<tr><td>makeQuery</td>	
									<td><span class=word>objectMap</span>
									</td>	
									<td>Makes a query-string from an object.
										<span class="copiedNote urlEncodeDecode">
											Shouldn't usually be needed since this is done automatically by 
											<code>http.make</code> and the <code>query</code> parameter of http objects
										</span>
									</td>
								</tr>
								<tr><td>urlDecode</td>	
									<td><span class=word>s</span>
									</td>	
									<td>Decodes a string passed as a url parameter.
										<span class="urlEncodeDecode"></span>
									</td>
								</tr>
								<tr><td>urlEncode</td>	
									<td><span class=word>s</span>
									</td>	
									<td>Encodes a string for use as a url parameter.
										<span class="urlEncodeDecode"></span>
									</td>
								</tr>
								<tr><td>cookie</td>	
									<td><span class=word>name</span> <span class=word>value</span> <span class=word>expire</span>
									</td>	
									<td>Creates a cookie.
										The following members can also be explicitly set: domain, maxAge, path, secure, httponly.
										Note that maxAge will delete the 'expire' member if set (and vice versa).
									</td>
								</tr>
							</table>
							
							<div class=example><code>
								var listener = http.listen[8080]           ;; connects to another computer
								
								df listener.in request:
									request.respond[503 nil "we're not on speaking terms"]
								
								var messages = connection.split['/n']     ;; messages delimited by newlines
								if messages[0] == 'hi':
									connection.cat['hi']	;; send message back
								 else:
									wout[messages[0]]    ;; print message 
							</code></div>
						</p>
												
						<h5>HTTP request objects</h5>
						
						The objects returned by <code>http.make</code> and <code>http.listen</code>
							have the following members:
						<table class="definitionTable innerBorder">
							
							<tr><td>method</td>	
								<td>The http method.
								</td>
							</tr>
							<tr><td>resource</td>	
								<td>The requested resource.
								</td>
							</tr>
							<tr><td>version</td>	
								<td>The http version (eg. 1.1)
								</td>
							</tr>
							
							<tr><td>source</td>	
								<td>An object containing an <code>adr!</code> object representing the source address.
									This is only populated on the computer receiving the request.
								</td>
							</tr>
							<tr><td>open</td>	
								<td>Contains true if the connection is open, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Psuedo-member that closes the connection.
									Does nothing if connection is already closed.
								</td>
							</tr>
							
							<tr><td>query</td>	
								<td>The query string. Also has the member:
									<table class="definitionTable innerBorder">
										<tr><td>map</td>	
											<td>The query parameter map (from parsing the query string).
												Throws an exception if not able to parse the query string.
												<div class=example><code>
												httpRequest.query.map.userId[0]	;; get the first userid parameter in the query string
												</code></div>
												<span class="urlEncodeDecode"></span>
											</td>
										</tr>
									</table>
								</td>
							</tr>								
							
							<tr><td>headers</td>	
								<td>A list of header values keyed by their name.
								</td>
							</tr>
							<tr><td>body</td>	
								<td>The http body (as a string). 
									Also has the following members:
									<table class="definitionTable innerBorder">
										<tr><td>map</td>	
											<td>The http body parsed as a parameter map ("post parameters"). 
												Attempting to access <code>map</code> throws an exception if 
													the body is not able to parsed as a query string.
											</td>
										</tr>
									</table>
								</td>
							</tr>
							
							<tr><td>str</td>	
								<td>Returns the request as a string.
									This can be used to send the packet out through a TCP socket.
								</td>
							</tr>
						</table>
						
						<p>	HTTP request objects also have the following methods:
							
							<table class="definitionTable innerBorder">
								<tr><td>respond</td>	
									<td><span class=word>status</span> <span class=word>headers</span> <span class=word>response</span> <span class=word>keepalive</span></td>	
									<td>Responds to the request.
										Closes the connection after the request is sent unless <span class=word>keepalive</span> is passed in as <code>true</code>.
										Note that <span class=word>keepalive</span> will keep the connection open forever until explicitly closed by one side or the other.
									</td>
								</tr>
								
								<tr><td>send</td>	
									<td>address sourcePort deviceAddress</td>	
									<td>Sends the HTTP request to the given address and returns an HTTP response.
										<code>address</code> can either be an <code>adr!</code> object, 
											or it can be a string host.
										If <code>address</code> is a string, the host header will automatically be set
											if it hasn't been already.
									</td>
								</tr>
							</table>
						</p>
						
						
						<h5>HTTP response objects</h5>
						
						HTTP response object have the following members:
						<table class="definitionTable innerBorder">
							
							<tr><td>status</td>	
								<td>The http method.
								</td>
							</tr>
							<tr><td>version</td>	
								<td>The http version (eg. 1.1)
								</td>
							</tr>
							
							<tr><td>open</td>	
								<td>Contains true if the connection is open, false if closed.
								</td>
							</tr>
							<tr><td>close</td>	
								<td>Psuedo-member that closes the connection.
									Does nothing if connection is already closed.
								</td>
							</tr>								
							
							<tr><td>headers</td>	
								<td>A list of header values keyed by their name.
								</td>
							</tr>
							<tr><td>body</td>	
								<td>The http body (as a string). 
									Also has the following members:
									<table class="definitionTable innerBorder">
										<tr><td>map</td>	
											<td>The http body parsed as a parameter map ("post parameters"). 
												Attempting to access <code>map</code> throws an exception if 
													the body is not able to parsed as a query string.
											</td>
										</tr>
									</table>
								</td>
							</tr>
							
							<tr><td>str</td>	
								<td>Returns the response as a string.
									This can be used to send the packet out through a TCP socket.
								</td>
							</tr>
						</table>
						
					</td>
					
				</tr>
				
				<tr><td>https</td>
					<td><p>	Object for handling HTTPS requests. Has the same interface as <code>http</code>. 
							HTTPS request objects also have the following member:
							
							<table class="definitionTable innerBorder">
								<tr><td>auth</td>		
									<td>Returns the auth scheme used.
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
				
				
			</table>
		</div>
		
		<div class="subBox1" title="Functions">
			<table class="methodDefinitionTable">
				
				<tr><td>round</td>
					<td>value valueSet towardValue</td>
					<td>Returns the <code>value</code> rounded toward <code>towardValue</code> in the set <code>valueSet</code>.
						<span class="copiedNote roundParameters">
							<code>valueSet</code> is optional (defaulted to the set of integers - since numbers are what are usually rounded).
							<code>towardValue</code> is optional, without it rounds to the nearest value in <code>valueSet</code>, 
								with it rounds toward that <code>towardValue</code>.
							Throws an exception if the <code>value</code> is not comparable with items in <code>valueSet</code>.
						</span>
						<p class=example><code>
							;; all of these are true:
						
								;; numbers
								
							round[34.245] == 34
							round[34.5] == 35
							
							round[34.8 int.set.map[v*.5]] == 35
							round[34.7 int.set.map[v*.5]] == 34.5
							
							round[34.7 int.set 0] == 34
							round[34.7 int.set.map[[v*5]] 0] == 30
							round[-34.7 int.set 0] == -34
							round[34.7 int.set 0] == 34
							round[34.7 int.set 00] == 35
							round[34.7 int.set.map[[v*6]] 00] == 36	;; 6*6 == 36 and 6*5 == 30 (so 36 is closer)
							round[-34.7 int.set -00] == -35
							
							round[19.8 int.set 15] == 19
							round[14.8 int.set 15] == 15]
							
								;; time
							
							var t = time[2012-04-03 12:00]
								
							;; rounds to the nearest week (weeks here defined as starting on monday)
							round[t time.tai.weeks] == time[2012-04-02]                
							;; rounds to the nearest wednesday
							round[t time.tai.weeks.map[v+dur[/0/2]]] == time[2012-04-04] 
							
							t.tai.round[t time.utc.years] == time[2012-01-01]
							;; midday counts as nearest to the next day (like .5 being rounded as closest to 1)
							t.tai.round[t time.utc.days] == time[2012-04-04]      
							
							;; rounds to the nearest day that is the 9th of a month
							t.tai.round[t time.utc.months.map[v+dur[/0/9]]] == time[2012-04-09]         
							;; rounds to the nearest 1/3 of a day (again rounding up in this case)
							t.tai.round[t time.utc.days.map[v - dur[/1]/3]] == time[2012-04-05 16:00] 
							
							;; rounds toward time 0 - in other words time[1/] or time[0001/01/01 00:00:00]
							t.tai.round[t time.months dur.0.time] == time[2012-04-01]	  
							;; rounds toward time infinity (rounds up) 
							t.tai.round[t time.months dur.00.time] == time[2012-05-01]    

						</code></p>
					</td>
				</tr>
				
				<tr><td>mag</td>
					<td>value</td>
					<td>Returns the magnitude of a value. 
						The value can be any number (int, flo, fra, complex, etc), or vector of numbers. 
						It should be noted that this function is equivalent to the absolute value when used on non-vector numbers.
					</td>
				</tr>
				<tr><td>sir</td>
					<td>radians</td>
					<td>sine for radians
					</td>
				</tr>
				<tr><td>cor</td>
					<td>radians</td>
					<td>cosine for radians
					</td>
				</tr>
				
				<tr><td><span class=endian></span></td>	
					<td></td>
					<td>Returns 1 if the system is big endian, and 0 if its little endian. Undefined output if the system is neither.
					</td>
				</tr>
				
				<tr><td>deg</td>
					<td></td>
					<td>Converts degrees to radians.
						For example, <code><span class=deg></span>[90]</code> would be <span class=pi></span>/2 (radians).
					</td>
				</tr>
				<tr><td><span class=sign></span></td>
					<td></td>
					<td>gets the sign of a non-complex number. Returns either 1 or -1.
					</td>
				</tr>
				<tr><td><span class=log></span>.<span class=integer>base</span></td>
					<td>value</td>
					<td>
					</td>
				</tr>
				
				<tr><td><span class=staticSize></span></td>
					<td></td>
					<td>the regular sizeof() function in C. Returns the static size in bytes of a variable, array, or type.
					</td>
				</tr>
				<tr><td><span class=dynamicSize></span></td>
					<td></td>
					<td>Returns the size in bytes of a variable, array, or type including its static size and 
							the dynamic size of any memory pointed to by a ref member.
					</td>
				</tr>
				
				
				<tr><td>pack</td>
					<td><span class=word>packageName</span> <span class=word>url</span> <span class=word>distro</span></td>
					<td><p>	Indicates that your program depends on a certain package.
							Returns either a <code>file!</code> object or a <code>dir!</code> object representing the package 
								named <span class=word>packageName</span>, downloading and installing it if neccessary.
							The <span class=word>url</span> is a link to a lima repository (described below), 
								the default being lima's standard central repository (similar to gems for ruby, or cpan for perl).
							Throws an exception if <span class=word>packageName</span> doesn't match a package that exists in 
								the lima repository.
								
							<div class=example><code>
								;; a package can either be a file or a folder hierarchy with files in it
								file! someLib = pack['someLib-v1.12.3.lima']
								dir! icons = pack['bbIcons5000-v1.3.0' 'http://customRepo/some/path/']] 
								
								;; maybe crypto-v1.0.0 requires some.dll 
								pack['someDLL-v1.0.0.dll'] 
								use[lib['crypto-v1.0.0.o']]
								
								md5['something'] ;; hypothetically in the crypto library
								
								;; you could technically even use it as a standalone object if you wanted to..
								wout[pack['someLibrary' 'http://rep/some/path/'].children] ;; list out the children files and folders inside that package
							</code></div>
						</p>
						<p> <span class=word>distro</span> can either be: 
							<ul><li>"include" - the file is packaged with the executable somehow 
											(either statically linked for static libraries, or simply included as a resource file).
								</li>
								<li>"download" - the first time the program is run, the user will be given a prompt asking if downloading 
											the list of required packages is ok, and if yes will automatically download and install all the packages.
								</li>
								<li>"none" - no attempt to include the file will be done by the compiler or executable.
											This assumes that some kind of installer is used.
								</li>
							</ul>
						
							The default behavior is "download" when possible, and "include" for others.
							
						</p>
						<p>	A lima repository url describes a particular package and how to install it.
							It should take a request with the following parameters:
							<ul><li>name - the name of the requested package.
									Should have the format: <nameWithoutDots>"-v"<majorVersionNumber>"."<minorVersionNumber>"."<revision>
									For example, <code>"limaPackage-v3.4.5.lima"</code> or <code>"windowing-v23.2.4.jquery.js"</code>
								</li>
								<li>environment - information describing the environment the package is needed for 
										(what OS, architecture, language, etc).
								</li>
							</ul>
							
							And it should return a zipped file containing the requested package.
							* URL that gives back Lison of the format:
							{ name= <packageName>
							  dependencies= <listOfDependencyUrls>
							  url=  <url to download a zipped file containing the requested package>
							}
						</p>
						<p>	To prevent naming collisions, the location that a particular package is downloaded to 
								will have a folder named after the repository URL.
							<span class="copiedNote libAndDepend">
								The dependencies <code>pack</code> describes will be able to be queried by an outside program,
									if the source is available. 
								This would allow an installer program to query the list of dependencies of a given source file and use that
									to decide what it needs to install.
							</span>
						</p>
					</td>
				</tr>							
							
				<tr><td>lib</td>
					<td><span class=word>moduleFile</span></td>
					<td><p>	Loads the text from a <code>file!</code> object as a static or dynamic library.
							Returns an object representing the module inside the <span class=word>moduleFile</span>.
							If a string as passed in place of a <code>file!</code> object,
								the string as used as the path to find the file as a file object.
						
							<div class=example><code>
								use[lib['crypto-v1.0.0.lib']
									lib[pack['customLibrary-v1.3.0.lib' 'http://customRepo/some/path/']]
								]
								
								md5['something'] ;; hypothetically in the crypto library
								customLibraryFunction[45 'do something!'] ;; hypothetically from the customLibrary module
								
								;; you could technically even use it as a standalone object
								lib['someOtherLibrary.lib'].doSomethingWeird[89] ;; calls the doSomethingWeird function from that library!
							</code></div>
						</p>
						<p>	Examples of types of packages you would use with this: lima source files (uncompiled libraries),
								compiled static libraries, shared libraries (DLLs, so files), executables (loads it like a shared library).
						</p>
					</td>
				</tr>
				
				<tr><td>depend</td>
					<td><span class=word>object</span></td>
					<td>Indicates an object that can check if a given dependency is fulfilled, and if not,
							take the necessary steps to fulfil that dependency.
						The <span class=word>object</span> should have two functions:
						<ul><li><code>check</code> - returns true if the dependencies it is responsible for are met.
							</li>
							<li><code>build</code> - builds the dependencies that aren't met.
							</li>
						</ul>
					</td>
				</tr>
				
			</table>
		</div>
		
		<div class=subBox1 title="Custom Functions">
			<table class="definitionTable">

				<tr><td><span class=wout></span></td>
					<td>Function that writes to stdout.
						<code>wout[x]</code> is short for <code>con.cat[=x]</code>.
						Can also print one argument without brackets, e.g. <code>wout "hello"</code>
					</td>
				</tr>
				
				<tr><td>
						<span class=if></span>
						 <span class=condition></span>:
							<span class=statements></span>
						&nbsp;<span class=more>conditions</span>
						&nbsp;<span class=if_else></span>:
							<span class=statements></span>
						
						
						<span class=if></span>
						[	<span class=more></span>
						]
					</td>
					<td><p><code>if</code> is lima's if construct. 
						Any statement can be executed conditionally using <code>if</code> (including variable declarations). 
						This is the only function-like construct allowed in a definitionBlock. 
						</p>
						
						<p class=example>
							<code>
							if x != 'something':
									doSomethingWith[x]				
							
							if
							[isRed:
								wout['Yes its red']
							 isGreen: 
								wout['Its green instead!']
							 isBlue:
								wout["We've got a blue"]
							 else:
								wout['Its some other hue']
							]
							</code>
						</p>
						<p> <code>if</code> returns the value of the last statment executed, and so can be used like the tertiary operator ?: in C (and other languages):
							<div class=example><code>
								var x = if a>b: 'A is bigger' else: 'B is bigger'	;; x gets a string that says which one is bigger
								var y = 500 + if[one:1 two:2 three:3 else:0] * 20	;; y gets a number
							</code></div>
						</p>
						<p>	Note that, unlike some other languages, if does not define a new scope. 
							So variables can, for example, be conditionally defined.
						</p>
					</td>
				</tr>
				
			
				<tr><td>
						<span class=if></span>
						 <span class=Qcond></span>::
						&nbsp;&nbsp;<span class=Qlist></span>:
							<span class=statements></span>
						&nbsp;&nbsp;<span class=more>Qlists and Qconds</span>
						&nbsp;<span class=more>Qconds</span>
						&nbsp;<span class=if_else></span>:
							<span class=statements></span>
							
						<span class=if></span>
						[	<span class=more></span>
						]
					</td>
					<td><p>This more complicated form of if is useful for making switch-statement-like constructs and more powerful templatized conditions.
						</p>
						
						<p><span class=Qcond></span> is a template for a single boolean statement. 
							A template parameter are represented by a question-mark followed by a number (e.g. "?0", "?5", "?11"). 
							In the <span class=Qlist></span>, each template parameter is filled by an expression (and each expression is whitespace-separated).
							This allows <code>if</code> to be used like a powerful switch statement as well. 
							<div class=example><code>
							if 
							 50 < ?0.height[]::
								personA:	wout 'The first'
								personB:	wout 'The second'
								personC:	wout 'The last'
							 35 < ?0.length[]::
								personA:	wout 'Second round first'
								personB:	wout 'Second round second'
								personC:	wout 'Second round last'
														
							</code></div>
						</p>
						<p>	See also: "<i>Emulating switch statement fallthrough in Lima</i>" under <i>Concepts</i>.
						</p>
					</td>
				</tr>
				
				<tr><td>
						<span class=df></span> <span class=Rvalue>object</span> <span class=word>value</span> <span class=word>key</span> <span class=word>count</span> :
							<span class=statements></span>
						
						<span class=df></span> <span class=more></span>
						[	<span class=more></span>
						]
					</td>
					<td><p>	Lima's main loop construct (stands for "do for"). 
							Iterates through each item <span class=Rvalue>object</span> returned by <span class=Rvalue>object</span>'s IterList method.
							<span class=word>value</span>, <span class=word>key</span>, and <span class=word>count</span> will be automatically declared as var variables.
							On each iteration, <span class=word>value</span> contains the value of the next member in <span class=Rvalue>object</span>,
								<span class=word>key</span> contains the key for that value, and 
								<span class=word>count</span> contains a count of the members that have already been looped over. 
						</p>
						<p> Note that when using the default object iterator, the loop gets a copy of the object 
								that has references to the original object's members. 
							This means that removing, adding, or rearranging any elements in the original object 
								won't affect the progression or number of iterations of the loop. 
						</p>
						<p>	<span class=word>count</span> is optional, and <span class=word>key</span> is optional if there is no <span class=word>count</span>
						</p>
						<p>	<table class="definitionTable">
								<tr><td><span class=break></span></td>
									<td>Skips the rest of the loop, and jumps striaght out of the loop.
									</td>
								</tr>
								<tr><td><span class=continue></span></td>
									<td>Skips the rest of the loop and continues with the next iteration of the loop.
									</td>
								</tr>
								<tr><td><span class=break></span> <span class=label>continuation</span></td>
									<td>Immediately jumps (<span class=break></span>s) to <span class=label>continuation</span> - which must be directly after a <span class=df></span> loop in scope. 
										For example,
										<div><code>
											df:	;; infinite loop
												int n=0
												df true n+=1 :
													;; when n is 6 it will jump to after the infinite loop
													if n > 5: break afterMainLoop
													
											contin.afterMainLoop
										</code></div>
										
									</td>
								</tr>
								<tr><td><span class=continue></span> <span class=label>continueLabel</span></td>
									<td><span class=break></span>s to <span class=label>continueLabel</span>, 
										and <span class=continue></span>s from the loop that <span class=label>continueLabel</span> is inside.
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
				<tr><td>
						<span class=while></span> <span class=condition></span> <span class=whileEndStatements></span> :
							<span class=statements></span>
						
						
						<span class=while></span> <span class=more></span> [
							<span class=more></span>
						]
					</td>
					<td><p>	A more general loop construct. 
							First checks the <span class=condition></span>.
							
							If it is true then runs the <span class=statements></span> and <span class=whileEndStatements></span>, then starts over. 
						</p>
						<p>	The <span class=whileEndStatements></span> can be omitted.
							If both <span class=condition></span> and <span class=whileEndStatements></span> are omitted,
								the loop is infinite (it will continue to loop until some code <span class=break></span>s out of it).
						</p>
						<p>	<span class=break></span> and <span class=continue></span> are available in this form of <span class=df></span> as well.
							<span class=break></span> exits the loop without executing <span class=whileEndStatements></span>.
							<span class=continue></span> runs <span class=whileEndStatements></span> and checks the condition before starting the next iteration.
						</p>
					</td>
				</tr>
				
				
				
				<tr><td>throw object</td>	
					<td><p>	Throws an exception object.
							Throwing an exception will interrupt the execution of any following code - execution will continue from where the exception is caught.
							If the exception is not caught anywhere up the stack, the unhandled-exception handler is called. 
							If there is no unhandled-exception handler the error is considered fatal, and the program immediately exits.
						</p>
						<p>	Upon being caught, a stack trace will be added to the object as the member <code>trace</code>, unless that memeber is already set.
							If the <code>trace</code> member is alredy set, <code>trace.trace</code> is set with the stack trace, unless that memeber is already set, 
								in which case the deepest unset <code>trace</code> member is set. 
							The stack trace will only have the trace from where it was thrown to where it was caught.
						</p>
					</td>
				</tr>
				
				<tr><td>
						<span class=catch></span>:
							<span class=statements>primaryStatements</span>
						 
						 ;; <span class="catchExceptionBlock forceComment"></span>
						 <span class=word>exception</span>:	 	
							<span class=statements>handlingStatements</span>
						
						 ;; <span class="catchFinallyBlock forceComment"></span>
						 finally:
							<span class=statements>finallyStatements</span>
							
							
						<span class=catch></span> [
							<span class=more></span>
						]
					</td>
					<td><p> Lima's try-catch mechanism. Catches and handles thrown exceptions.
						</p>
					
						<p>	Runs <code>primaryStatements</code>, and if any exception is <code>throw</code>n in those statements, 
								catches and allows handling of the exception in the <i>catch-exception block</i>.
							The <code>handlingStatements</code> in that block are then run (the exception is referenced by the name <span class=word>exception</span>).
							The <span class=catchFinallyBlock></span> always runs after the <code>primaryStatements</code> 
								and <code>handlingStatements</code> are complete, 
								even if the <code>primaryStatements</code> or <code>handlingStatements</code> 
								throw an exception, return from the function, or jump to a continuation.
							In those cases, the value to return, throw, or jump to is computed before the code enters the finally block, 
								and the finally block finishes before the value to return, throw, or jump to is actually returned, thrown or jumped to.
						</p>	
						
						<p>	The <span class=catchExceptionBlock></span> and <span class=catchFinallyBlock></span> are both optional, 
								but either one or the other must exist.
							Note that the catch block doesn't defined a new scope, so variables declared inside it are available outside it as well.
						</p>
						
						<p>	Like <code>if</code>, <code>catch</code> doesn't define a new scope, 
								and so variables declared inside it persist beyond the catch block.
						</p>
					</td>
				</tr>	
				
				<tr><td>
						try:
							<span class=statements></span>
							
						try[
							<span class=statements></span>
						]
					</td>
					<td><p> Light-weight exception handling mechanism that simply calls the unhandled-exception handler	
								if an exception is thrown.
							This is intended to make it very easy and light-weight to surround less-important code
								to ensure problems with it won't affect more important code.
							Is equivalent to:
							<div><code> 
								catch: 
									<span class=statements></span>
								 exception:
									cept.handle[exception]
							</code></div>
						</p>
					
						<p>	Runs <code>primaryStatements</code>, and if any exception is <code>throw</code>n in those statements, 
								catches and allows handling of the exception in the <i>catch-exception block</i>.
							The <code>handlingStatements</code> in that block are then run (the exception is referenced by the name <span class=word>exception</span>).
							The <span class=catchFinallyBlock></span> always runs after the <code>primaryStatements</code> 
								and <code>handlingStatements</code> are complete, 
								even if the <code>primaryStatements</code> or <code>handlingStatements</code> 
								throw an exception, return from the function, or jump to a continuation.
							In those cases, the value to return, throw, or jump to is computed before the code enters the finally block, 
								and the finally block finishes before the value to return, throw, or jump to is actually returned, thrown or jumped to.
						</p>	
						
						<p>	The <span class=catchExceptionBlock></span> and <span class=catchFinallyBlock></span> are both optional, 
								but either one or the other must exist.
							Note that the catch block doesn't defined a new scope, so variables declared inside it are available outside it as well.
						</p>
						
						<p>	Like <code>if</code>, <code>catch</code> doesn't define a new scope, 
								and so variables declared inside it persist beyond the catch block.
						</p>
					</td>
				</tr>	
				
				<tr><td>
						<span class=thread></span> <span class=threadPrio>initialPriority</span>:
							<span class=statements></span>
						
						
						
						<span class=thread></span> <span class=threadPrio>initialPriority</span> [
							<span class=statements></span>
						]
					</td>
					<td><p>	Spawns and starts running a thread.
							Although a thread can't take parameters, it acts similar to a function in that it can <code>ret</code>urn a return-value 
								(accessible via the <code>wait</code>).
							Note that outputs to the program are treated as order-does-matter by default, 
								meaning that no reordering of outputs can be done to optimize the program unless those outputs are in separate threads.
							If order doesn't matter, separate threads should be used to indicate that.
						</p>
						<p>	<span class=threadPrio>initialPriority</span> can be any real number (positive or negative).
							Priorities are logarithmic in that a prioirty 2 thread is given ten times as big a 
								proportion of time as a priority 1 thread, etc (like the richter scale).
							<span class=threadPrio>initialPriority</span> is optional, with a default priority of 0.
							While threads have no way to be paused entirely, setting a thread with a very small 
								priority (like -100) will effectively pause it.
						</p>
						<p>	<h5>Thread-handles have the following members:</h5>
							<table class="definitionTable innerBorder">
								<tr><td>pri</td>	
									<td>Accesses the thread's priority number.
										Setting or changing this number will change the thread's priority.
									</td>
								</tr>
								<tr><td>parent</td>	
									<td>Accesses the thread's parent thread (its superthread).
									</td>
								</tr>
							</table>
							
							<h5>Thread-handles have the following pseudo-members:</h5>
							<table class="definitionTable innerBorder">
								<tr><td>wait</td>	
									<td>Causes the thread executing this pseudo-member to be blocked until the thread on which <code>wait</code> was called is completed.
										Returns the result of the thread (its return value).
									</td>
								</tr>
								<tr><td>status</td>	
									<td>Returns 
										<ul><li>'active' if the thread is still running,</li>
											<li>'done' if the thread has completed, or</li>
											<li>'dead' if the thread has been killed./</li>
										</ul>
									</td>
								</tr>
								<tr><td>stop</td>	
									<td>Kills a thread permenantly.
										If an atomic block is being executed, it will wait for that block to complete before killing the thread.
										Any object the thread solely holds is destroyed (destructors called) which should release any locks that thread holds.
									</td>
								</tr>
								<tr><td>kill</td>	
									<td>Just like stop but ignores atomic blocks - kills the thread immediately.
									</td>
								</tr>
							</table>
							
							<h5>Thread-handles have the following methods:</h5>
							<table class="definitionTable innerBorder">
								<tr><td>sub</td>	
									<td>Creates a sub-thread (has the same properties as <span class=thread></span>.
										Sub-threads take up the time of their superthread - 
											the combined time taken up by a thread and all its subthreads cannot exceed the proportion of time allotted to that superthread.
										The priority of a sub-thread is relative to other sub-threads of the parent thread (including the main thread of the parent thread).
									</td>
								</tr>
							</table>
													
							<h5>The following pseduo-function is available inside the thread:</h5>
							<table class="definitionTable innerBorder">
								<tr><td>thread.safe <span class=Rvalue>condition</span></td>	
									<td>This marks a region of code in which it is safe for the thread to die, if need be. 
										The <span class=Rvalue>condition</span> is optional 
											(without it, assumes that its always safe - just like as if the <span class=Rvalue>condition</span> was the value true).
									</td>
								</tr>
							</table>
													
							<h5>The following identifier is available in any thread (ie anywhere):</h5>
							<table class="definitionTable innerBorder">
								<tr><td>thisthread</td>	
									<td>This is a reference to the current thread.
									</td>
								</tr>
							</table>
						</p>
					</td>
				</tr>
			
				<tr><td><span class=jump></span></td>
					<td><p>	This is like goto in C. 
							It isn't meant to be practically used in everyday code, 
								but exists for the flexibility to write assembly-like code. 
							Jump really does a computed jump (ie a "computed goto"). 
							<p class=example><code>
								;; the following loops 5 times using jump
							
								int x = 5
								contin.a
								x -= 1
								if x == 0: 
									jump b
								 else: 
									jump a
									
								contin.B

							</code>
							Note that <code>contin.B</code> can be used (ie jumped to) before that line is hit,
								because its capitalized. 
							</p>
						</p>
						<p>	<span class=jump></span> can also be used like longjmp in C's <code>setjmp.h</code>. 
							If a <span class=contin></span> is set and then used in a lower function, it will restore context as well as jumping. 
							<div class=example><code>
								func = fn
								[contin back: 
									jump back	;; will jump to the command "wout 'finally back'"
									wout 'this never prints'
								]
								main = fn
								[	func[Here]
									contin.Here	
									wout 'finally back'
								]
							</code></div>
						</p>
						
						<p>	Note that once the continuation goes out of scope (when the function its in returns),
								it is effectively deleted and attempts to jump to it will cause nil pointer exceptions.
						</p>
						
					</td>
				</tr>	
					
				
			</table>
		</div>
		
		<div class=subBox1 title="Attributes">
			<table class="definitionTable">
			
				<tr><td><span class=static></span></td>
					<td><p>	Operates on a variable declaration. It makes the declared variables static - 
								which means that any object that inherits from that object, and 
								any object created as a copy of that object will have a reference those same static variables. 
							That also means that the static variables are still "alive" as long as any object references them.
						</p>
						<p>	When a static variable is declared with an initializer, the variable will only be initialized once (when the object/function is created), and never again. 
						</p>
						<p class="copiedNote staticFixedNotInFn">	
							The attributes <span class=static></span> and <span class=fixed></span> cannot be used inside functions at the top level 
								(though of course they can be used inside objects that are created in the function).
							This differs from many languages that allow static function variables. 
							In Lima, you just need to use a variable in a higher scope.
						</p>
					</td>
				</tr>
				<tr><td><span class=fixed></span></td>
					<td><p>	This is like <span class=static></span> except that subobjects that <span class=use></span> or <span class=mix></span> superobjects with a <span class=fixed></span> member
								get a copy of that member, rather than referencing it. 
							<div class=example><code>
								x = 
								{	fixed a = 4
									static b = 4
								}
								x2 = 
								{	use x
								}
								
								var y = x
								var y2 = x2
								
								y.a = 1
								y.b = 2
								
								y2.a == 4 ;; true
								y2.b == 2 ;; true
							</code></div>
						</p>
						<p class=staticFixedNotInFn></p>
					</td>
				</tr>
				<tr><td><span class=const></span></td>
					<td>Makes a variable unchangable.
						If the object has any ref variables, the objects they reference can be changed as normal, 
							but they can't be pointed to different objects.
						Since <span class=const></span> variables are also <span class=privileged></span>, their name should be capitalized 
							(the compiler will fix it for you if you don't capitalize it).
					</td>
				</tr>
				<tr><td><span class=private></span></td>
					<td>Makes a variable not accessible outside its <span class=module></span>. 
						<p class="privateProtectedNote"></p>
						
						<p><span class=private>Private</span> members of compiled files are not externally available 
							(when statically or dynamically linking to it), while public members are.
						</p>
					</td>
				</tr>
				
				<tr><td><span class=ready></span></td>
					<td>Denotes that external inputs to the program within a statement are ready immediately (ie at compile time), 
							and so can be grabbed as soon as the program knows how to grab them.
						Usually this means that if the program knows how to grab the input at compile-time, it'll do it at compile time, 
							but if not, it obviously can't grab it until runtime, and the <span class=ready></span> doesn't mean anything 
							(ie input is grabbed when convenient - the default).
						However, if the program can determine that some kind of input caching can be done 
							(for example, if the inputs are fairly regular, tho not 100% deterministic), 
							it may grab the input during runtime once, and then have it stored for later executions,
							essentially making it available at compile-time for those subsequent executions.
						<div class="inputOrder"></div>
					</td>
				</tr>
				
				<tr><td><span class=eager></span></td>
					<td>Denotes that external inputs to the program within a statement should be eagerly (and synchronously) read into the program.
						<div class="inputOrder"></div>
						If order does matter, <span class=eager></span> should be used to denote this. 
					</td>
				</tr>
				
				
				<tr><td>cept</td>
					<td>Parameterized attribute that sets up an uncaught-exception handler. 
					
						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>callbackFunction</td>	
								<td>Returns an attribute that sets up the uncaught-exception handler to <code>callbackFunction</code> 
										for threads created in statements it operates on.
									When any thread (including the main thread) throws an exception that isn't caught, 
										<code>callbackFunction</code> will be called with the exception as its first (and only) argument.
									
									<div class=example><code>
										catch: 
											cept[fn[e:
												logOrSomething.cat['We got oneeeeee: 'e]
											]][
											 	var x = 45..130
											 	df x v
											 		thread: wout[v/0]
											 	var y = 2/0		;; this does not call the exception handler defined above, since it isn't in a newly created thread
											]	
										 exception:
											;; this gets the exception thrown from "var y = 2/0"
									</code></div>
									
									Note that if no exception handler is defined for a thread, the program will terminate immediately upon an uncaught exception. 
									It is always good practice to define a catch-all unhandled-exception handler.
								</td>
							</tr>
							<tr><td>handle</td>
								<td>exception</td>	
								<td>Calls the currently defined uncaught-exception handler.
								</td>
						</table>
					</td>
				</tr>
				
				<tr><td><span class=threadlocal></span></td>
					<td>Operates on variable definitions.
						Causes a variable to be <a href="http://en.wikipedia.org/wiki/Thread-local_storage">thread-local</a>, 
							meaning that the variable will be newly created in separate threads.
						If the variable definition has an initialization, new threads will see that variable initialized to that value.
						If the variable isn't initialized, it will hold <code>nil</code> just like a normal un-initialized variable definition.
						
						<div class=example><code>
							main = fn:
								threadlocal var x = 1
								df 0..9:	;; loop 10 times
									thread: 
										wout[x]	;; prints 1 every time
										x++
										wout[x]	;; prints 2 every time
								wout[x]			;; prints 1
						</code></div>
					</td>
				</tr>
				<tr><td><code>atomic</code></td>
					<td><p>	Makes the statement it operates on atomic 
								- all activity that happens within that statement will not be visible to other threads until that statement is complete.
							<div class=example>
								<code>
								busyWait = fn seconds:	
									var t = time
									while time-t < seconds []
								
								a = 1
								f1 = fn:
									var temp = a
									busyWait[10]	;; 10 second wait
									a = temp + 1
								f2 = fn:
									var temp = a
									busyWait[1]		;; 1 second wait
									a = temp + 5
								
								main:
									thread: atomic f1[]	;; takes longer than f2
									thread: f2[]		;; (usually) starts second, (almost always) finishes first	
								</code>
							
								<p>	In the above example, f1 (usually) starts first and takes longer than f2. 
									Since f1 is atomic, the compiler/interpreter/runtime can choose to either run f2 or wait until f1 is finished. 
									If it decides to wait, a will be 2 when f2 runs, meaning that it will be 7 after f2 completes.
									If it decides to run, a will be changed to 6 before f1 completes, but f1 will see a's state when it began running (a == 1), 
										which means that after f1 completes, a will be 2.
									Realistically, the compiler/interpreter/runtime should see that the most efficient valid thing to do is not run f2 at all 
										(sort of, pretend it ran), since that result is the same as if f2 ran and completed while f1 was running.
								</p>
						
								<p>	What would happen if f1 completed before f2 did? 
									If f1 <code>busyWait</code>ed 1 second while f2 <code>busyWait</code>ed 10,
										the compiler/interpreter/runtime could still decide to have f2 wait until f1 completes. 
									But if it deicides f2 should run while f1 is running, f1 will complete first.
									This means f2 has to roll back. 
									Whatever it calculated while it was running would be invalid since f1 started first, 
										and so it will have to revert its changes and run with the new value.
									Realistically, the compiler/interpreter/runtime should be smart enough to know to wait until f1 finishes in that case, 
										but there are some cases where the compiler/interpreter/runtime cannot know, and a rollback is what happens in those cases.
								</p>
							</div>
						
						<p>	Note that in lima, all values are conceptually volatile 
								(<a href="http://en.wikipedia.org/wiki/Happened-before">happens-before</a> relationships are always guaranteed), 
								tho that volatility may be optimized away by the compiler if possible.
						</p>
					</td>
				</tr>
				
				<tr><td><span class=final></span></td>
					<td>Used on functions, causes the closure (the function) to immediately bind its upvalues 
							(the variables outside that function's immediate inner scope), 
							so that changes to the upvalues aren't visible to the function itself.
						This does something similar to what a do-statement does in coffeescript.
						Note that it is possible to finalize <span class=this></span> and variables accessed via <span class=self></span>.
						<div class=example><code>
							;; how a normal closure operates
							var a = 'hi'
							var f = fn:
								wout[a]
							a = 'no'
							f[]		;; prints 'no'
						
							;; how final changes things:
							var b = 'hi'
							var f2 = final fn:
								wout[b]
							b = 'no'
							f[]		;; prints 'hi'
							
							;; that last final function is equaivalent to this:
							var b = 'hi'
							const var constB = b	;; copy b to another variable
							var f2 = final fn:
								wout[constB]		;; use that copy instead
							b = 'no'				;; changing the original obviously doesn't affect the copy
							f[]		;; prints 'hi'
						</code></div>
						
						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>variableName <span class=more>variableNames</span></td>	
								<td>Returns an attribute like basic <span class=final></span> that binds only the variables whos names are given in the parameter list.
									<div class=example><code>
										var[a=5 b=6]
										var f = final[a] fn:
											wout[a' and 'b]
										a = 10
										b = 11
										f[]		;; prints '5 and 11' because a is bound early, but b is left as a free variable
									</code></div>
										
									Note that since the bracket operator is defined for <span class=final></span>, 
										brackets cannot be used to set this attribute over multiple statements (and so must be written individually).
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td>collate</td>
					<td>A parameterized attribute that sets the collation (the order of characters).
					
						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>characterList</td>	
								<td>Returns an attribute that uses the <code>characterList</code> as the collation.
									<div class=example><code>
										collate[{'a' 'b' 'c' 'd'}] var w = 'a'..'c'		;; w gets {'a' 'b' 'c'}
										
										collate[{'t' 'r' 'd' 'x'}][
											var x = 'r'..'x'			;; y gets {'r' 'd' 'x'}
											var y = "tea" < "dog"		;; z is set to true (since in this collation, 't' comes before 'd')
											var z = "trd" < "tea"		;; an exception is thrown since the collation doesn't define a relationship between 'r' and 'e'
										]
										
										
									</code></div>
										
									Note that there is no default collation. 
									If a comparison or range depends on a character that isn't included in the active collation,
										or there is no active collation, an exception will be thrown.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td>casemap</td>
					<td>A parameterized attribute that sets the upper-case/lower-case mapping for characters.
					
						<h5>Bracket Operator:</h5>
						<table class="methodDefinitionTable innerBorder">
							<tr><td><span class=bracketOperator></span></td>
								<td>characterMap</td>	
								<td>Returns an attribute that uses the <code>characterMap</code> to map between lower and upper case.
									The keys represent the lower case letter, and the values represent the upper case letter.
									Any letter that is neither upper case nor lower case should be considered both (and thus be its own key and value).
									<div class=example><code>
										casemap[{'a':'A' 'b':'B'}] var x = 'a'.upper	;; x gets 'A'										
									</code></div>
										
									Note that there is no default casemap. 
									If the <code>upper</code> or <code>lower</code> string methods are used for characters that aren't defined in the active casemap,
										or if there is no active casemap, an exception will be thrown.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
				<tr><td>encodingFail</td>
					<td>An attribute that contains a function that is called when a character encoding can't encode a 
							character in a lima-string.
						<table class="methodDefinitionTable innerBorder">
							<tr><td>encodingFail!</td>
								<td>encoding character</td>	
								<td><span class="copiedNote encodingFail">
										<code>encodingFail!</code> takes the <code>codec</code> object and the character that couldn't be encoded 
											as parameters, and the character it returns should be encoded in its place.
									</span>
									The default of this attribute is a function that throws an encoding exception.
									Changing the default of this attribute is used to do things like insert default characters into an encoding,
										as a graceful failure mode - for example, displaying a default character (like '?' or '&#9723;' in place of unencodable characters.
								</td>
							</tr>
						</table>
					</td>
				</tr>
				
			</table>
		</div>
		
		<div class=subBox1 title="Character Encodings">
			<table class="definitionTable">
			
				<tr><td>LimaEncoding-8</td>
					<td><p>	LimaEncoding is a physical (bits) representation of what a string is in Lima. 
							LimaEncoding can represent any string from any encoding,
								encapsulate the encoding within it if necessary.
						</p>
						
						<p>	LimaEncoding is based on Unicode.
							It represents all Unicode characters, with the exception of all the 
								<a href="http://en.wikipedia.org/wiki/Unicode_control_characters">control characters</a>
								other than the newline - 
								these are codepoints <code>U+0000</code> - <code>U+0009</code>, 
								<code>U+000B</code> - <code>U+001F</code>, and <code>U+007F</code> - <code>U+009F</code>.
							The Unicode characters LimaEncoding supports without using the alternate character markers (described below)
								are called LimaEncodings core characters.
							LimaEncoding-8 stores unicode characters in UTF-8 format.
						</p>
							
						<p>	It also adds the following codepoints:
							<table class="innerBorder">
								<tr><th>Codepoint</th> <th>Name</th> <th>Description</th></tr>
								
								<tr><td>U+000B</td> 
									<td>Space-extension codepoint</td> 
									<td><p>	Not a character by itself, this codepoint is repeated a number of times after the
												space codepoint (<code>U+0020</code>) to create a single character.
											The character's width should be one plus the number of space-extension codepoints 
												times the width of a single space.
											For example, a 4-space width space character would be written as 
												<code>{U+0020, U+000B, U+000B, U+000B}</code>.
										</p>
										<p>	This is intended to replace the tab character.
											With extended spaces, you can specify how much space is being created 
												(like a space) while also identifying as a single character (like a tab)
												so that programs can handle selections and backspaces like tabs.
										</p>
									</td>
								</tr>
								<tr><td>U+000C</td> 
									<td>Alternate character marker 1</td> 
									<td><p>	Also not a character by itself, this codepoint indicates the beginning of a
												character that doesn't have a unicode representation 
												(or is one of the excluded unicode control characters).
											LimaEncoding stores the name of the encoding that character is from
												with an index in a header section of the string format.
										</p>
										<p>	A non-unicode character would be written as:
											<div><code>{U+000C, </code><code>&lt;encodingByte></code><code>, </code>
												<code>&lt;characterLength></code><code>, </code>
												<code>&lt;characterBytes>}</code>
											</div>
											where 
											<ul><li><code>&lt;encodingByte></code> is an 8-bit index of the encoding</li>
												<li><code>&lt;characterLength></code> is an 8-bit length of the number of bytes in <code>&lt;characterBytes></code> minus 1 
													(so a binary value of 3 indicates that <code>&lt;characterBytes></code> is 4 bytes long).
												</li>
												<li><code>&lt;characterBytes></code> is the bytes of the canonical representation of the character 
													in the encoding its from.
												</li>
											</ul>
										</p>	
										<p>	This allows any character from any encoding to be stored in a string encoded into LimaEncoding.
											Note that when the excluded Unicode control characters are transcoded to LimaEncoding,
												they are translated using the alternate character marker in the same way as characters from other encodings.
										</p>
									</td>
								</tr>
								<tr><td>U+000D</td> 
									<td>Alternate character marker 2</td> 
									<td><p>	The alternate character marker allows for characters with representations longer than 256 characters long.
											This is the same as U+000C except the character is represented as:
											<div><code>{U+000D, </code><code>&lt;encodingByte></code><code>, </code>
												<code>&lt;lengthLength></code><code>, </code>
												<code>&lt;characterLength></code><code>, </code>
												<code>&lt;characterBytes>}</code>
											</div>
											where 
											<ul><li><code>&lt;lengthLength></code> is an 8-bit length of the number of bytes in <code>&lt;characterLength></code> minus 1.
												</li>
											</ul>
										</p>
									</td>
								</tr>
								<tr><td>U+000E</td> 
									<td>Header Marker</td> 
									<td><p>	Marks the beginning and ending of the LimaEncoding header.
											If this marker isn't the first codepoint of the string, the string has no alternate characters.
											If the marker is the first codepoint of the string, the string has the following header that
												contains a list of the other encodings the string contains.
											The header is represented as:
											<div><code>{U+000E, </code><code>&lt;encodings></code><code>, U+000E}</code>
											</div>
											where 
											<ul><li><code>&lt;encodings></code> is an ordered list of encodings 
													where each encoding is represnted in the following way:
													<div><code>{</code><code>&lt;length></code><code>, </code>
														<code>&lt;encoding></code><code>, </code>
													</div>
													where 
													<ul><li><code>&lt;length></code> is a 16-bit length of the number of bytes in <code>&lt;encoding></code> minus 1.
														</li>
														<li><code>&lt;encoding></code> is the string representation of the encoding represented only by core-characters of LimaEncoding-8 (ie. a subset of UTF-8).
														</li>
													</ul>
												</li>
											</ul>
										</p>
									</td>
								</tr>
							</table>
						</p>						
						
						<p>	Since most characters have a unicode representation, special characters will be very infrequently used.
							So strings encoded in LimaEncoding-8 will usually be identical to its UTF-8 counterpart.
						</p>
				
					</td>
				</tr>
				<tr><td>LimaEncoding-16</td>
					<td>Exactly like LimaEncoding-8 but the representation of the core-characters is UTF-16.
						
					</td>
				</tr>
				
				<tr><td>UTF-32</td>
					<td> UTF-32 encoding. This can also be used to find Unicode codepoint number/numbers for a given character.
					</td>
				</tr>
				<tr><td>UTF-16</td>
					<td>
					</td>
				</tr>
				<tr><td>UTF-8</td>
					<td>
					</td>
				</tr>
			</table>
		</div>
	</div>
	
	
	<div class="mainBox mainTitle" title="Miscelaneous">
		
		<table class="definitionTable innerBorder">
			<tr><td>;;</td>	
				<td>Single-line comment (everything after it on the same line is a comment).
				</td>
			</tr>
			<tr><td>
					;;[
					;;]
				</td>	
				<td>Span-comment. 
					Can be used as a multi-line comment, or a comment within a line.
					Span-comments can nest, meaning that the ;;[ and ;;] follow normal bracket-matching rules.
					This means that you can comment out a small part of code, and then comment out a larger part of code that includes the smaller commented out part - without rearranging the comment markers.
					Examples:
					<div><code>
						var x ;;[ a variable ;;] = 4
						;;[	var y
								var z ;;[ used somewhere else ;;]
						;;]
					</code></div>
					Span-comments are treated exactly like whitespaceed so, for example, <code>abc;;[;;]def</code> is two tokens, abc and def, not one abcdef token.
				</td>
			</tr>
			
			<tr><td>assert[booleanStatement probability=1]</td>	
				<td>Asserts that something is true at a given point in the code with a probability of <code>probability*100</code> percent (<code>probability</code> must be a number in 0 through 1). 
					Meant for use in debugging and giving the compiler the information neccessary for certiain types of optimization. 
					<code>asert</code> is an alias for <code>assert</code>.
				</td>
			</tr>
			
			<tr><td>always[booleanValue probability=1]</td>	
				<td>Asserts that something should always be true in at all points in the current scope (takes the same arguments as assert).
					Can be used both in objects' <span class=declaration></span> and in functions.
					If the compiler or runtime finds out the condition is false, an error will be thrown.
					Takes the same arguments as <code>assert</code>.
				</td>
			</tr>
			<tr><td>always[function probability=1]</td>	
				<td>Like a normal <code>always</code>, but the function should always return true.
					<span class=sideEffectSurpression>Side affects are surpressed</span> in the execution of that function.
				</td>
			</tr>
			
			<tr><td>ensures</td>	
				<td>An assertion for post conditions of a function.
					Takes the same arguments as <code>assert</code>.
				</td>
			</tr>
			
		</table>
	
	</div>
	
	<div class="mainBox mainTitle" title="Parse Function">
		
	</div>
	
		
	<div class="mainBox mainTitle" title="Concepts">
		<ol>		
			
			<li title="How to access elements from the end of a list">
				In some languages, you have special syntax for accessing items from the end of an array like this: <code>someList[-4]</code>.
				This would access the 4th to last element of the array.
				Lima doesn't have that syntax (since any value is already a valid key to use in an object), 
					but you can do the same thing in one of two ways:
				<div><code>
				{1 2 3 4 5}.sort[-v][3]	;; sort the list in revrse, then select the the 4th element (the 4th to last element of the original list - 2)
				
				x = {1 2 3 4 5}			;; ..
				x[x.len-4]				;; another way to access the 4th to last element
				</code></div>
				Because lima should optimize this, using sort should be just as good as using the length.
			</li>
			
			
			<li title="Default function parameters defined recursively">
				<code>
					fn functionName
					 int[a b]: 
					      ret a+b
					 int a: 
					      ret thisfn[a 1] ;;[ here, if the function is called with only one argument, 
					                            then b defaults to 1 ;;]
				</code>
			</li>
			
			<li title="How to access shadowed variable names using self.">
				<code>
					var x = 5      ;; x1
					var y = {      ;; y1
					  x= 10         ;; x2
					  y= fn a:      ;; y2 (naming the parameter x instead of a is illegal here)
					     var x1~>self.x~
					     var y = {   ;; y3
					     	x2~>self.x~
					        x=10      ;; x3
					        y=fn b:   ;; y4 (naming the parameter x instead of b is illegal here)
					           self.x ;; references x3
					           x1     ;; references x1
					    	   ;; trying to access 'x' here is illegal
					     }
					}
				</code>
			</li>			
			
			<li title="How to get all the unique values in a list">
				<code>x.group[v][0]</code>
			</li>
			
			<li title="How to emulate the do-while loop from C">
				To emulate a do-while, you can have an infinite loop that has a break condition at the end of it:
				<div><code>
				while 1: 	;; the 'do' of C's do-while
					wout "I'm finally in the loop!/n"
					;; ....
					if someCondition: break		;; the 'while' of the do while
				</code></div>
			</li>
			
			<li title="How to reverse a list and how to do a descending sort">
				<code>
					var x = {1 2 3}
					x.sort[-k] ;; sort by the negative of the index (key)
					;; returns {3 2 1}
					
					var y = {1 5 2 5 93 0 -4}
					y.sort[-v] ;; sorts on the negative of the value
					;; returns {93 5 5 2 1 0 -4}
					
					y.sort[[ !(v&lt;v2) ]] ;; the complement of any expression in sort[[ ]] is a reverse sort
					;; also returns {93 5 5 2 1 0 -4}
				</code>
			</li>
			
			<li title="How to find a minimum or maximum">
				Because lima will optimize away most unneccessary processing, finding a minimum can use the first value returned from a sort.
				It might seem nice to have a <code>minimum</code> function, but what happens when you need to find the 4th lowest value in a list? 
				Or if you need all 4 lowest values? 
				Using sort gives a good generalized way of finding this type of thing: 
				<div><code>
					var x = {5 2 87 9 6 8 4}
					x.sort[v][0]	;; sort by value and get the first element - the minimum
					
					x.sort[v][3]	;; find the fourth lowest value
					
					x.sort[v][0..3]]	;; get the 4 lowest values
					
					x.sort[-v][0]	;; find the maximum
				</code></div>
			</li>
			
			<li title="How to re-key an array">
				If you select a slice of a list or something, the keys are preserved. 
				In such cases, you might want to rekey the array, so that all its members are elements.
				<code>
					"hello"[[k>2]]			;; returns the object {3:'l' 4:'o'}
					"hello"[[k>2]].sort[k]	;; returns the object {0:'l' 2:'o'}, or equivalently "lo"
				</code>
			</li>
			
			<li title="How to do something only between items? Is there a 'join'/'implode' method?">				
				You can emulate classical string join (implode in php) using the psuedo-method ins and the join method:
				<code>
					var L2 = {1 2 3 4 5}.ins[[', ']]	;; this returns the list {1 ', ' 2 ', ' 3 ', ' 4 ', ' 5}
					wout L2.join[a.cat[b]] 		;; this will print the list with commas
				</code>
			</li>
			
			<li title="Accessing object memebers shadowed by nested objects">
				The trick is to make a reference to the object itself
				<code>
				x = 
				{	mythis ~> this	;; mythis points to this
					myself ~> self	;; myself points to self
					a=5
					b=23
					c=89
					obj=
					{	a = 'hi'
						b = a	;; b gets the value 'hi'
						func = fn
						[	var b=34	;; errors, becuase b is already declared in the current object
							var c="nope";; errors, because c is already declared in a containing object 
						
							wout a		;; errors, because a is an ambiguous name
							wout self.a ;; prints "hi"
							wout self.b	;; prints "hi" again
							
							wout mythis.a 	;; prints 5
							wout c			;; prints 89
							wout mythis.c	;; also prints 89
							wout myself.c	;; prints 89 again
						]
					}
				}
				</code>
			</li>
			
			
			<li title="Translators in lima">	
				<p>In Lima, internationalization is done using the concept of translators.
					A translator is a function that takes one input - a value, to translate - 
						and returns a value in another language.
					The value would be in some standard format, say a string in english or an integer.
					The translator function itself could be as simple as a map that can only translate specific phrases
						(similar to localized property files in Java),
						or can be as complex as a full langauge translator able to translate arbitrary structures.
					
					<div class=example><code>
						dateTranslator.from['en'].to['en'].translate['monday']
						dateTranslator.from['en'].to['en'].translate['am']
					
						var spanishTranslator = translatorFactory.from['en'].to['es']
						spanishTranslator.translate['one'] ;; would return 'uno'
					
						var romanjiTranslator = translatorFactory.from['en'].to['ja' 'romanji']
						romanjiTranslator.translate['one'] ;; would return 'ichi'
						
						var smartTranslator = englishTranslatorFactory.context['businessMumboJumbo']
						smartTranslator.translate["Let's discuss that later"] ;; might return "Let's table that for now" or "Lets put a pin in that"
						smartTranslator.translate["What is your request?"]     ;; might return "Whats the ask?"
					</code></div>
				</p>
				<p> They don't have to neccessarily be just for words, 
						you could use them for time formats or other locale-specific formats for things.
					<div class=example><code>
						translator.translate[5] 		             ;; could return "five"
						translator.translate[{animal="dog" feet=4}]  ;; could return "perro tiene cuatro patas"
						
						currencyTranslator.lang['en' 'US'].translate[400345000.045]	;; would return "400,345,000.45"
						currencyTranslator.lang['en' 'CA'].translate[400345000.045]	;; would return "400,345,000.45"
						currencyTranslator.lang['no'].translate[400345000.045]	    ;; would return "4.294.967.295,000" 
						
						moneyTranslator.lang['en'].currency['eur'].translate[500.34]     ;; would return "500.34"
						moneyTranslator.lang['lt'].currency['eur'].translate[500.34]     ;; would return "500,34 "
					</code></div>
				</p>					
			</li>
			
			<li title="How to describe a hardware bus in Lima">
			</li>
			
			<li title="Accessing overridden methods">
				<code>
				x = 
				{	a = 5
					t = fn
					[	ret 'x'
					]
				}
				y = 
				{	use x![t] 		;; using all x's members except t
				
					t = fn 	  ;; override the old t
					[	ret privateOldt[].cat['y']
					]
					oldt = fn
					[	ret privateOldt[]
						;;[ of course we could have just inherited x's t member 
							as a public member and wouldn't have had to
							write this method ;;]
					]
					
				 private:
					use x[t : privateOldt] ;; using x's t member aliased as private member oldt
				}
				
				y.t ;; returns 'xy'
				y.oldt[] ;; returns 'x'
				</code>						
			</li>
			
			<li title="Generics using <code>type</code> variables">
			<code>
				foo = fn
				[x, list[x!] y:
				 	;; do stuff    
				]
			</code>
			</li>
			
			<li title="Creating generators, custom iterators, and coroutine-like semantics in lima">
				<p> Generators and custom iterators aren't neccessary in lima, because optimizations like lazy list building (infinite or finite lists) 
						and futures/promises, take the burden off the programmer, and puts it on the compiler/interpreter. 
					Things done with coroutines should be done using normal list semantics (which makes code more consistent and allows the list results from these to be operated on by any function that operates on a list).
					Generators, custom iterators, and corountines can all be implemented either using function immediates, list semantics, or full-fleged threads.
					
					For example, a custom iterator:
					<div><code>
						var threeTimes = fn f:
							df 1<span class=rangeOperator></span>3:
								f[]
						
						threeTimes[fn:
							wout 'cry/n'
						]
					</code></div>
					
					or a generator:
					<div><code>
						createInfiniteList = fn:
							var theList = {}
							var next = 1;
							while 1:
								infiniteList.ins[=next]
								next++
							ret theList
						
						infiniteList = infiniteList[]
						wout[infiniteList[3]] 	;; prints 4
					</code></div>
					
				</p>
				<p> Lima doesn't need semantics like yield to impliment coroutines.
					In ECMAScript 4:
					<div><code>	
						function fringe (tree) {
							if (tree is like {left:*, right:*}) {
								for (let leaf.in fringe(tree.left))
									yield leaf
								for (let leaf.in fringe(tree.right))
									yield leaf
							} else {
								yield tree
							}
						}
						
						/&#173;/;; tree
						var tree = { left: { left: 37, right: 42 }, right: "foo" }
						
						for ( let x.in fringe(tree) ) {	/&#173;/;; Iterate over the tree
						  trace(x); /&#173;/;; 37, 42, "foo"
						}
					</code></div>
					<p>The same can be done much more simply in lima like this:<p>
					<div><code>
						fringe = fn	tree:	;; returns a (possibly lazily constructed) list 
							if like[tree {var[left right]}]:
								ret fringe[tree.left].cat[fringe[tree.right]]
							 else:
								ret {tree}
						
						var tree = {left = {left=37 right=42} right='foo'}
						df fringe[tree] : x :
							wout x
					</code></div>
			</li>
			<li title="Creating tuples using an array of types">
				<code>
					chooseset[int string fn!]	;; maybe this is wrong?
				</code>
			</li>
			
			<li title="Reversing a linked list in Lima">
				Though there would probably be no reason to ever create a linked list in Lima,
					it's informative to show how one of the most common interview questions is done:
				<code>
					// head node of a linked list
					node = { 
					    ref? next 
					}
					
					reverse = fn node! head:
					  ref? previous ~> nil
					  while head !~> nil:
					     {head.next previous head} ~> {previous head head.next}
					  head = previous
					
					main: 
					  var head = {"A" next~>{"B" next~>{"C" next~>{"D"}}}}
					  reverse[head]	
				</code>
			</li>
	
									
			<li title="Creating C unions using class and set syntax">
				<code>
					aUnion = 
					{   chooseset[flo int string] value       ;; using a set of types as a tuple type
						acc f               ;; float accessor
						[  ret ref[value]
						]
						acc i
						[	ret self.f      ;; int accessor
						]
						acc s
						[	ret self.f		;; string accessor
						]
					}
				</code>
			</li>
			
			
			<li title="Using don't cares in logic">
				You can use <code>arb</code> to implement don't cares in an if statment:
				<code>
					if: a==5 $ arb[{true false}]
						;; do something
				</code>
				
				This means that it will always <code>;; do something</code> if a equals 5, but if a does not equal 5, 
					then the compiler can choose whether or not to execute that code (if it somehow simplifies the logic of the program)
			</li>
			
			<li title="Using an object as a stack (FILO)">
				<code>
					list[int] stack
					stack.ins[=3]			;; push
					stack.ins[=5]			;; push
					wout[ stack.cut[stack.len-1] ]   ;; prints 5
					wout[ stack.cut[stack.len-1] ]   ;; prints 3
					
					wout[ stack.cut[stack.len-1] ]   ;; prints 5
				</code>
			</li>
			<li title="Using an object as a queue (FIFO)">
				<code>
					list[int] queue
					queue.ins[=80]              ;; enqueue
					queue.ins[=92]              ;; enqueue
					wout[ queue.cut[0] ]       ;; dequeue 80
					wout[ queue.cut[0] ]       ;; dequeue 92
				</code>
			</li>
			
			
			
			<li title="Using an object as a set">
			</li>
			
			<li title="Doing SQL-like selects from objects">
				In SQL:
				<div><code>
					select productid, sum(unitprice * quantity) as total
					from o in db.orders
					inner join rd in db.orderdetails
					on o.orderid == rd.orderid
					where o.zipcode == 94503
					group by rd.productid
				</code></div>
				
				and in Lima:
				<div><code>
					db.orders.map[ {use[ v db.orderdetails[[o: o.orderid == v.orderid]][0] ]} ] ;; join
						[[ v.zipcode == 94503 ]]											;; where
						.map[ {productId=v.productId  price=v.unitprice*v.quantity][0].rd 	;; 
						.group[v.productId].map[{ v[0].productId  v.join[a.price+b.price] }]
				</code></div>
			</li>
			<li title="Doing XQuery/XPath-like selects from objects">
				In XQuery:
				<div><code>
					for $b in $bs/book
					return
					 <result>
					   {$b/title}
					   {$b/author}
					 </result>					
				</code></div>
				
				And in Lima:
				<div><code>
					bs.book[[ v[k.in {'title' 'author'}] ]]			;; one way
					bs.book[[ {title=v.title  author=v.author} ]]	;; another way
				</code>
			</li>
			
			
			<li title="Function references used with dynamically created anonymous functions">
				<code>
				ref.fn theFunc
				anonFuncCreator = fn list[string string] characters:	;; takes in a mapping from character to character
					theFunc ~> fn string a:	;; create anonymous function
						static list[string string] map = characters
						
						if {a} < map.keys:	;; if map has the key a 						 
							ret map[a]
						 else:
							ret a	;; returns input character if there is no mapping
				</code>
			</li>
			
			
			
			<li title="Using functions like a wires in Verilog and other hardware description languages">
				In hardware design, a wire is what connects an input of a device to the output of another device. 
				In Lima, one can describe the same functionality as a wire using functions:
				<code>
				main = fn:
					int[ a=2 b=5 c=13]
					fn! aWire = fn[ ret c+b*a ]	;; acts like a wire
					wout aWire[]   ;; will print '23' (13+5*2)
					a+=4
					wout aWire[]   ;; will print '43' (13+5*6) 			
				</code>
			</li>
			<li title="Using event syntax to emulate 'posEdge' and 'negEdge' like in Verilog and other hardware description languages">					
				<code>
				when
				[change[a off on]:  ;; reacts to a positive edge: 0 to 1
					;; do something
				 change[a on off]:  ;; reacts to a negative edge: 1 to 0
					;; do something
				]
				</code>
			</li>				
				
			<li title="How to check if an object 'has' a member">
				<code>
				var o = {1 3 9 12 15}
				var o2 = {var[x=90]}
				o.keys >= {2}	;; true (has the value 9 at index 2)
				o.keys >= {12}	;; false
				o2.keys >= 'x'	;; true since o2 has a defined member x
				</code>
			</li>		
			
			<li title="Testing for set relationships and value containment">					
				Testing set comparisons between two lists can be done in multiple ways. 
				For consistency, only one of those ways is preferred and the compiler will correct code that uses the un-preferred comparisons.
				
				<ol type="a">
					<li><h4>How to test if an item is contained in an object/list</h4>
						<ul><li><span style="color:red;">Preferred</span>: 
								<code>{theItem} < theList</code> asks "Is the object consisting only of theItem a subset of theList?"
								
								<div><code>
								var o = {1 3 9 12 15}
								var o2 = {'H'}
								{3} <= o ;; true
								{2} <= o ;; false
								{"H"} <= o2 ;; true
								{"H"} < o2 ;; false because {"H"} is not a proper subset of itself
								</code></div>
							</li>
							<li><code>theList[[{v}==theItem]].join[a$b]</code> asks "Does any member in theList equal theItem". 
							</li>
						</ul>
					</li>
					<li><h4>How to test if a list is an improper subset of another</h4>
						<ul><li><span style="color:red;">Preferred</span>: 
								<code>list1 <= list2</code> asks "Is list1 a subset of list2 or equals list2?".
							</li>
							<li><code>list1[[ list2[[v2:v == v2]].join[a$b] ]].join[a&b]</code>  asks "Does every member in list1 equal some item in list2?" 
							</li>
						</ul>
					</li>
					<li><h4>How to test if a list is a proper subset of another</h4>
						<ul><li><span style="color:red;">Preferred</span>: 
								<code>list1 < list2</code> asks "Is list1 a proper subset of list2".
							</li>
							<li><code>list1[[ list2[[v2: v==v2]].join[a$b] ]].join[a&b] & list2[[list1[[v1: v!=v1]].join[a$b] ]].join[a&b] == no</code> asks "Does every member in list1 equal some item in list2? And is there some item in list2 that doesn't equal any item in list1?" 
							</li>
							<li><code>list1[[ list2[[v2: v==v2]].join[a$b] ]].join[a&b] & list1!<>list2</code> asks "Does every member in list1 equal some item in list2? And does list1 not contain all the members that list2 contains?"
							</li>
						</ul>
					</li>
				</ol>						
			</li>
			
			<li title="Cutting values from an object/list or file">					
				<ul><li><span style="color:red;">Preferred</span>: 
						<p><code>var cutCharacters = aList.cut[[k.in 200<span class=rangeOperator></span>285]]</code>
						</p>
						<p>	After this code is run, <code>aList</code>'s <span class=element>elements</span> with keys larger than 285 are shifted "left" 
								so that an <span class=element></span> originally having the key 286 will now have the key 200, etc.
							This method works on members that are not <span class=element>elements</span>, but no shifting happens.
						</p>
					</li>
					<li><div><code>
						var cutCharacters = aList[[k.in 200<span class=rangeOperator></span>285]]
						aList = aList[ !({k} < cutCharacters.keys) ].sort[k]	;; get the list without the cut characters and rekey them (via sort)
						</code></div>
					</li>
					<li><div><code>
						var cutCharacters = aList[[k.in 200<span class=rangeOperator></span>285]]
						df cutCharacters v k: aList[k] = nil	;; delete all the members that were cut
						</code></div>
					</li>
				</ul>
			</li>
			
			<li title="Where is text-mode for opening files?">					
				Files are always opened as binary in Lima.
				Text-mode, in a language like C, encodes newlines in a platform specific on certain platforms.
				In reality, this is just another encoding, and Lima treats it that way.
				If you need to handle operating-system specific newlines, you should open a file with the appropriate 
					decoder that handles those OS-specific newlines.
			</li> 
			
			<li title="Difference between <code>list[[ list2[[v2:v==v2]].join[a$b] ]].join[a&b]</code> and <code>list2[[ list[[v1: v==v1]].join[a&b] ]].join[a$b]</code>">					
				The first means "Does every member in list equal some member of list2?", 
					while the second means "Does any member in list2 equal every member of list2?". 
				Example, 
				<code>
				{1 2 3}[[ {4 5 6}[[v2: v == v2]][<b>$</b>] ]][<u>&</u>] ;; is the same as:
				{4 5 6}[[v2: 1 == v2]][<b>$</b>] <u>&</u> {4 5 6}[[v2: 2 == v2]][<b>$</b>] <u>&</u> {4 5 6}[[v2: 3 == v2]][<b>$</b>] ;; which is the same as:
				(1==4 <b>$</b> 1==5 <b>$</b> 1==6) <u>&</u> (2==4 <b>$</b> 2==5 <b>$</b> 2==6) <u>&</u> (3==4 <b>$</b> 3==5 <b>$</b> 3==6)
				;;while
				
				{4 5 6}[[ {1 2 3}[[v2: v == v2]][<u>&</u>] ]][<b>$</b>] ;; is the same as:
				{1 2 3}[[v2: 1 == v2]][<u>&</u>] <b>$</b> {1 2 3}[[v2: 2 == v2]][<u>&</u>] <b>$</b> {1 2 3}[[v2: 3 == v2]][<u>&</u>] ;; which is the same as:
				(4==1 <u>&</u> 4==2 <u>&</u> 4==3) <b>$</b> (5==1 <u>&</u> 5==2 <u>&</u> 5==3) <b>$</b> (6==1 <u>&</u> 6==2 <u>&</u> 6==3)
				</code>
			</li>	

			<li title="Creating singletons with static variables">
			
			</li>	
			<li title="Counting items in a list">
				<code>list[[v==value]].len</code> counts the number of members that equal <code>value</code>
			</li>	
			<li title="Finding the index of an item">
				<code>list[[v==value]].keys[0]</code> finds the index of the first member of the list that equals <code>value</code>
			</li>	
			<li title="How to floor and ceiling a number">
				<code>
				var x = 5.23456
				var floor = x//1		;; exactly like floor
				var ceiling = x//1+1	;; exactly like ceiling
				</code>
			</li>	
			<li title="List comprehension using conditional array accessing">
				The Haskal list comprehension syntax:
				<div><code>s = [ 2*x | x <- [0<span class=rangeOperator></span>100], x^2 > 3 ]</code></div>
				and the equivalent python list comprehension syntax:
				<div><code>s = [2*x for x.in range(100) if x**2 > 3]</code></div>
				can be done in Lima by doing:
				<div><code>s = (0..100)[0 100][v^2 > 3][[v*2]]</code></div>
			</li>		
			<li title="Doing <code>filter</code> using the list[  ] syntax">
				The filter function in python and other languages creates a new list of items from the items in a list that cause some function to return true. 
				For example, "filter(list, GT4)" might return a list of elements that are greater than 4. 
				In lima this can be done like this: <code>list[v>4]</code>
			</li>
			
				
			<li title="How to select a column from a row-first matrix (or a row from a column-first matrix)">
				To select a list of second-dimension items from a multi-dimensional list, you'd use the map method. E.g.:					
				<div><code>
					var rowFirstMatrix = {
						{1 2 3}
						{4 5 6}
						{7 8 9}	
					}
					
					rowFirstMatrix[2]	;; selects the second row: {4 5 6}
					
					rowFirstMatrix.map[v[2]] ;; selects the second column: {2 5 8}
				</code></div>
			</li>
			
			<li title="Where are my enums?">
				Lima doesn't have an enum construct, but you can still do enums using a pattern some lazy programers already use: returning strings.
				In most languages, the IDE and compiler don't have any insight into the values a function can return, but in Lima they do.
				Using simple strings as enums gives the benefits of not having to explicitly enumerate all possible values 
					(duplicating the values you would already be using).
				<div><code>
					var colors = fn int x:
						if x == ?0::
						 1:	ret 'blue'
						 2: ret 'green'
						 3: ret 'purple'
					
					var color = colors[1];
					if 
					 color == 'green':	
						wout['GREEN!']
					 color == 'purpel':		
						wout['PURPLE!']	;; IDE/compiler/interpreter should tell you this code path can never happen because the function will never return that misspelling 'purpel'
						
				</code></div>
			</li>
			
				
			<li title="When to declare uninitialized">
				Lima will attempt to find any variables that are un-initialized upon first read access. 
				When a variable has a particular spot in your program that it is set, it is best to let it be set there, rather than setting it in both there and at the declaration. 
				The reason for this is that you can find problems earlier if you don't build redundancies into your program. 
				A redundancy can make your program work the first iteration of a process, but then it will fail the second time (or later) - which is a much more mysterious problem to debug.
			</li>	
			<li title="Inheritance in Lima">	
				Lima doesn't have traditional inheritance.
				Lima instead takes the approach of languages like lua, lisp, and Ruby in providing "mixins" or "traits" rather than parent-child inheritance. 
				Lima's form of inheritance is what's formally referred to as 'traits' (though unlike tranditional traits, 
					objects can inherit state) and are similar to mixins.
				Members from one object can be <code>mix</code>ed by or <code>use</code>d in another, but there is no sub-class/super-class relationship.
				Any conflicting members must be explicitly disambiguated (by renaming one or both members, or excluding one or both members).
				A consequence of this is that there is no automatic solution to the <a href="http://en.wikipedia.org/wiki/Diamond_problem">diamond problem</a>, and solving any diamond problem is left to the programmer 
					(though the compiler or interpreter will not fail silently but will force a solution to be made).
				Lima opts to not have inheritance for the same reason Go opts not to (http://golang.org/doc/go_faq.html#inheritance),
					inheritance is too complicated and can cause insidious bugs. 
				However, Lima's trait-like system gives the programmer the flexibility of multiple inheritance, with the safety of single.
			</li>
			
			<li title="atexit - a function that runs when the program exits">
				Lima doesn't offer an atexit function. 
				This is because atexit functions are prone to cause scattered code. 
				Instead, if you want to do something like this, create a function that does exit code. 
				Whenever you need to For example:
				<div><code>
				fn exitFunc
				[   5+4
					doSomeFunction[ ]
					obj.save[ ]
					;; etc
					exit
				]
				</code></div>
				
				Also, object desctructors could cover the use cases you would use atexit for.
				Or possibly you could use a catch-finally block for this as well.
			</li>	
			<li title="Does Lima do proper tail calls?">
				Lima was built with the intention of being fully automatically opimized, 
					and therefore doesn't have any specification of concepts like tail-calls that affect the speed of a program, but not the output.
				In short, any reasonable Lima implementation should implement proper tail calls, but it isn't part of the language.
			</li>			
				
			<li title="How do to short-circuit evaluation?">
				<p>	Lima doesn't do short circuit evaluation by default 
						(though it may optimize certain boolean operations such that they do short-circuit evaluation under the hood).
					So how do you do it when you want it?
					<div class=example><code>
						;;In java, you might want to do things like this every once in a while:
						if(	y != 0 && 5/y > 1 
							|| x.equals("yes") && testFunctionWithSideEffects()
							|| z != null && z.isTrue
							|| w != null && w.method()
						) {
							doSomething();	
						}
						
						;; In lima:
						if 	if[y!=0: 5/y>1 else: false]		;; use if's return value
							$ if[x=='yes': testFunctionWithSideEffects[] else: false]
							$ z?.isTrue[] == true			;; use the safe-navigation operator
							$ z?.method?[] == true			;; have to check if its true because it could be nil
					</code></div>
				</p>
			</li>
			
			<li title="How to force a statement's inputs to be lazily evaluated?">
				<p>	The attributes <span class=eager></span> and <span class=ready></span> allow a programmer to specify how 
						external output may be grabbed before it's used. 
					But for statments without this attributes, the optimizer can choose whether to grab a file lazily or not 
						(it might not if it thinks starting loading some output will lower latency later) and
						there is no attribute to specify explicitly lazy data grabbing.
					So how do you specify that you want some external input to be grabbed lazily? 
				</p>
				<p>	You would need to use some kind of runtime behavior definitions - 
						defining the latency/speed behavior in different segments of code. 
					The way to define this is not yet specified, but it is definitely needed to 
						define garbage collector behavior to prevent performance degredation during critical program events (like user input).
				</p>
				
			</li>
			
			<li title="Using a custom function to modify code">
				<p>	A useful use of custom functionality is to modify normal syntax to mean something not-so-normal.
					For example, a custom function could be defined such that this:
					<code>
						atomicAssignment [
							a = getFromServer['a']
							b = getFromServer['b']
							c = getFromServer['c']
							d = getFromServer['d']
							e = getFromServer['e']
						]
					</code>
					
					is transformed into:
					
					<code>
						var temp_a = getFromServer['a']
						var temp_b = getFromServer['b']
						var temp_c = getFromServer['c']
						var temp_d = getFromServer['d']
						var temp_e = getFromServer['e']
						
						atomic [
							a = temp_a
							b = temp_b
							c = temp_c
							d = temp_d
							e = temp_e
						]
					</code>	
					
					This would have the benefit of being much easier to write, while also allowing all those variables to be swiched at exactly the same time.
					This could be useful when, for example, a program a caching mechanism that refreshes periodically.
						
				</p>
				
			</li>
			
			<li title="C pointers vs Lima pointers">
				The placement of the * and & symbols in C are not very intuitive, 
					and force the reader to mentally parse a group of very similar looking syntax into very different semantics
					(values vs addresses). 
				Lima's pointer syntax aims to reduce this cognitive load.
				As an (imperfect) quantatitive measure, we can count the number of "weird" symbols in this set of statements:
				<div><code>	
					;;   C         	Lima
					int a=5			int a = 5
					int *p, *p2    	ref.int[p p2]
					int** p3, **p4 	ref.ref.int[p3 p4]
					p = &a 			p ~> a
					p2 = p			p2 ~> p
					p3 = &p			p3 ~> p~
					*p = a			p = a
					*p = *p2		p = p2
					*p = **p3		p = p3
					p = *p3			p ~> p3
					a = **p3		a = p3
					p4 = p3			p4~ = p3~
					*p4 = *p3		p4 ~> p3~~
					**p4 = **p3		p4 = p3
				</code></div>
				
				C has a count of 22 "weird" symbols (consisting of the structures: '*' and '&'),
					whereas Lima has a count of 13 weird symbols (consisting of the structures: 'ref', '~', and '~>').
				This significantly lower number indicates that the reader doesn't have to do as much mental work to understand 
					the statements.
				Lima's reference syntax is easier than C's when pointers are being pointed to normal values 
					or are being used as the values they reference, but is harder when pointers are being pointed at other
					pointers, especially for higher level pointers (a pointer to a pointer to a pointer... etc).
				The argument here is that pointers are more often pointed at normal values and being used as those normal values,
					than being pointed at eachother.
				And higher level pointers are very rare.
			</li>
			
			<li title="Creating a sparse matrix">
				<p>	<code>
					var sparseMatrix = {
						private var internal = {}
						
						access 
						 get else index:
							ret interal[index] | 0
						 set else index value:
							internal[index] = value 						
					}
					</code>
				</p>
				
			</li>
			
			
			<li title="Emulating switch statement fallthrough in Lima">
				<p>	In languages like C, a switch statement allows what's known as "fallthrough" where the statements under a 'case' continue onto 
						the statements in the next 'case' unless you 'break' out of that case. 
					Here's an example in C:
					<div><code>
					switch( someValue ) {
					 case 1: printf("One");
					 		 break;
					 //....
					   
					 case 20: printf("Twenty");
					 
					 case 21:
					 case 22:
					 case 23: printf("Twenty-three");	
					}
					</code></div>
					
					If <code>someValue</code> is 1, "One" will be printed, since it <code>break</code>s out of that case. 
					If <code>someValue</code> is 23, "Twenty-three" will be printed, because there are no cases after it. 
					If <code>someValue</code> is 21 or 22, "Twenty-three" will still be printed, because they simply fall through to case 23's statments.
					If <code>someValue</code> is 20, "TwentyTwenty-three" will be printed, because case 20 has its own statement 
						but still continues on to the statements in the next case (cases 21, 22, and 23).
					That last sequence of events for case 20 is generally considered pretty evil, because it's hard to read and it's easy to make mistakes that way.
				</p>
				<p>	Lima doesn't have fallthrough, but there are a couple ways to write the same behavior in more readible ways than using fallthrough.
					This Lima code does the same thing as the C code above, using the ability for Lima's if to change <span class=Qcond></span> templates:
					<div><code>
					if someValue == ?0::
					  1:	wout['One']
					 
					  ;;....
					 
					 someValue.in ?0::
					 
					  {20 21 22 23}: 
						if someValue == 20: wout['Twenty']	;; only print 'Twenty' if the value is 20
						wout['Twenty-three']				;; print 'Twenty-three' for all four values
					</code></div>
					
					Another way using goto-style continuation jumping (this is how you would do it in C# as well):
				
					<div><code>
					if someValue == ?0::
					  1:	wout['One']
					 
					  ;;....
					 
					  20: jump twentyThree		;; this might be less verbose in some cases
					  
					  21: jump twentyThree
					  22: jump twentyThree
					  23: contin.twentyThree
						wout['Twenty-three']			
					</code></div>
				</p>
			</li>
			
			<li title="How to emulate Attributes using <code>threadlocal</code> variables">
				<p>	You could use normal global variables to emulate attributes, but functionality would break when used across threads.
					To do it properly you need to use the <code>threadlocal</code> attribute.
					
					The section on attributes has an example showing function calls that either print "Its red" or "Its not red". 
					Here is how to have the same (proper) behavior using <code>threadlocal</code>:
				</p>
				
				<div><code>
					const var redDefault = false		;; can be global, since its never changed
					threadlocal var red = redDefault
					
					main = fn:
						df 0..100:
							thread: 
								A[]     ;; prints "Its not red"
								var saveRed = red   
								red = true
								A[]	;; prints "Its red"
								red = saveRed
								
								B[]		;; prints "Its not red"
								var saveRed = red   
								red = true
								B[]	;; prints "Its not red"
								red = saveRed
					
					var A = fn:
					   printColor[]
					var B = fn:
					   var saveRed = red   red = redDefault
					   printColor[]
					   red = saveRed
					var C = fn:
						var redsValue = red
						thread:		;; note that this thread will have a new threadlocal variable red
							red = redsValue   ;; need to set the new threadlocal variable to what it is where the thread was created
							printColor[]
					
					var printColor = fn:
					   if red:
					      wout['Its red']
					    else:
					      wout['Its not red']
				      
				</code></div>
				
				Here's the same code using attributes:			
				<div><code>	
					attribute red
								
					main = fn:
						df 0..100:
							thread: 
								A[]     ;; prints "Its not red"
								red A[] ;; prints "Its red"
								
								B[]     ;; prints "Its not red"
								red B[] ;; prints "Its not red"
					
					var A = fn:
					   printColor[]
					var B = fn:
					   !red printColor[]
					var C = fn:
						thread:
							printColor[]
					
					var printColor = fn:
					   if red!:
					      wout['Its red']
					    else:
					      wout['Its not red']
				</code></div>
							
			</li>
			
			
			<li title="How to use 'eager', 'ready', and threads">
			
				Here are four very similar examples that show how using threads and the attributes 
					<span class=eager></span> and <span class=ready></span> affect program flow.
				
				<div><code>
					;; the order of grabbing those files is potentially asynchronous (order doesn't matter), 
						;; so they can all potentially be grabbed at once	
					;; however output is assumed to be sequential (order matters) so this will always output 
						;; the length of A.txt first, B.pdf second, and C.html third
					;; example output if 
						;; A.txt is 100kb and takes 1 second to download, 
						;; B.pdf is 10 bytes and takes 1 ms to download, 
						;; C.html is 1000 bytes and  10 milliseconds to download, and
						;; we're ignoring the trivial amount of time the rest of the code takes:
					;;[	
						A.txt: 100000 - at 1 seconds
						B.pdf: 10 - at 1 seconds
						C.html: 1000 - at 1 seconds
					;;]
					
					getLength = fn host file:
						socket.connect[host 80].send['GET 'file' HTTP/1.0\r\n\r\n'].len	
						
					main:
						fra startTime = time[]	;; time in seconds
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							wout[file': 'length' - at: 'time[]-startTime' seconds/n']
				</code></div>
				<br><br><br>
				<div><code>				
					;; input is asynchronous here again, the default		
					;; since output is also asynchronous between threads (obviously), its sequential per thread, 
						;;  the lengths will be printed as those files come in
					;; As far as speed, this program won't complete any faster than the previous example, but the first file printed may happen faster
						;; since A.txt might not be the first file to download, a file that took less time to download will be printed first
					;; example output with same conditions:
					;;[	
						B.pdf: 10 - at 0.001 seconds
						C.html: 1000 - at 0.010 seconds
						A.txt: 100000 - at 1 seconds
					;;]	
					getLength = fn host file:
						socket.connect[host 80].send['GET 'file' HTTP/1.0\r\n\r\n'].len	
						
					main:
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							thread: wout[file': 'length' - at: 'time[]-startTime' seconds/n']
				</code></div>
				<br><br><br>
				<div><code>	
					;; input is now marked as 'eager' meaning that those files are pulled in place
					;; even though output is running in separate threads, the eager lengths[file] setting will mean that 
						;; the output is forced to be sequential (A.txt first, B.pdf second, and C.html third)
					;; This way will definitely be slower since the files can't download in parallel
					;; example output with same conditions:
					;;[	
						A.txt: 100000 - at 1.011 seconds
						B.pdf: 10 - at 1.011 seconds
						C.html: 1000 - at 1.011 seconds	
					;;]				
					getLength = fn host file:
						socket.connect[host 80].send['GET 'file' HTTP/1.0\r\n\r\n'].len	
						
					main:
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							eager lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							thread: wout[file': 'length'/n']
				</code></div>
				<br><br><br>	
				<div><code>	
					;; the input is now marked 'ready' and so is ready whenever the system wants to get it - at best (and in this case) 
						;; that means compile-time
					;; the output is still asynchronous, but it wouldn't matter if it wasn't - the running time and output would be the same
					;; This way is the fastest since you don't have to do as much work at runtime (in this case its pretty much instant)
						;; The output may still be sequential (as shown), but that isn't required
					;; example output with same conditions:
					;;[	
						A.txt: 100000 - at 0 seconds
						B.pdf: 10 - at 0 seconds
						C.html: 1000 - at 0 seconds	
					;;]	
					getLength = fn host file:
						socket.connect[host 80].send['GET 'file' HTTP/1.0\r\n\r\n'].len	
						
					main:
						var lengths = {}
						df {"A.txt" "B.pdf" "C.html"} file:
							ready lengths[file] = getLength['www.w3.org' file]
							
						df lengths length file:
							thread: wout[file': 'length'/n']
				</code></div>
				
			</li>
			
			
			<li title="Demonstrating the power of lima's map, group, and slice operators">
				<p>	Though some of these things would be better to be done in more than one line, 
						this demonstrates how Lima uses some basic constructs to describle an infinity of possibilities.
					Going through the equivalents for <a href="http://php.net/manual/en/ref.array.php">PHP's associative array functions</a>:
				</p>
				<div><code>
					;; array_change_key_case(input, CASE_UPPER)
					input.map[k.upper v]
					
					;; array_chunk(input, size)
					input.group[k/&#173;/size]	;; keys preserve, so if you don't want that then do input.group[k/&#173;/size].map[v.sort[k2:k2]]
					
					;; array_combine(keys, values)
					keys[[ values[c] v]]	;; values must be a list of elements
					
					;; array_count_values(input)
					input.group[v].map[v[0] v.len]
					
					;; array_diff_assoc(array1, array2, ....)
					array1[[ !({k:v} <<= array2 $ {k:v} <<= array3 $ ....) ]]
					
					;; array_diff_key(array1, array2, array3)
					array1[[ ! (k.in (array2.keys & array3.keys)) ]]
					
					;; array_diff_uassoc(array1, array2, keyCompareFunc)
					array1[[ !(array2{[v2 k2: keyCompareFunc[k v k2 v2]]}.join[a$b]) ]] 	
					
					;; array_diff_ukey(array1, array2, keyCompareFunc)
					array1[[ !(array2{[v2 k2: keyCompareFunc[k k2]]}.join[a$b]) ]] 	
					
					;; array_diff(array1, array2)
					array1[[ !(v.in array2) ]]
					
					;; array_fill_keys(keys, value)
					keys[[k: value k]]
					
					;; array_fill(5, 10, value)
					(5<span class=rangeOperator></span>14){[v:value]}
					
					;; array_filter(input, callback)
					input[[ callback[v] ]]
					
					;; array_flip(trans)
					trans[[v k]]
					
					;; array_intersect_assoc(array1, array2, ....)
					array1[[{k:v} << array2.cat[....]]]
					
					;; array_intersect_key(array1, array2, ....)
					 array1[[k.in array2.cat[....].keys]]
					
					;; array_intersect_uassoc(array1, array2, ...., compareFunc)
					array1[[ array2.cat[....].map[] ]]
					
					;; array_intersect_ukey($array1, $array2, ...., $compareFunc)
					array1[[ {k:v} << array2 $ {k:v} << array3 $ .... ]]
					
					;; array_intersect($array1, $array2, $array3, ....)
					array1[[ v.in array2 & array3 & ..... ]]
					
					;; array_key_exists($key, $array)
					array[key] != nil
					;; or
					key.in array.keys
					
					;; array_keys($array, $value, true)
					array[[v==value]].keys
					
					;; array_map($callback, $array)
					array[[ callback[v] ]]
					
					;; array_merge_recursive($array1, $array2, ....)	
					;; There is no simple equivalent to this difficult-to-understand php function - and there shouldn't be.
					
					;; array_merge($array1, $array2, ....)
					;; Like array_merge_recursive, this method doens't make any damn sense, but here it is:
					fn[x arrs...:	
						var result = x
						df arrs arr:
							df arr v k:
								if IsValidIndex[k]:
									result.ins[=v]
								 else:
									if result[k] == nil: 
										result[k] = v
									 else:
										result[k] = {k: {result[k] v}
																		
						IsValidIndex = fn x:
							ret x.in 0..00
					][array1 array2 ....]
					
					
					;; array_multisort($array1, $array2) // heres another poorly designed php function
					array1.sort[]
					array2.sort[] ;; why do you need to sort them in one function? Cause you're function names are so verbose?
					
					;; array_pad($input, $padSize, $padValue)
					df 0..padSize v: 
						if input[v] == nil: input[v]=padValue	;; that wasn't so hard was it?
						
					;; array_pop($array)
					array.cut[array.len-1]
					
					;; array_product($array)
					array.join[a*b]
					
					;; array_push($array, $val1, $val2, ....)
					array.cat[= {val1 val2 ....}]
					
					;;array_rand($input)
					input[rand]
					
					;; array_rand($input, $num)
					0..num[[ input[rand] ]]
					
					;; array_reduce($array, $function, $initial) 
					array.join[initial function[a b]]
					
					;; array_replace_recursive($array, $array1, ....)
					fn[x arrs...:	
						var result = x	;; create copy
						df arrs arr:
							df arr v k:
								if IsList[result[k]] & IsList[v]: ;; if both valures are lists
									result[k] = thisfn[result[k] v]
								 else:
									result[k] = v
									
						var IsList = fn x:
							ret x?.IterList != nil
					][array array1 ....]
					
					;; array_replace($array, $array1, ....)
					fn[x arrs...:	
						var result = x
						df arrs arr:
							df arr v k:
								result[k] = v
					][array array1 ....]
					
					;; array_reverse($array)			;; don't preserve keys
					array.keys.sort[-k]	;; reverse keys
					array.sort[k]		;; then rekey
					
					;; array_reverse($array, true)		;; preserve keys
					array.sort[-k]		;; assuming keys are currently in order
					array.keys.sort[-k]	;; no assumptions
					
					;; array_search($needle, $haystack, true)
					haystack[[v == needle]].keys[0]
					
					;; array_shift($array)
					array.cut[0]
					
					;; array_slice(array, offset, length, false)	;; don't preserve keys
					array[[k.in offset..(length-1)]].sort[k]
					
					;; array_slice(array, offset, length, true)		;; preserve keys
					array[[k.in offset..(length-1)]]
					
					;; array_splice($array, $offset, $length)
					array.cut[[k.in offset..(length-1)]]
					
					;; array_splice($array, $positiveOffset, $positiveLength, $replacements)
					df array[[k.in positiveOffset..(positiveLength-1)]] v k c: v = replacements[c]
					
					;; array_splice($array, $negativeOffset, $negativeEnd, $replacements)
					df array[[k.in (array.len-negativeOffset)..(array.len-negativeEnd)]] v k c: v = replacements[c]
					
					;; array_sum
					array[v+v2]
					
					;; array_udiff_assoc($array1, $array2, ...., $compare)
					array1[[ !( array2[[k2 v2: k==k2 & compare[v v2] ]].join[a&b] $ ....) ]]
					
					;; array_udiff_uassoc($array1, $array2, ...., $dataCompare, $keyCompare)
					array1[[ !( array2[[k2 v2: keyCompare[k k2] & dataCompare[v v2] ]].join[a&b] $ ....) ]]	
					
					;; array_udiff($array1, $array2, ...., $compare)
					array1[[ !(array2[[v2: compare[v v2] ]].join[a&b] & ....) ]]
					
					;; array_uintersect_assoc($array1, $array2, ...., $compare)
					array1[[ array2[[v2 k2: k==k2 & compare[v v2] ]].join[a&b] & .... ]] 
					
					;; array_uintersect_uassoc($array1, $array2, ...., $dataCompare, $keyCompare)
					array1[[ array2[[v2 k2: dataCompare[k k2] & keyCompare[v v2] ]].join[a&b] & .... ]] 
					
					;; array_intersect($array1, $array2, ...., $dataCompare)
					array1[[ array2[[v2: dataCompare[v v2] ]].join[a&b] &  ..... ]]
					
					
					;; array_unique(array)
					array.sort[v][[!({v}<s)]]
					
					;; array_unshift(array, var1, var2, ....)
					array.=ins[0 {var1 var2}]
					
					;; array_values(array)
					array.map[v c]
					
					;; array_walk_recursive
					- no short equivalent
					
					;; array_walk(array, callback, other)
					array.=map[callback[v k other] k]
					
					;; array(....)
					{....}
					
					;; arsort(array)
					array.keys.sort[-array[v]] ;; integers
					array.keys.sort[array[v]].sort[-k] ;; anything
					
					;; asort(array)
					array.keys.sort[array[v]]
					
					;; compact(varname, ...)
					thisfn[[k.in {varname ....}]]
					
					;; count(array)
					array.len
					
					;; extract(var_array)
					use varArray
					
					;; in_array(needle, haystack)
					{needle} < haystack
					
					;; krsort(array)
					array.keys.sort[v].sort[-k]
					
					;; ksort(array)
					array.keys.sort[v]
					
					;; list(a, b, c) = array('a','b','c')
					{a b c} = {'a' 'b' 'c'}
					
					;; natcasesort(array)
					array.map[v.lower].fsort[v.natcmp[v2]<0]
					
					;; natsort(array)
					array.fsort[v.natcmp[v2]<0]
										
					;; range(low, high, step)
					(low/step...high/step){[v*step]} 
					
					
					
					;; prev, pos, current, next, reset
					;;[
					function testArrayIteratorfunctions() {
						$array = array('step one', 'step two', 'step three', 'step four');
						
						// by default, the pointer is on the first element
						echo current($array) . "<br />\n"; // "step one"						
						
						next($array);	// skip two elements
						next($array);
						echo current($array) . "<br />\n"; // "step three"
						
						prev($array);	// rewind one
						echo current($array) . "<br />\n"; // "step three"
						
						// reset pointer, start again on step one
						reset($array);
						echo current($array) . "<br />\n"; // "step one"
					}
					;;]
					
					testArrayIteratorfunctions = fn:
						var cur=0
						var array = {'step one' 'step two' 'step three' 'step four'}
						var i = array.iterList	;; grab array's iterList, to iterate in the same order df would
						
						;; echo first element
						wout[array[i[cur]] '<br />/n']
						
						cur+=2	;; skip two elements
						wout[array[i[cur]] '<br />/n']
						
						cur--	;; rewind one
						wout[array[i[cur]] '<br />/n']
						
						cur = 0	;; reset index, start again on 'step one'
						wout[array[i[cur]] '<br />/n']
					
					
					;; rsort(array)
					array.sort[-v] ;; numbers
					array.fsort[!fn[ret v < v2][v v2]] ;; strings
					
					;; shuffle(array)
					array.sort[rand[]]
					
					;; sizeof(array)
					array.len
					
					;; sort(array)
					array.sort[v]
					
					;; uasort(array, cmp_function)
					array.keys.fsort[cmpFunction[array[v] array[v2]]]
					
					;; uksort(array, cmp_function)
					array.fsort[cmpFunction[k k2]]
					
					;; usort(array, cmp_function)
					array.fsort[cmpFunction[v v2]]
					
				</code></div>
			</li>
			
			
			
			<li title="An example of Lima's terseness vs python">
				<p>	A program that simple takes each line and creates a new file where each line is labeled with line numbers.
				</p>
				
				<h4>Python</h4>
				<div><code>
					out = open('uid list'+str(absoluteCount)+'.txt','w')
					with open('mif_retarget_fbid_12_12_11.csv','r') as f:
					    for line in f:
							line = lines[n]
							out.write("Line "+str(n+1)+"'"+line+"'\n")
							if n%50000 == 0:
								out.close()
								out = open('uid list' + str(int(n/50000)+1) + '.txt','w')
					out.close() 
				</code></div>
				
				<h4>Lima</h4>
				<div><code>
					var input = file['mif_retarget_fbid_12_12_11.csv']					
					df input.split['/n'] line n: 
					   file['uid list' n/&#173;/50000+1 '.txt'] .cat[= "Line " n+1 ": '"line"'/n"]
				</code></div>
				
				<br>
				<p>	Because Lima automatically handles file closure when there are no more references to that file, the programmer doesn't have to deal with that.
					And because Lima will optimize access to the output file, a reference to the file doesn't need to be explicitly stored, 
						and can be conceptually opened on every iteration of the loop 
						(although any reasonable optimization will leave the file open over multiple iterations).
				</p>
			</li>
			
			<li title="Lima's concurrency vs Lua's concurrency">
				
				Taking an example, from lua's manual:
				
				<h4>Lua</h4>
				
				<div><code>
					function downloadAndPrintLength (host, file)
					  local c = assert(socket.connect(host, 80))
					  local count = 0    -- counts number of bytes read
					  c:send("GET " .. file .. " HTTP/1.0\r\n\r\n")
					  while true do
					    local s, status = receive(c)
					    count = count + string.len(s)
					    if status == "closed" then break end
					  end
					  c:close()
					  print(file, count)
					end	
					
					function receive (connection)
					  connection:timeout(0)   -- do not block
					  local s, status = connection:receive(2^10)
					  if status == "timeout" then
					    coroutine.yield(connection)
					  end
					  return s, status
					end
					
					threads = {}    -- list of all live threads
					function get (host, file)
					  -- create coroutine
					  local co = coroutine.create(function ()
					    downloadAndPrintLength(host, file)
					  end)
					  -- insert it in the list
					  table.ins(threads, co)
					end
					
					function dispatcher ()
					  while true do
					    local n = table.getn(threads)
					    if n == 0 then break end   -- no more threads to run
					    local connections = {}
					    for i=1,n do
					      local status, res = coroutine.resume(threads[i])
					      if not res then    -- thread finished its task?
					        table.remove(threads, i)
					        break
					      else    -- timeout
					        table.ins(connections, res)
					      end
					    end
					    if table.getn(connections) == n then
					      socket.select(connections)
					    end
					  end
					end
					
					host = "www.w3.org"
					
					get(host, "/TR/html401/html40.txt")
					get(host, "/TR/2002/REC-xhtml1-20020801/xhtml1.pdf")
					get(host, "/TR/REC-html32.html")
					get(host, "/TR/2000/REC-DOM-Level-2-Core-20001113/DOM2-Core.txt")
					
					dispatcher()   -- main loop
				</code></div>
				
				
				<h4>Lima</h4>
				
				<div><code>
					downloadAndPrintLength = fn host file:
						var c = tcp.connect[host 80]
						c.send['GET 'file' HTTP/1.0\r\n\r\n']	;; sending a request
						wout[file c.len]						;; prints the length of the data returned (waits until the connection is closed from the other end, since c.len isn't known until then)
						
					get = fn host file: thread:
						downloadAndPrintLength[host file]
					
					main = fn:
						host = 'www.w3.org'
						get[host "/TR/html401/html40.txt"]
						get[host "/TR/2002/REC-xhtml1-20020801/xhtml1.pdf"]
						get[host "/TR/REC-html32.html"]
						get[host "/TR/2000/REC-DOM-Level-2-Core-20001113/DOM2-Core.txt"]
				</code></div>
				
				<br>
				<p>The vast difference in size of these implimentations comes from Lima's simple thread syntax and automatic optimization 
					(such that a thread may use coroutine-style under the hood), 
					Lima's ubiquitous list syntax that is used for any list-like entity, 
					and implicit futures (like <code>c.len</code> which blocks the execution of that thread until it is known).
				</p>
			</li>
			
			<li title="Additional reading">
				<h5>Encoding issues</h5>
				<ul><li><a href="http://www.ibm.com/developerworks/java/library/u-secret.html">Explanation of unicode's shortcommings</a></li>
					<li><a href="eprints.utas.edu.au/1527/1/r6116.pdf">Explains a way to encode more conscicely than Unicode</a></li>
					<li><a href="http://blog.grayproductions.net/articles/understanding_m17n">Explanation of character codings in the context of Ruby</a></li>
				</ul>
			</li>
			
		</ol>

	</div>
	
	<div class="mainBox mainTitle" title="Things to mention somewhere">
		<code pretty="no">	

			* for references, think about how you want to deal with, say, a function that takes an int when you want to pass 
				it a variable that is a reference to an int.
				* Should an int variable be able to hold a reference to an int?
					* seems like not.. but.. this means that passing reference to functions has to be explicit - maybe this is a good thing


			* Where do resouce files go (that are loaded by <code>pack</code>)
				* if you want to put them in a central place (how do you decide where that is?)
				* if you want to put them in a private place (how do you indicate where that should be?)
				
			* <code>depend</code> is intended to allow a lot of flexibility, but it should be able to:
				* give a reasonable request list that the user can be prompted to allow
				* give a list of things that can't be done (must be done by the user) to run the program
			
			
			* idea: interfaces with renamable and non-colidable member names
				* Some way to tag an object as implementing an interface
				* as long as that interface is herited in the same way other objects are, 
					the interface members can be renamed, and methods that use that interface will know to use the renamed member
				* Interfaces with members named the same thing can use renaming to effectively resolve conflicting names (just like with normal heritance)
				* Standard interfaces:
					* map - anything that can be read from like a list or function
						* list (impliments map) - anything that can be read from or written to like a list
				* Relatedly, a meta function (meta[object]) can be used to grab an object's meta data
					* this meta data can contain the members an object should have and their constraints (among other things)
					* interfaces would have the meta data for members, but wouldn't neccessarily have the members themselves
				
			* how you do you initialize things in a library
				* say you want to have a library that adds a time standard - how do you do that?
				* maybe lima needs some kind of static block like java has - yes
					* call it 'init' or something
			* Note somewhere that since lima uses the same mechanism for inheritance and module dependencies,
				changing module members (global variables) in one module will not necessarily affect that module member used by another module
				* e.g. if A uses B, and B uses C, then B changes C.variable - A will not see that change.
				* if A uses B, and B mixes in C, an error about conflicting names will be raised
				
			* Need some rules for what meta information is inherited with you mix or use an object in a new one	

			* Note somewhere that since Lima uses inheritance to include modules, modules included by multiple parts of the system
				can actually be independantly inherited
				* For example, lets say module A uses module B and , and module B .....
				* Where are standard (predefined) objects defined? Can they be overloaded? How does that compare to using normal modules?
				* the standard library should be automatically inherited (with use), and if you don't want to, you need to explicitly inherit (part of) it.
			
			
			
			*  make sure you can do all the things these functions help you do: 
				* http://docs.python.org/release/2.5.2/lib/module-os.html
			
			* have a way to interact with a list of environment variables
				* Since environment variables are inherited from their parent process, 
					you probably need a different way to interact with the env variables passed to you, and the ones set on the system
			  
			* need to figure how I intended people to be able to use floating point
				* since most numbers (like .1) aren't exactly representable in floating point, they need to be approximated
				* How should this be expressed? Do i Need something like 3.5f, or should i do something like float.nearest[3.5] or what?
				* Floating point should probably be left to the normal error stuff, but for other operations, you might want to specify acceptable error:
			* Think about the ability to specify the intended precision of real-number operations
				* kinda like building your own custom floating point logic
				* e.g. you might say the maximum error of value x at this point in the code should be less than Y%
			
			* lima paths (pathl) for file paths when opening a file with the <code>file</code> object.
				* should this get rid of the concept of a protocol? 
					It doesn't really need to handle http urls, right? Since those are standard across platforms.
				* grab info on this from lima-future
		
			
			The word inheritance is thrown around and should be standardized. 
			I like using the word inheritance, but in the "Inheritance in Lima" section, 
				maybe refer to normal inheritance as "true inheritance"
			
						
		
			* create an interface and/or parent class for all the sockety type things (socket, tcp, udp, http, etc) so you don't have redefine things like listen and close
					
			
			* Idea: How can you make Lima 100% portable? 
				* Disallowing the program to know what system its operating on, and disallowing non-portable built-in functionality
						would make every program portable.
					* However, this would limit many things
					* A way to get around this: feature querying
					* Another way to get around this: have a special control flow operator that only takes in discrete 

			
			* how do you do strip or trim in lima?
			
			* split should be able to split by more arbitrary sequences
				* probably requires a parser to be passed in to parse delimiters
			
			
			* organize concepts by type so they're more easily searchable	
			
			
			* tilde operator should be defined up with operators that are defined for everyone
			
			* writing base-x numbers should be distinguished from using operators
				* or should it? 
				* if not, the ability to do 16x4AF5 means that you could never use the x as a variable
				* seems like <number><word><something> should be a construction that can be defined (number postfixes)
					* how do you define <something>? 
					* can it only be a single letter?
						* if it can be multiple letters long, how do you distinguish between say 64x 
			
			
			* how do you describe a probability map that doesn't have full information?
				* Like lets say you know that a value from 0 to 3 is returned 90% of the time, but you're not sure what happens the other 10% of the time
				* It might have to provide a range of possibilities, especially if you want the probabilities over a range that covers 
					some knowns and some unknowns, for example (using the same 90% 10% example) if you want to know the probability that you get 
					a value from 0 to 5, the answer would be between 90% and 100%.
				* this goes back to an object representing a set of values
					* numbers could be extended to be sets, and operations like + and * can operate on all the members,
						while testing operations like < and == can mean "are all the members less than?" or "are all the members equal to?"
						and you'd have to have separate operations to describe "are some of the members less than" etc.
			
			
			* Need a mechanism to inject attributes into used modules so that you can do stuff like turn off pack's default distro setting
			    * on that note, make pack's distro setting an attribute rather than a param
			
			* dir still needs to have dir.children instead of dir.files and dir.folders 
				* Why?

			* when is the destructor called exactly?
				* What happens if you have a pointer pointing to a variable, and that pointer is passed out 
					but the original variable goes out of scope?
					* probably those should be strong references
				* when might the garbage collector be called (does lima need a garbage collector?)
					* might need one to resolve circular references
					* if there is a garbage collector, we need some way to give constraints on when a variable can be unmade (destructed)
					* We should be able to say stuff like:
						* A. when the variable will never be needed again
						* B. after the variable will never be needed again (after A), and all functions that held it as an upvalue have been destructed
						* C. After C, at the program's earliest convenience not later than X seconds, etc
				* What happens when an exception is thrown from a destructor?
					* in C, the destructor throws an exception, but any desctructors started because that object goes out of scope
						will also run. If they throw exceptions as well, then the first one may obscure the other ones
							* this is similar to what might happens whens a finally block throwns an exception
					* Probably want to set one exception as the cause of the other in the finally block
						* Actually this doesn't make semantic sense, there could be another (actual) cause, and the original exception didn't really cause it
						* maybe instead use the same exception handling semantics used for threads
							* essentially, the finally block and destructors would be handled like threads that the spawning thread waits for
							* this would even work for destructors called by the garbage collected, since that would really be in a different thread.

			figure out how to have make be called by default on child objects without explicitly being called
			* this would probably mean that to override how that works, the child would have to write its own make method
			  * maybe this isn't even enough - maybe even if it specifies its own make method, the original one will be automatically run first unless the make methods calls its parent make
			  * what do you do in situations where a different object is returned? Probably have to abandon the parent's make statement
			
			
			
			
				Character encodings:
			
			* rethinking encodings yet again:
				* All that should be needed to specify a character encoding is how to encode it into binary, and decode it from binary
					* transcoding between encodings should not be strictly necessary (because of how LimaEncoding works)
					* this requires a way to represent all characters in LimaEncoding, generally: encoding+bitSequence
						* For encodings that are static (and thus unique) per character (context-free), the bitSequence will simply be that static bitSequence for that character
							* if unicode is the default, then you can assume something like utf-8 or utf-32
						* For encodings (like LimaEncoding) that are contextful (since it stores information at the front about what certain bit sequences mean),
							encodings may not be unique per character, but the encoding should generate a unique canonical minmized one-character string as the bitSequence
							* E.g. character['utf-8' 32.bits] would be the space character	
			
			* Need a way to get float and double bits objects
	
			* Have a string method ascii that is an alias of string.encodings['ascii']
			
			* both of these things require parameterized encodings - how does that fit into the system?:
				* endianness should also be completely abstracted away except when encoding and decoded
				* also abstracted should be the encodings that differentiate OS native newlines
					
			* best practice: for encodings that have an endianness, require it to be passed in (don't have a default)
			
			* What if you wanted to cut a word-space (extended space) in half? 
				* maybe you need a way to get the width of a character?
				* probably need to - otherwise how would you render it in the first place?
			* decoding from charactersets with tabs needs to define what a tab is: ie how many spaces
				
			* note somewhere that word, line, and sentence boundaries are not supported in any way by lima
				* that sort of stuff, like fonts, should be handled by something more langauge specific or markup specific way
					- not by a character set
			
			* Have lima standardize a way of storing meta data on any filesystem. 
				* For filesystems that have meta data built in, use that
				* For ones that don't, store a hidden file in the folder that lists meta data for each file in the folder
				* then Lima can use this to store encodings of files on any machine with a filesystem
				
			* Parameterized encodings can be standardized as well, they can use lima-like semantics and lison
				* e.g. "WindowsText['Shift_JIS' {param2A:3 param2B: 'whatever' param2C: {2 3 4}}]" might give an encoding 
					that transcodes windows newlines, then encodes in shift_js with a bunch of other parameters
				
			
			* url encoding and decoding should be one of those parameterized character encodings
			
			* All string codecs are expected to be able to translate as many of their characters as possible to 
						Unicode codepoints.
			
		</code>
	</div>
	
	
	<script type="text/javascript">
		
		function in_array(needle, haystack, argStrict)
		{	var test;
			if(argStrict)
			{	test = function(a,b)
				{	return a===b;
				};
			}else
			{	test = function(a,b)
				{	return a==b;
				};
			}
			
			for(n in haystack)
			{	if(test(needle,haystack[n]))
				{	return true;
				}
			}
			return false;
		}
		// objectList is for internal use only (to prevent infinite loops)
		function printr(theObj, maxdepth, curDepth)
		{	if(curDepth == undefined)
			{	curDepth=0
			}
			if(maxdepth != undefined)
			{	if(curDepth >= maxdepth)
				{	return "more...";
				}	
			}
			
			var isObj;
			if((typeof theObj) == "array" || (typeof theObj) == "object" || (typeof theObj) == "function")
			{	isObj = true;
			}else
			{	isObj = false;
			}
			
			if(isObj)
		    {	result = "<ul>";
		    	for(var p in theObj)
				{	result += "<li>["+p+"] => "+printr(theObj[p])+"</li>";
		    	}
		    	result += "</ul>";
		    	return result;
		  	}
		  	else
		  		return theObj;
		}
		function regex_escape(text) 
		{	if (!arguments.callee.sRE)
			{	var specials = ['/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\'];
				arguments.callee.sRE = new RegExp('(\\' + specials.join('|\\') + ')', 'g');
			}
			return text.replace(arguments.callee.sRE, '\\$1');
		}
		function replaceAll(theString, replaceThis, withThis)
		{	return theString.replace(new RegExp(regex_escape(replaceThis), 'g'), withThis);
		}
		function trimFront(stringToTrim)
		{	return stringToTrim.replace(/^\s+/g,"");
		}
		function trimBack(stringToTrim)
		{	return stringToTrim.replace(/\s+$/g,"");
		}
		function trimBackSpacesAndTabs(stringToTrim)
		{	return stringToTrim.replace(/[ \t\r]+$/g,"");
		}
		function trim(stringToTrim)
		{	return stringToTrim.replace(/^\s+|\s+$/g,"");
		}
		$.fn.unwrap = function()
		{	$(this).parent().replaceWith
			(	$(this).parent().html()
			);
		};
		function realhtml(jqueryElement, callback)
		{	if(jQuery.browser.msie == true)
			{	jqueryElement.wrap("<pre></pre>");
				setTimeout(function()
				{	callback(jqueryElement.html());
					jqueryElement.unwrap();	
				},0);
			}else
			{	callback(jqueryElement.html());
			}
		}
		function arraykeys(array)
		{	var keys = [];
			for(e in array)
			{	keys[keys.length] = e;
			}
			return keys;
		}
			
		function getCollapsableElements(elements)
		{	return {	
				header: elements.children(".collapsable_header_elipsis"), 
				content: elements.parent().children(".collapsable_content")
			};
		}
			
		function openCollapsableElements(elements)
		{	var parts = getCollapsableElements(elements);
			parts.header.hide();
			parts.content.show();
		}
		function closeCollapsableElements(elements)
		{	var parts = getCollapsableElements(elements);
			parts.header.show();
			parts.content.hide();
		}	
		
		var parserTerms = // terms used to describe basic constructs the parser uses to parse a lima program
		{	"Lvalue":"",	// Left value
			"Rvalue":"",	// Right value
			"Ivalue":"",	// Initialized Lvalue
			"statement":"",
			"statements":"",
			"opsym":"",		// operator symbol
			"parameters":"parameters",
			"Qcond":"Qcond",	// ? condition
			"Qlist":"Qlist",	// list of ? conditions
			"condition":"condition",	
			"whileEndStatements": "end-statements",
			"if_else":"else",
			"integer":"",
			"alphanumeric":"",
			"base":"",
			"decimal":"",
			"declaration":"",
			"escapedCharacters":"",
			"word":"",
			"definitionBlock":"definition-block",
			"variableName":"",
			"cullBlock":"cull-block",		
			"sliceConditional":"",
			"entryPoint":"entry-point"
		};
		var wordTerms = // terms used to describe concepts in Lima
		{	"element":"",
			"object":"",
			"listobj":"list-object",
			"member":"", "pseudoMember":"",
			"module":"",
			"private":"", 
			"eager":"",
			"final":"",
			"ready":"",
			"threadlocal":"",
			"external":"",
			"constant":"",
			"typeValue":"",
			"characters":"",
			"privileged":"privileged",
			"operatorToken":"",
			"label":"",
			"threadPrio":"",
			"target":"",
			"argument":"",
			"parameter":"",
			"limaPath":"Lima path",
			"catchFinallyBlock":"finally block", 
			"catchExceptionBlock":"catch-exception block",
			"sideEffectSurpression":"Side-effect surpression",
			"exceptionNamespace": "exception-namespace",
			"splat":"",
			"mapStatement":"",
			bracketBlock:"bracket-block",
			indentationBlock: "indentation-blocks",
			undentedCharacter: "undented character",
			argument: "",
			implicitVariable: "implicitly-declared variable"
		};
		var literalWordsA = // literal words that can be used in code (constants, predefined variables/functions/objects, etc)
		[	"int", "float","double","fra", "floplex","floplexU", "fraplex","fraplexU", 
			"string",
			"bool",
			"type",
			"contin", 
			"var",
			"list",
			"enum",
			"fixed", "static",
			"new", "mal", "del",
			"typeset",
			"if", "df", "while", "catch", "thread", "when",
			"fn", "attribute",
			"file", "fileT",
			"dir",
			"win",
			"graph", "tree",
			"ref", 
			"nil",
			"time", "cpuTime",
			"wout", "rin", "rawrin", "sain", "tfor",
			"deg",
			"curTime", "curTicks", "ticksPerSecond",
			"garbo",
			"endian",
			"compiler",
			"rand", "arb",
			"sign",
			"log", "integrate", "d", "pd", "lim", "solve",
			"sizeof",
			"date",
			"jump",
			"false", "true",
			"hiZ",
			"const",
			"use", "mix",
			"pi",
			"staticSize", "dynamicSize",
			"ptr",
			"complex",
			"operator",
			"TPS",
			"make",
			"break", "continue",
			"self",
			"ret",
			"unmake",
			"compare",
			"override",
			"parse",
			"custom",
			"realCustom",
			"this"
		]
		var literalWordsB = 
		{	"infinity":"00",
			"dotOperator":" . ",
			"complex_im":"im",
			"complex_re":"re",
			"postExclamationOperator":"!",
			"preExclamationOperator":"!",
			"bracketOperator":"[ ]",
			"doubleBracketOperator":"[[ ]]",
			"clawBracketOperator": "{[ ]}",
			"slice":"slice",
			"splatOperator":"...",
			"rangeOperator":"..",
			"clawOperator":"claw-operator",
			"nilCoalescer": "nil-coalescense operator"
		};
		
		var attributes = 
		{	"mutator":{backgroundColor:"rgb(255,225,225)"}
		};
		
		
		function getCopiedNoteName(classList)
		{	if(classList.length != 2)
			{	throw("copiedNote has too many or too few css classes  ("+classList+"), should have just 2");
			}else if(classList[0] == "copiedNote")
			{	return classList[1];
			} else
			{	classList[0];
			}
		}
		
		function openPopup(url, width, height, name) {
			if(name === undefined) name = '';
		    window.open(url, name, "width="+width+",height="+height);
		}
		
		$(function() {
			var splitLocation = window.location.href.split('#');
			
			try {
			var createTitleList = function(node, parentNode) {
				var name = node.attr("title");
				var liNode = $("<li><div class='contentsButton' value='"+name+"'>"+name+"</div></li>");
				
				var contentsButtons = liNode.find('.contentsButton');
				
				contentsButtons.click(function() {
					var theNode = $('div[title="'+name+'"]');	// its fucked up that I can't just use the node thats passed in the upper scope - wtf is going on?
					if(theNode.is(":visible")) {
						var topOffset = theNode.offset().top;	
					} else {
						var topOffset = parentNode.offset().top;		
					}
					
					window.scrollTo(0,topOffset-50);	
				});
				
				contentsButtons.bind("contextmenu",function(e) {
    				$('.rightClickMenu').remove();
					e.preventDefault();

				    var menu = $("<div class=rightClickMenu>Open in New Window</div>");
				    menu.css({
						position: 'absolute', left: e.pageX, top: e.pageY
					});
					
					var closeFunction = function() {						
						menu.remove();
						$("body").unbind("click",closeFunction);	
					}
					menu.click(function() {
						openPopup(splitLocation[0]+"#"+name, 1000, 1000);
						closeFunction()
					});
					$("body").bind("click",closeFunction);					
					$('body').append(menu);
					return false;
				});
				
				return liNode;	
			};
				
			// create contents
			$(".mainBox.mainTitle").each(function() {
				var mainNode = $(this);
				var liNode = createTitleList(mainNode);
				
				var subBox1Ol = $('<ul></ul>');
				$(this).find('.subBox1').each(function() {
					var subLiNode = createTitleList($(this), mainNode);
					subBox1Ol.append(subLiNode);	
				});
				
				liNode.append(subBox1Ol);
				$("#contents").append(liNode);
			});
			
			
			var menuItem = splitLocation[1];	// grab value after hash
			$("#contents .contentsButton[value='"+menuItem+"']").click();	// jump to section
			
			$("#contentsButton").click(function() {
				$("#contents").toggle();
				
				var closeFunction = function() {
					$("#contents").hide();
					$("body").unbind("click",closeFunction);			
				};
				$("body").bind("click",closeFunction);
				return false;
			});
			
			// other stuff			
			
			var notesAlreadyCopied = [];
			$(".copiedNote").each(function()
			{	var noteName = getCopiedNoteName($(this).attr('class').split(' '));
				if(noteName in notesAlreadyCopied)
				{	throw("Multiple duplicate copiedNotes named '"+noteName+"'");
				}
				notesAlreadyCopied[notesAlreadyCopied.length] = noteName;
				var html = $(this).html();
				
				$("."+noteName).each(function() {
					if(!$(this).hasClass("copiedNote")) {
						$(this).html(html);	
						$(this).addClass("copiedNoteDuplicate");
					}
				});
				
			});
			
			function createCodeArea()
			{	$(this).html("<div"+/*" class=codeArea" +*/"><code>"+$(this).html()+"</code></div>");
				$(this).addClass("unbreakable").addClass("codeArea");
			}
			
			$(	".definitionTable tr td:first-child, "+
				".methodDefinitionTable tr td:first-child, "+
				".methodDefinitionTable2 tr td:first-child"
			).each(createCodeArea);
			$(".methodDefinitionTable").children().children().children(":nth-child(2)").each(createCodeArea);
			$(".definitionTable tr td:nth-child(2), .methodDefinitionTable tr td:nth-child(3), .methodDefinitionTable2 tr td:nth-child(2)").addClass("mainBox");
			
			$(".methodDefinitionTable").children().prepend("<tr><th>method</th><th>parameters</th><th>Description</th><tr>");
			$(".methodDefinitionTable2").children().prepend("<tr><th>parameters</th><th>Description</th><tr>");
			
			$(".normalTable tr td").addClass("mainBox");
			$(".normalTable tr td:nth-child(2)").css({"text-align":"center"});
			$(".normalTable tr td:nth-child(1)").addClass("operationsLevel");
			
			
			$("table").each(function()
			{	//table	  tbody		tr					td	
				$(this).children().children(":odd").children().css({"background-color":"rgb(240,255,250)"});
				$(this).children().children(":even").children().css({"background-color":"rgb(233,247,255)"});
			});	
			//$("table:not(td > table) > tbody > tr:odd > td").css({"background-color":"rgb(233,247,255)"});
			//$("table tr:odd td").css({"background-color":"rgb(233,247,255)"});
			//("table tr:even td").css({"background-color":"rgb(240,255,250)"});			
			
			$(".more").html("<b class=noncode>. . .</b>");
			$(".param").each(function()
			{	$(this).html("<code><i>"+$(this).html()+"</i></code>");
			});	
			
			$(".taba").html("&nbsp;&nbsp;");
			$(".tab").html("&nbsp;&nbsp;&nbsp;");
			
			function findMinIndentForCodeSpace(text) {
				var t = text.split('');
				var result = "";
				
				var foundFirstNewline = false;
				for(n in t) {
					var c = t[n];
					if(foundFirstNewline) {
						if(c===' ' || c==="\t" || c==="\r") {
							result += c;
						}	else {
							break;
						}
					} else if(c === "\n") {
						foundFirstNewline = true;	
					} 
				}
				return result;
			}
			
			
			$("code").each(function()
			{	var minIndent = findMinIndentForCodeSpace($(this).html());
				
				var result = replaceAll(trim(trimBackSpacesAndTabs($(this).html())), "\n", "<br>");
				result = replaceAll(result, "<br>"+minIndent, "<br>");
				result = replaceAll(result, "{\t", "{&nbsp;&nbsp;");
				result = replaceAll(result, "[\t", "[&nbsp;&nbsp;");
				result = replaceAll(result, "\t", "&nbsp;&nbsp;&nbsp;");
				$(this).html(result);
				
				/*var parentDiv = $(this).parent('div');		// *if* the parent is a div, this will have a node
				if(	(parentDiv.parent('td').size() === 0 				// not directly under a table row, or
						|| ! parentDiv.parent('td').is(':first-child')		// not in the first table row, or
						|| ! parentDiv.closest('table').hasClass('definitionTable')	// that table is not a definitionTable
					) && $(this).siblings().size() === 0 )	{	// the code area has no siblings
					
					parentDiv.addClass('codeBox');
				}
				*/
			});
			
			$("code:not([pretty=no])").addClass("prettyprint");	// it seems this does something a bit asynchronously or something - make sure it runs far above prettyPrint(), or make some kind of lock so that prettyprint doesn't run until this is totally complete
			//$("code").addClass("lang-lima");

			$('a').attr("target","external");	// every link is a new window
			
			var DEBUG = false;
			if(DEBUG)
			{	var fullList = arraykeys(parserTerms).concat(arraykeys(wordTerms), literalWordsA, arraykeys(literalWordsB), ["param", "more"]);

				$("span").each(function()
				{	if(false == (in_array($(this).attr("class"), fullList)) )
					{	alert($(this).attr("class"));
					}
				});
			}
			
			function flattenToRealWord(assArray, key)	// flattens a key and a value into just a value
			{	var realWord;
				if(assArray[key] == "")
				{	realWord = key;
				}else
				{	realWord = assArray[key];
				}
				return realWord;
			}
			
			$(".subBox2").each(function(){	$(this).prepend("<h4>"+$(this).attr("title")+"</h4>");});	// titles
			
			
			
			// start uncollapsed
			function setupCollapsable(element, header, title, openAtStart, mainElementTag) {	
				if(openAtStart === undefined) openAtStart = true;
				if(header === undefined) header = element.get(0).tagName;
				if(mainElementTag === undefined) mainElementTag = element.get(0).tagName;
				
				element.html
				(	"<"+header+" class='collapsable_header clickable'>"+title+"<span class='collapsable_header_elipsis' style='display:none;'>...</span></"+header+">"+
					"<"+mainElementTag+" class='collapsable_content'>"+element.html()+"</"+mainElementTag+">"
				);
				
				element.children(".collapsable_header").click(function()
				{	var parts = getCollapsableElements($(this));
					parts.header.toggle();
					parts.content.toggle();
				});
				
				
				if(!openAtStart) {
					element.children(".collapsable_header").click();	
				}
			}
			
			
			//* An attempt to make the headings collapsable
			
			$(".mainBox.mainTitle").each(function(){	setupCollapsable($(this), "h2", $(this).attr("title")); });
			$(".subBox1").each(function(){	setupCollapsable($(this), "h3", $(this).attr("title"));});
			
			$(".example").each(function(){	
				setupCollapsable($(this), undefined, 'examples', false);
				$(this).addClass("codeBox");	
			});
			$(".details").each(function(){	
				setupCollapsable($(this), undefined, 'details', false);
			});
			
			
			$('.mainBox[title="Concepts"] li').each(function(){	setupCollapsable($(this), 'h3', $(this).attr("title"), false, 'div');});
			
			
			$("#openAll").click(function()
			{	openCollapsableElements($(".collapsable_header"));
			});
			$("#closeAll").click(function()
			{	closeCollapsableElements($(".collapsable_header"));
			});
			
			//$(".open").children(".collapsable_header:nth-child(1)").click();
			
			prettyPrint(function()	// prettify all stuffs that has the prettyprint class on it
			{	// Write special words
				for(n in parserTerms)
				{	var realWord = flattenToRealWord(parserTerms, n);	
					$("."+n).each(function()
					{	var innerWord = $(this).text();
						if(innerWord=="")
						{	innerWord = realWord;
						}
						$(this).html("<code class=innerWord>"+innerWord+"</code>");
					});
				}
				var temporaryDebugVariable = true;
				for(n in wordTerms)
				{	var realWord = flattenToRealWord(wordTerms, n);	
					$("."+n).each(function()
					{	var innerWord = $(this).text();
						//if(temporaryDebugVariable){temporaryDebugVariable = confirm ("'"+innerWord+"'");}
						if(innerWord=="")
						{	innerWord = realWord;
						}
						$(this).html("<i>"+innerWord+"</i>");
					});
				}
				for(n in literalWordsA)
				{	$("."+literalWordsA[n]).each(function()
					{	$(this).html("<code><b>"+literalWordsA[n]+"</b></code>");
					});
				}
				for(n in literalWordsB)
				{	var realWord = flattenToRealWord(literalWordsB, n);	
					$("."+n).each(function()
					{	$(this).html("<code><b>"+realWord+"</b></code>");
					});
				}
				for(n in attributes)
				{	$("."+n).each(function()
					{	$(this).html("<code><b>"+n+"</b></code>");
						$(this).css(attributes[n]);
					});
				}
				
				$("#contents .contentsButton[value='"+menuItem+"']").click();	// jump to section again (since things have changed since the last time we jumped)
				$('.loadingGif').remove(); // done loading
			});	
			
			} catch(e) {
				try {console.log("Got exception: "+e);}
				catch(f) {alert(f+" and "+e);};
			}			
		});
		
		if(jQuery.browser.msie == true)
		{	$(function()
			{	$("body").wrapInner
				(	'<div id="IEsucks"></div>'
				);
				$("#IEsucks").hide();
				$("body").prepend
				(	'<div style="width:800px;margin-left:20px;">'+
						'<br>'+
						"This page doesn't support Internet Explorer. If you'd like to see the page anyway, "+'<span class="clickable" onclick="'+"$('#IEsucks').show();"+'">click here</span>. For a better experience, please upgrade your browser:'+
						'<ul>'+
							'<li><a href="www.opera.com">www.opera.com</a></li>'+
							'<li><a href="www.firefox.org">www.firefox.org</a></li>'+
						'</ul>'+
					'</div>'
				);
			});
		}
	</script>
</body>
</html>

